function Lp(s,n){for(var i=0;i<n.length;i++){const o=n[i];if(typeof o!="string"&&!Array.isArray(o)){for(const f in o)if(f!=="default"&&!(f in s)){const d=Object.getOwnPropertyDescriptor(o,f);d&&Object.defineProperty(s,f,d.get?d:{enumerable:!0,get:()=>o[f]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(f){if(f.ep)return;f.ep=!0;const d=i(f);fetch(f.href,d)}})();var qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sx(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Th={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function Bp(){if(mg)return uo;mg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(o,f,d){var m=null;if(d!==void 0&&(m=""+d),f.key!==void 0&&(m=""+f.key),"key"in f){d={};for(var A in f)A!=="key"&&(d[A]=f[A])}else d=f;return f=d.ref,{$$typeof:s,type:o,key:m,ref:f!==void 0?f:null,props:d}}return uo.Fragment=n,uo.jsx=i,uo.jsxs=i,uo}var pg;function kp(){return pg||(pg=1,Th.exports=Bp()),Th.exports}var G=kp(),Mh={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function Fp(){if(yg)return Jt;yg=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function D(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,P={};function U(F,ot,ft){this.props=F,this.context=ot,this.refs=P,this.updater=ft||L}U.prototype.isReactComponent={},U.prototype.setState=function(F,ot){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ot,"setState")},U.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function Z(){}Z.prototype=U.prototype;function q(F,ot,ft){this.props=F,this.context=ot,this.refs=P,this.updater=ft||L}var at=q.prototype=new Z;at.constructor=q,H(at,U.prototype),at.isPureReactComponent=!0;var mt=Array.isArray,xt={H:null,A:null,T:null,S:null,V:null},Ct=Object.prototype.hasOwnProperty;function X(F,ot,ft,wt,bt,jt){return ft=jt.ref,{$$typeof:s,type:F,key:ot,ref:ft!==void 0?ft:null,props:jt}}function gt(F,ot){return X(F.type,ot,void 0,void 0,void 0,F.props)}function nt(F){return typeof F=="object"&&F!==null&&F.$$typeof===s}function Ft(F){var ot={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ft){return ot[ft]})}var It=/\/+/g;function _t(F,ot){return typeof F=="object"&&F!==null&&F.key!=null?Ft(""+F.key):ot.toString(36)}function Ut(){}function Gt(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Ut,Ut):(F.status="pending",F.then(function(ot){F.status==="pending"&&(F.status="fulfilled",F.value=ot)},function(ot){F.status==="pending"&&(F.status="rejected",F.reason=ot)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,ot,ft,wt,bt){var jt=typeof F;(jt==="undefined"||jt==="boolean")&&(F=null);var At=!1;if(F===null)At=!0;else switch(jt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(F.$$typeof){case s:case n:At=!0;break;case _:return At=F._init,K(At(F._payload),ot,ft,wt,bt)}}if(At)return bt=bt(F),At=wt===""?"."+_t(F,0):wt,mt(bt)?(ft="",At!=null&&(ft=At.replace(It,"$&/")+"/"),K(bt,ot,ft,"",function(Qn){return Qn})):bt!=null&&(nt(bt)&&(bt=gt(bt,ft+(bt.key==null||F&&F.key===bt.key?"":(""+bt.key).replace(It,"$&/")+"/")+At)),ot.push(bt)),1;At=0;var On=wt===""?".":wt+":";if(mt(F))for(var Qt=0;Qt<F.length;Qt++)wt=F[Qt],jt=On+_t(wt,Qt),At+=K(wt,ot,ft,jt,bt);else if(Qt=D(F),typeof Qt=="function")for(F=Qt.call(F),Qt=0;!(wt=F.next()).done;)wt=wt.value,jt=On+_t(wt,Qt++),At+=K(wt,ot,ft,jt,bt);else if(jt==="object"){if(typeof F.then=="function")return K(Gt(F),ot,ft,wt,bt);throw ot=String(F),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return At}function et(F,ot,ft){if(F==null)return F;var wt=[],bt=0;return K(F,wt,"","",function(jt){return ot.call(ft,jt,bt++)}),wt}function ut(F){if(F._status===-1){var ot=F._result;ot=ot(),ot.then(function(ft){(F._status===0||F._status===-1)&&(F._status=1,F._result=ft)},function(ft){(F._status===0||F._status===-1)&&(F._status=2,F._result=ft)}),F._status===-1&&(F._status=0,F._result=ot)}if(F._status===1)return F._result.default;throw F._result}var Rt=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function qt(){}return Jt.Children={map:et,forEach:function(F,ot,ft){et(F,function(){ot.apply(this,arguments)},ft)},count:function(F){var ot=0;return et(F,function(){ot++}),ot},toArray:function(F){return et(F,function(ot){return ot})||[]},only:function(F){if(!nt(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Jt.Component=U,Jt.Fragment=i,Jt.Profiler=f,Jt.PureComponent=q,Jt.StrictMode=o,Jt.Suspense=E,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=xt,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return xt.H.useMemoCache(F)}},Jt.cache=function(F){return function(){return F.apply(null,arguments)}},Jt.cloneElement=function(F,ot,ft){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var wt=H({},F.props),bt=F.key,jt=void 0;if(ot!=null)for(At in ot.ref!==void 0&&(jt=void 0),ot.key!==void 0&&(bt=""+ot.key),ot)!Ct.call(ot,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&ot.ref===void 0||(wt[At]=ot[At]);var At=arguments.length-2;if(At===1)wt.children=ft;else if(1<At){for(var On=Array(At),Qt=0;Qt<At;Qt++)On[Qt]=arguments[Qt+2];wt.children=On}return X(F.type,bt,void 0,void 0,jt,wt)},Jt.createContext=function(F){return F={$$typeof:m,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:d,_context:F},F},Jt.createElement=function(F,ot,ft){var wt,bt={},jt=null;if(ot!=null)for(wt in ot.key!==void 0&&(jt=""+ot.key),ot)Ct.call(ot,wt)&&wt!=="key"&&wt!=="__self"&&wt!=="__source"&&(bt[wt]=ot[wt]);var At=arguments.length-2;if(At===1)bt.children=ft;else if(1<At){for(var On=Array(At),Qt=0;Qt<At;Qt++)On[Qt]=arguments[Qt+2];bt.children=On}if(F&&F.defaultProps)for(wt in At=F.defaultProps,At)bt[wt]===void 0&&(bt[wt]=At[wt]);return X(F,jt,void 0,void 0,null,bt)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(F){return{$$typeof:A,render:F}},Jt.isValidElement=nt,Jt.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:ut}},Jt.memo=function(F,ot){return{$$typeof:b,type:F,compare:ot===void 0?null:ot}},Jt.startTransition=function(F){var ot=xt.T,ft={};xt.T=ft;try{var wt=F(),bt=xt.S;bt!==null&&bt(ft,wt),typeof wt=="object"&&wt!==null&&typeof wt.then=="function"&&wt.then(qt,Rt)}catch(jt){Rt(jt)}finally{xt.T=ot}},Jt.unstable_useCacheRefresh=function(){return xt.H.useCacheRefresh()},Jt.use=function(F){return xt.H.use(F)},Jt.useActionState=function(F,ot,ft){return xt.H.useActionState(F,ot,ft)},Jt.useCallback=function(F,ot){return xt.H.useCallback(F,ot)},Jt.useContext=function(F){return xt.H.useContext(F)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(F,ot){return xt.H.useDeferredValue(F,ot)},Jt.useEffect=function(F,ot,ft){var wt=xt.H;if(typeof ft=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return wt.useEffect(F,ot)},Jt.useId=function(){return xt.H.useId()},Jt.useImperativeHandle=function(F,ot,ft){return xt.H.useImperativeHandle(F,ot,ft)},Jt.useInsertionEffect=function(F,ot){return xt.H.useInsertionEffect(F,ot)},Jt.useLayoutEffect=function(F,ot){return xt.H.useLayoutEffect(F,ot)},Jt.useMemo=function(F,ot){return xt.H.useMemo(F,ot)},Jt.useOptimistic=function(F,ot){return xt.H.useOptimistic(F,ot)},Jt.useReducer=function(F,ot,ft){return xt.H.useReducer(F,ot,ft)},Jt.useRef=function(F){return xt.H.useRef(F)},Jt.useState=function(F){return xt.H.useState(F)},Jt.useSyncExternalStore=function(F,ot,ft){return xt.H.useSyncExternalStore(F,ot,ft)},Jt.useTransition=function(){return xt.H.useTransition()},Jt.version="19.1.1",Jt}var bg;function ed(){return bg||(bg=1,Mh.exports=Fp()),Mh.exports}var it=ed();const rx=sx(it);var Oh={exports:{}},fo={},Nh={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Pp(){return Ag||(Ag=1,(function(s){function n(et,ut){var Rt=et.length;et.push(ut);t:for(;0<Rt;){var qt=Rt-1>>>1,F=et[qt];if(0<f(F,ut))et[qt]=ut,et[Rt]=F,Rt=qt;else break t}}function i(et){return et.length===0?null:et[0]}function o(et){if(et.length===0)return null;var ut=et[0],Rt=et.pop();if(Rt!==ut){et[0]=Rt;t:for(var qt=0,F=et.length,ot=F>>>1;qt<ot;){var ft=2*(qt+1)-1,wt=et[ft],bt=ft+1,jt=et[bt];if(0>f(wt,Rt))bt<F&&0>f(jt,wt)?(et[qt]=jt,et[bt]=Rt,qt=bt):(et[qt]=wt,et[ft]=Rt,qt=ft);else if(bt<F&&0>f(jt,Rt))et[qt]=jt,et[bt]=Rt,qt=bt;else break t}}return ut}function f(et,ut){var Rt=et.sortIndex-ut.sortIndex;return Rt!==0?Rt:et.id-ut.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var m=Date,A=m.now();s.unstable_now=function(){return m.now()-A}}var E=[],b=[],_=1,T=null,D=3,L=!1,H=!1,P=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function mt(et){for(var ut=i(b);ut!==null;){if(ut.callback===null)o(b);else if(ut.startTime<=et)o(b),ut.sortIndex=ut.expirationTime,n(E,ut);else break;ut=i(b)}}function xt(et){if(P=!1,mt(et),!H)if(i(E)!==null)H=!0,Ct||(Ct=!0,_t());else{var ut=i(b);ut!==null&&K(xt,ut.startTime-et)}}var Ct=!1,X=-1,gt=5,nt=-1;function Ft(){return U?!0:!(s.unstable_now()-nt<gt)}function It(){if(U=!1,Ct){var et=s.unstable_now();nt=et;var ut=!0;try{t:{H=!1,P&&(P=!1,q(X),X=-1),L=!0;var Rt=D;try{e:{for(mt(et),T=i(E);T!==null&&!(T.expirationTime>et&&Ft());){var qt=T.callback;if(typeof qt=="function"){T.callback=null,D=T.priorityLevel;var F=qt(T.expirationTime<=et);if(et=s.unstable_now(),typeof F=="function"){T.callback=F,mt(et),ut=!0;break e}T===i(E)&&o(E),mt(et)}else o(E);T=i(E)}if(T!==null)ut=!0;else{var ot=i(b);ot!==null&&K(xt,ot.startTime-et),ut=!1}}break t}finally{T=null,D=Rt,L=!1}ut=void 0}}finally{ut?_t():Ct=!1}}}var _t;if(typeof at=="function")_t=function(){at(It)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,Gt=Ut.port2;Ut.port1.onmessage=It,_t=function(){Gt.postMessage(null)}}else _t=function(){Z(It,0)};function K(et,ut){X=Z(function(){et(s.unstable_now())},ut)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(et){et.callback=null},s.unstable_forceFrameRate=function(et){0>et||125<et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):gt=0<et?Math.floor(1e3/et):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(et){switch(D){case 1:case 2:case 3:var ut=3;break;default:ut=D}var Rt=D;D=ut;try{return et()}finally{D=Rt}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(et,ut){switch(et){case 1:case 2:case 3:case 4:case 5:break;default:et=3}var Rt=D;D=et;try{return ut()}finally{D=Rt}},s.unstable_scheduleCallback=function(et,ut,Rt){var qt=s.unstable_now();switch(typeof Rt=="object"&&Rt!==null?(Rt=Rt.delay,Rt=typeof Rt=="number"&&0<Rt?qt+Rt:qt):Rt=qt,et){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Rt+F,et={id:_++,callback:ut,priorityLevel:et,startTime:Rt,expirationTime:F,sortIndex:-1},Rt>qt?(et.sortIndex=Rt,n(b,et),i(E)===null&&et===i(b)&&(P?(q(X),X=-1):P=!0,K(xt,Rt-qt))):(et.sortIndex=F,n(E,et),H||L||(H=!0,Ct||(Ct=!0,_t()))),et},s.unstable_shouldYield=Ft,s.unstable_wrapCallback=function(et){var ut=D;return function(){var Rt=D;D=ut;try{return et.apply(this,arguments)}finally{D=Rt}}}})(Ih)),Ih}var wg;function Up(){return wg||(wg=1,Nh.exports=Pp()),Nh.exports}var Dh={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg;function zp(){if(Eg)return Vn;Eg=1;var s=ed();function n(E){var b="https://react.dev/errors/"+E;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+E+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(n(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},f=Symbol.for("react.portal");function d(E,b,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:T==null?null:""+T,children:E,containerInfo:b,implementation:_}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function A(E,b){if(E==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Vn.createPortal=function(E,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(n(299));return d(E,b,null,_)},Vn.flushSync=function(E){var b=m.T,_=o.p;try{if(m.T=null,o.p=2,E)return E()}finally{m.T=b,o.p=_,o.d.f()}},Vn.preconnect=function(E,b){typeof E=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,o.d.C(E,b))},Vn.prefetchDNS=function(E){typeof E=="string"&&o.d.D(E)},Vn.preinit=function(E,b){if(typeof E=="string"&&b&&typeof b.as=="string"){var _=b.as,T=A(_,b.crossOrigin),D=typeof b.integrity=="string"?b.integrity:void 0,L=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;_==="style"?o.d.S(E,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:T,integrity:D,fetchPriority:L}):_==="script"&&o.d.X(E,{crossOrigin:T,integrity:D,fetchPriority:L,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},Vn.preinitModule=function(E,b){if(typeof E=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var _=A(b.as,b.crossOrigin);o.d.M(E,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&o.d.M(E)},Vn.preload=function(E,b){if(typeof E=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var _=b.as,T=A(_,b.crossOrigin);o.d.L(E,_,{crossOrigin:T,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},Vn.preloadModule=function(E,b){if(typeof E=="string")if(b){var _=A(b.as,b.crossOrigin);o.d.m(E,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else o.d.m(E)},Vn.requestFormReset=function(E){o.d.r(E)},Vn.unstable_batchedUpdates=function(E,b){return E(b)},Vn.useFormState=function(E,b,_){return m.H.useFormState(E,b,_)},Vn.useFormStatus=function(){return m.H.useHostTransitionStatus()},Vn.version="19.1.1",Vn}var Sg;function Hp(){if(Sg)return Dh.exports;Sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Dh.exports=zp(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function jp(){if(Cg)return fo;Cg=1;var s=Up(),n=ed(),i=Hp();function o(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function f(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var a=t,c=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(c=a.return),t=a.return;while(t)}return a.tag===3?c:null}function m(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function A(t){if(d(t)!==t)throw Error(o(188))}function E(t){var a=t.alternate;if(!a){if(a=d(t),a===null)throw Error(o(188));return a!==t?null:t}for(var c=t,g=a;;){var y=c.return;if(y===null)break;var S=y.alternate;if(S===null){if(g=y.return,g!==null){c=g;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===c)return A(y),t;if(S===g)return A(y),a;S=S.sibling}throw Error(o(188))}if(c.return!==g.return)c=y,g=S;else{for(var M=!1,R=y.child;R;){if(R===c){M=!0,c=y,g=S;break}if(R===g){M=!0,g=y,c=S;break}R=R.sibling}if(!M){for(R=S.child;R;){if(R===c){M=!0,c=S,g=y;break}if(R===g){M=!0,g=S,c=y;break}R=R.sibling}if(!M)throw Error(o(189))}}if(c.alternate!==g)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?t:a}function b(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=b(t),a!==null)return a;t=t.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),at=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),gt=Symbol.for("react.lazy"),nt=Symbol.for("react.activity"),Ft=Symbol.for("react.memo_cache_sentinel"),It=Symbol.iterator;function _t(t){return t===null||typeof t!="object"?null:(t=It&&t[It]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Symbol.for("react.client.reference");function Gt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ut?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case H:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case xt:return"Suspense";case Ct:return"SuspenseList";case nt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case at:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case mt:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return a=t.displayName||null,a!==null?a:Gt(t.type)||"Memo";case gt:a=t._payload,t=t._init;try{return Gt(t(a))}catch{}}return null}var K=Array.isArray,et=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},qt=[],F=-1;function ot(t){return{current:t}}function ft(t){0>F||(t.current=qt[F],qt[F]=null,F--)}function wt(t,a){F++,qt[F]=t.current,t.current=a}var bt=ot(null),jt=ot(null),At=ot(null),On=ot(null);function Qt(t,a){switch(wt(At,a),wt(jt,t),wt(bt,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Y1(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Y1(a),t=G1(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ft(bt),wt(bt,t)}function Qn(){ft(bt),ft(jt),ft(At)}function xa(t){t.memoizedState!==null&&wt(On,t);var a=bt.current,c=G1(a,t.type);a!==c&&(wt(jt,t),wt(bt,c))}function dn(t){jt.current===t&&(ft(bt),ft(jt)),On.current===t&&(ft(On),so._currentValue=Rt)}var Ga=Object.prototype.hasOwnProperty,le=s.unstable_scheduleCallback,Yi=s.unstable_cancelCallback,bi=s.unstable_shouldYield,Ds=s.unstable_requestPaint,Te=s.unstable_now,Me=s.unstable_getCurrentPriorityLevel,se=s.unstable_ImmediatePriority,Rs=s.unstable_UserBlockingPriority,Nt=s.unstable_NormalPriority,gr=s.unstable_LowPriority,gl=s.unstable_IdlePriority,Ri=s.log,xl=s.unstable_setDisableYieldValue,Nn=null,kn=null;function In(t){if(typeof Ri=="function"&&xl(t),kn&&typeof kn.setStrictMode=="function")try{kn.setStrictMode(Nn,t)}catch{}}var be=Math.clz32?Math.clz32:Iu,Po=Math.log,xr=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Po(t)/xr|0)|0}var Ue=256,Tt=4194304;function Re(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fe(t,a,c){var g=t.pendingLanes;if(g===0)return 0;var y=0,S=t.suspendedLanes,M=t.pingedLanes;t=t.warmLanes;var R=g&134217727;return R!==0?(g=R&~S,g!==0?y=Re(g):(M&=R,M!==0?y=Re(M):c||(c=R&~t,c!==0&&(y=Re(c))))):(R=g&~S,R!==0?y=Re(R):M!==0?y=Re(M):c||(c=g&~t,c!==0&&(y=Re(c)))),y===0?0:a!==0&&a!==y&&(a&S)===0&&(S=y&-y,c=a&-a,S>=c||S===32&&(c&4194048)!==0)?a:y}function Oe(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Ls(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mr(){var t=Ue;return Ue<<=1,(Ue&4194048)===0&&(Ue=256),t}function ml(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function oe(t){for(var a=[],c=0;31>c;c++)a.push(t);return a}function ri(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Uo(t,a,c,g,y,S){var M=t.pendingLanes;t.pendingLanes=c,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=c,t.entangledLanes&=c,t.errorRecoveryDisabledLanes&=c,t.shellSuspendCounter=0;var R=t.entanglements,z=t.expirationTimes,tt=t.hiddenUpdates;for(c=M&~c;0<c;){var ht=31-be(c),pt=1<<ht;R[ht]=0,z[ht]=-1;var st=tt[ht];if(st!==null)for(tt[ht]=null,ht=0;ht<st.length;ht++){var lt=st[ht];lt!==null&&(lt.lane&=-536870913)}c&=~pt}g!==0&&pl(t,g,0),S!==0&&y===0&&t.tag!==0&&(t.suspendedLanes|=S&~(M&~a))}function pl(t,a,c){t.pendingLanes|=a,t.suspendedLanes&=~a;var g=31-be(a);t.entangledLanes|=a,t.entanglements[g]=t.entanglements[g]|1073741824|c&4194090}function Kn(t,a){var c=t.entangledLanes|=a;for(t=t.entanglements;c;){var g=31-be(c),y=1<<g;y&a|t[g]&a&&(t[g]|=a),c&=~y}}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ma(){var t=ut.p;return t!==0?t:(t=window.event,t===void 0?32:ug(t.type))}function pr(t,a){var c=ut.p;try{return ut.p=t,a()}finally{ut.p=c}}var gn=Math.random().toString(36).slice(2),Sn="__reactFiber$"+gn,qe="__reactProps$"+gn,Gi="__reactContainer$"+gn,Cn="__reactEvents$"+gn,pa="__reactListeners$"+gn,Jn="__reactHandles$"+gn,Mt="__reactResources$"+gn,Ai="__reactMarker$"+gn;function ks(t){delete t[Sn],delete t[qe],delete t[Cn],delete t[pa],delete t[Jn]}function en(t){var a=t[Sn];if(a)return a;for(var c=t.parentNode;c;){if(a=c[Gi]||c[Sn]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(t=q1(t);t!==null;){if(c=t[Sn])return c;t=q1(t)}return a}t=c,c=t.parentNode}return null}function li(t){if(t=t[Sn]||t[Gi]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function Xi(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(o(33))}function Li(t){var a=t[Mt];return a||(a=t[Mt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ae(t){t[Ai]=!0}var zo=new Set,Ho={};function _n(t,a){Qe(t,a),Qe(t+"Capture",a)}function Qe(t,a){for(Ho[t]=a,t=0;t<a.length;t++)zo.add(a[t])}var Fe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yl={},Bi={};function bl(t){return Ga.call(Bi,t)?!0:Ga.call(yl,t)?!1:Fe.test(t)?Bi[t]=!0:(yl[t]=!0,!1)}function yt(t,a,c){if(bl(a))if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var g=a.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+c)}}function yr(t,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+c)}}function he(t,a,c,g){if(g===null)t.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(c);return}t.setAttributeNS(a,c,""+g)}}var Wi,jo;function ne(t){if(Wi===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Wi=a&&a[1]||"",jo=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wi+t+jo}var ce=!1;function $t(t,a){if(!t||ce)return"";ce=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(a){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(lt){var st=lt}Reflect.construct(t,[],pt)}else{try{pt.call()}catch(lt){st=lt}t.call(pt.prototype)}}else{try{throw Error()}catch(lt){st=lt}(pt=t())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(lt){if(lt&&st&&typeof lt.stack=="string")return[lt.stack,st.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=g.DetermineComponentFrameRoot(),M=S[0],R=S[1];if(M&&R){var z=M.split(`
`),tt=R.split(`
`);for(y=g=0;g<z.length&&!z[g].includes("DetermineComponentFrameRoot");)g++;for(;y<tt.length&&!tt[y].includes("DetermineComponentFrameRoot");)y++;if(g===z.length||y===tt.length)for(g=z.length-1,y=tt.length-1;1<=g&&0<=y&&z[g]!==tt[y];)y--;for(;1<=g&&0<=y;g--,y--)if(z[g]!==tt[y]){if(g!==1||y!==1)do if(g--,y--,0>y||z[g]!==tt[y]){var ht=`
`+z[g].replace(" at new "," at ");return t.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",t.displayName)),ht}while(1<=g&&0<=y);break}}}finally{ce=!1,Error.prepareStackTrace=c}return(c=t?t.displayName||t.name:"")?ne(c):""}function Al(t){switch(t.tag){case 26:case 27:case 5:return ne(t.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return $t(t.type,!1);case 11:return $t(t.type.render,!1);case 1:return $t(t.type,!0);case 31:return ne("Activity");default:return""}}function br(t){try{var a="";do a+=Al(t),t=t.return;while(t);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Fn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ke(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zi(t){var a=Ke(t)?"checked":"value",c=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),g=""+t[a];if(!t.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,S=c.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return y.call(this)},set:function(M){g=""+M,S.call(this,M)}}),Object.defineProperty(t,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function Ar(t){t._valueTracker||(t._valueTracker=Zi(t))}function Ve(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return t&&(g=Ke(t)?t.checked?"true":"false":t.value),t=g,t!==c?(a.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Du=/[\n"\\]/g;function xn(t){return t.replace(Du,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function pe(t,a,c,g,y,S,M,R){t.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?t.type=M:t.removeAttribute("type"),a!=null?M==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+Fn(a)):t.value!==""+Fn(a)&&(t.value=""+Fn(a)):M!=="submit"&&M!=="reset"||t.removeAttribute("value"),a!=null?J(t,M,Fn(a)):c!=null?J(t,M,Fn(c)):g!=null&&t.removeAttribute("value"),y==null&&S!=null&&(t.defaultChecked=!!S),y!=null&&(t.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+Fn(R):t.removeAttribute("name")}function mn(t,a,c,g,y,S,M,R){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.type=S),a!=null||c!=null){if(!(S!=="submit"&&S!=="reset"||a!=null))return;c=c!=null?""+Fn(c):"",a=a!=null?""+Fn(a):c,R||a===t.value||(t.value=a),t.defaultValue=a}g=g??y,g=typeof g!="function"&&typeof g!="symbol"&&!!g,t.checked=R?t.checked:!!g,t.defaultChecked=!!g,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(t.name=M)}function J(t,a,c){a==="number"&&oi(t.ownerDocument)===t||t.defaultValue===""+c||(t.defaultValue=""+c)}function B(t,a,c,g){if(t=t.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<t.length;c++)y=a.hasOwnProperty("$"+t[c].value),t[c].selected!==y&&(t[c].selected=y),y&&g&&(t[c].defaultSelected=!0)}else{for(c=""+Fn(c),a=null,y=0;y<t.length;y++){if(t[y].value===c){t[y].selected=!0,g&&(t[y].defaultSelected=!0);return}a!==null||t[y].disabled||(a=t[y])}a!==null&&(a.selected=!0)}}function Lt(t,a,c){if(a!=null&&(a=""+Fn(a),a!==t.value&&(t.value=a),c==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=c!=null?""+Fn(c):""}function nn(t,a,c,g){if(a==null){if(g!=null){if(c!=null)throw Error(o(92));if(K(g)){if(1<g.length)throw Error(o(93));g=g[0]}c=g}c==null&&(c=""),a=c}c=Fn(a),t.defaultValue=c,g=t.textContent,g===c&&g!==""&&g!==null&&(t.value=g)}function pn(t,a){if(a){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=a;return}}t.textContent=a}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wr(t,a,c){var g=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?g?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":g?t.setProperty(a,c):typeof c!="number"||c===0||Ru.has(a)?a==="float"?t.cssFloat=c:t[a]=(""+c).trim():t[a]=c+"px"}function Wn(t,a,c){if(a!=null&&typeof a!="object")throw Error(o(62));if(t=t.style,c!=null){for(var g in c)!c.hasOwnProperty(g)||a!=null&&a.hasOwnProperty(g)||(g.indexOf("--")===0?t.setProperty(g,""):g==="float"?t.cssFloat="":t[g]="");for(var y in a)g=a[y],a.hasOwnProperty(y)&&c[y]!==g&&wr(t,y,g)}else for(var S in a)a.hasOwnProperty(S)&&wr(t,S,a[S])}function Bt(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ze=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(t){return Vo.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fs=null;function Xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Wa=null;function an(t){var a=li(t);if(a&&(t=a.stateNode)){var c=t[qe]||null;t:switch(t=a.stateNode,a.type){case"input":if(pe(t,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+xn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==t&&g.form===t.form){var y=g[qe]||null;if(!y)throw Error(o(90));pe(g,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<c.length;a++)g=c[a],g.form===t.form&&Ve(g)}break t;case"textarea":Lt(t,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&B(t,!!c.multiple,a,!1)}}}var ya=!1;function ki(t,a,c){if(ya)return t(a,c);ya=!0;try{var g=t(a);return g}finally{if(ya=!1,(qi!==null||Wa!==null)&&(Mc(),qi&&(a=qi,t=Wa,Wa=qi=null,an(a),t)))for(a=0;a<t.length;a++)an(t[a])}}function Pt(t,a){var c=t.stateNode;if(c===null)return null;var g=c[qe]||null;if(g===null)return null;c=g[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(t=t.type,g=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!g;break t;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(o(231,a,typeof c));return c}var Fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wt=!1;if(Fi)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Wt=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Wt=!1}var Qi=null,Ps=null,Us=null;function Ki(){if(Us)return Us;var t,a=Ps,c=a.length,g,y="value"in Qi?Qi.value:Qi.textContent,S=y.length;for(t=0;t<c&&a[t]===y[t];t++);var M=c-t;for(g=1;g<=M&&a[c-g]===y[S-g];g++);return Us=y.slice(t,1<g?1-g:void 0)}function Sr(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function Za(){return!1}function un(t){function a(c,g,y,S,M){this._reactName=c,this._targetInst=y,this.type=g,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(c=t[R],this[R]=c?c(S):S[R]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ji:Za,this.isPropagationStopped=Za,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),a}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ta=un($i),Pi=_({},$i,{view:0,detail:0}),Pn=un(Pi),Cr,_r,qa,vr=_({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(Cr=t.screenX-qa.screenX,_r=t.screenY-qa.screenY):_r=Cr=0,qa=t),Cr)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),Yo=un(vr),Lu=_({},vr,{dataTransfer:0}),ye=un(Lu),Go=_({},Pi,{relatedTarget:0}),Qa=un(Go),ea=_({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Bu=un(ea),ct=_({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Kt=un(ct),yn=_({},$i,{data:0}),zs=un(yn),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pu(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Fu[t])?!!a[t]:!1}function Hs(){return Pu}var sn=_({},Pi,{key:function(t){if(t.key){var a=Xo[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Sr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(t){return t.type==="keypress"?Sr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wl=un(sn),Ye=_({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=un(Ye),ba=_({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),we=un(ba),zt=_({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uu=un(zt),Le=_({},vr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=un(Le),Ka=_({},$i,{newState:0,oldState:0}),zu=un(Ka),wi=[9,13,27,32],Vs=Fi&&"CompositionEvent"in window,Ja=null;Fi&&"documentMode"in document&&(Ja=document.documentMode);var El=Fi&&"TextEvent"in window&&!Ja,Sl=Fi&&(!Vs||Ja&&8<Ja&&11>=Ja),Cl=" ",Wo=!1;function wa(t,a){switch(t){case"keyup":return wi.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function Ys(t,a){switch(t){case"compositionend":return Tr(a);case"keypress":return a.which!==32?null:(Wo=!0,Cl);case"textInput":return t=a.data,t===Cl&&Wo?null:t;default:return null}}function Hu(t,a){if($a)return t==="compositionend"||!Vs&&wa(t,a)?(t=Ki(),Us=Ps=Qi=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Sl&&a.locale!=="ko"?null:a.data;default:return null}}var na={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gs(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!na[t.type]:a==="textarea"}function Zn(t,a,c,g){qi?Wa?Wa.push(g):Wa=[g]:qi=g,a=Lc(a,"onChange"),0<a.length&&(c=new ta("onChange","change",null,c,g),t.push({event:c,listeners:a}))}var ts=null,Un=null;function ju(t){U1(t,0)}function es(t){var a=Xi(t);if(Ve(a))return t}function Zo(t,a){if(t==="change")return a}var _l=!1;if(Fi){var $n;if(Fi){var vl="oninput"in document;if(!vl){var Mr=document.createElement("div");Mr.setAttribute("oninput","return;"),vl=typeof Mr.oninput=="function"}$n=vl}else $n=!1;_l=$n&&(!document.documentMode||9<document.documentMode)}function ns(){ts&&(ts.detachEvent("onpropertychange",re),Un=ts=null)}function re(t){if(t.propertyName==="value"&&es(Un)){var a=[];Zn(a,Un,t,Xa(t)),ki(ju,a)}}function Or(t,a,c){t==="focusin"?(ns(),ts=a,Un=c,ts.attachEvent("onpropertychange",re)):t==="focusout"&&ns()}function O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return es(Un)}function e(t,a){if(t==="click")return es(a)}function r(t,a){if(t==="input"||t==="change")return es(a)}function l(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var u=typeof Object.is=="function"?Object.is:l;function h(t,a){if(u(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var c=Object.keys(t),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var y=c[g];if(!Ga.call(a,y)||!u(t[y],a[y]))return!1}return!0}function x(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p(t,a){var c=x(t);t=0;for(var g;c;){if(c.nodeType===3){if(g=t+c.textContent.length,t<=a&&g>=a)return{node:c,offset:a-t};t=g}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=x(c)}}function w(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?w(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function C(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=oi(t.document);a instanceof t.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)t=a.contentWindow;else break;a=oi(t.document)}return a}function v(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var N=Fi&&"documentMode"in document&&11>=document.documentMode,I=null,k=null,j=null,V=!1;function Q(t,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;V||I==null||I!==oi(g)||(g=I,"selectionStart"in g&&v(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),j&&h(j,g)||(j=g,g=Lc(k,"onSelect"),0<g.length&&(a=new ta("onSelect","select",null,a,c),t.push({event:a,listeners:g}),a.target=I)))}function rt(t,a){var c={};return c[t.toLowerCase()]=a.toLowerCase(),c["Webkit"+t]="webkit"+a,c["Moz"+t]="moz"+a,c}var St={animationend:rt("Animation","AnimationEnd"),animationiteration:rt("Animation","AnimationIteration"),animationstart:rt("Animation","AnimationStart"),transitionrun:rt("Transition","TransitionRun"),transitionstart:rt("Transition","TransitionStart"),transitioncancel:rt("Transition","TransitionCancel"),transitionend:rt("Transition","TransitionEnd")},vt={},Et={};Fi&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);function Zt(t){if(vt[t])return vt[t];if(!St[t])return t;var a=St[t],c;for(c in a)if(a.hasOwnProperty(c)&&c in Et)return vt[t]=a[c];return t}var Xt=Zt("animationend"),Dn=Zt("animationiteration"),ti=Zt("animationstart"),zn=Zt("transitionrun"),Ee=Zt("transitionstart"),bn=Zt("transitioncancel"),Hn=Zt("transitionend"),Ea=new Map,ia="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ia.push("scrollEnd");function ci(t,a){Ea.set(t,a),_n(a,[t])}var qo=new WeakMap;function Ei(t,a){if(typeof t=="object"&&t!==null){var c=qo.get(t);return c!==void 0?c:(a={value:t,source:a,stack:br(a)},qo.set(t,a),a)}return{value:t,source:a,stack:br(a)}}var Si=[],Nr=0,Vu=0;function Qo(){for(var t=Nr,a=Vu=Nr=0;a<t;){var c=Si[a];Si[a++]=null;var g=Si[a];Si[a++]=null;var y=Si[a];Si[a++]=null;var S=Si[a];if(Si[a++]=null,g!==null&&y!==null){var M=g.pending;M===null?y.next=y:(y.next=M.next,M.next=y),g.pending=y}S!==0&&Sd(c,y,S)}}function Ko(t,a,c,g){Si[Nr++]=t,Si[Nr++]=a,Si[Nr++]=c,Si[Nr++]=g,Vu|=g,t.lanes|=g,t=t.alternate,t!==null&&(t.lanes|=g)}function Yu(t,a,c,g){return Ko(t,a,c,g),Jo(t)}function Ir(t,a){return Ko(t,null,null,a),Jo(t)}function Sd(t,a,c){t.lanes|=c;var g=t.alternate;g!==null&&(g.lanes|=c);for(var y=!1,S=t.return;S!==null;)S.childLanes|=c,g=S.alternate,g!==null&&(g.childLanes|=c),S.tag===22&&(t=S.stateNode,t===null||t._visibility&1||(y=!0)),t=S,S=S.return;return t.tag===3?(S=t.stateNode,y&&a!==null&&(y=31-be(c),t=S.hiddenUpdates,g=t[y],g===null?t[y]=[a]:g.push(a),a.lane=c|536870912),S):null}function Jo(t){if(50<Kl)throw Kl=0,Kf=null,Error(o(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Dr={};function bm(t,a,c,g){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(t,a,c,g){return new bm(t,a,c,g)}function Gu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sa(t,a){var c=t.alternate;return c===null?(c=ui(t.tag,a,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=a,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&65011712,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,a=t.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c.refCleanup=t.refCleanup,c}function Cd(t,a){t.flags&=65011714;var c=t.alternate;return c===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=c.childLanes,t.lanes=c.lanes,t.child=c.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=c.memoizedProps,t.memoizedState=c.memoizedState,t.updateQueue=c.updateQueue,t.type=c.type,a=c.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function $o(t,a,c,g,y,S){var M=0;if(g=t,typeof t=="function")Gu(t)&&(M=1);else if(typeof t=="string")M=wp(t,c,bt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case nt:return t=ui(31,c,a,y),t.elementType=nt,t.lanes=S,t;case H:return Xs(c.children,y,S,a);case P:M=8,y|=24;break;case U:return t=ui(12,c,a,y|2),t.elementType=U,t.lanes=S,t;case xt:return t=ui(13,c,a,y),t.elementType=xt,t.lanes=S,t;case Ct:return t=ui(19,c,a,y),t.elementType=Ct,t.lanes=S,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Z:case at:M=10;break t;case q:M=9;break t;case mt:M=11;break t;case X:M=14;break t;case gt:M=16,g=null;break t}M=29,c=Error(o(130,t===null?"null":typeof t,"")),g=null}return a=ui(M,c,a,y),a.elementType=t,a.type=g,a.lanes=S,a}function Xs(t,a,c,g){return t=ui(7,t,g,a),t.lanes=c,t}function Xu(t,a,c){return t=ui(6,t,null,a),t.lanes=c,t}function Wu(t,a,c){return a=ui(4,t.children!==null?t.children:[],t.key,a),a.lanes=c,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Rr=[],Lr=0,tc=null,ec=0,Ci=[],_i=0,Ws=null,Ca=1,_a="";function Zs(t,a){Rr[Lr++]=ec,Rr[Lr++]=tc,tc=t,ec=a}function _d(t,a,c){Ci[_i++]=Ca,Ci[_i++]=_a,Ci[_i++]=Ws,Ws=t;var g=Ca;t=_a;var y=32-be(g)-1;g&=~(1<<y),c+=1;var S=32-be(a)+y;if(30<S){var M=y-y%5;S=(g&(1<<M)-1).toString(32),g>>=M,y-=M,Ca=1<<32-be(a)+y|c<<y|g,_a=S+t}else Ca=1<<S|c<<y|g,_a=t}function Zu(t){t.return!==null&&(Zs(t,1),_d(t,1,0))}function qu(t){for(;t===tc;)tc=Rr[--Lr],Rr[Lr]=null,ec=Rr[--Lr],Rr[Lr]=null;for(;t===Ws;)Ws=Ci[--_i],Ci[_i]=null,_a=Ci[--_i],Ci[_i]=null,Ca=Ci[--_i],Ci[_i]=null}var qn=null,Je=null,xe=!1,qs=null,aa=!1,Qu=Error(o(519));function Qs(t){var a=Error(o(418,""));throw Ol(Ei(a,t)),Qu}function vd(t){var a=t.stateNode,c=t.type,g=t.memoizedProps;switch(a[Sn]=t,a[qe]=g,c){case"dialog":ae("cancel",a),ae("close",a);break;case"iframe":case"object":case"embed":ae("load",a);break;case"video":case"audio":for(c=0;c<$l.length;c++)ae($l[c],a);break;case"source":ae("error",a);break;case"img":case"image":case"link":ae("error",a),ae("load",a);break;case"details":ae("toggle",a);break;case"input":ae("invalid",a),mn(a,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),Ar(a);break;case"select":ae("invalid",a);break;case"textarea":ae("invalid",a),nn(a,g.value,g.defaultValue,g.children),Ar(a)}c=g.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||g.suppressHydrationWarning===!0||V1(a.textContent,c)?(g.popover!=null&&(ae("beforetoggle",a),ae("toggle",a)),g.onScroll!=null&&ae("scroll",a),g.onScrollEnd!=null&&ae("scrollend",a),g.onClick!=null&&(a.onclick=Bc),a=!0):a=!1,a||Qs(t)}function Td(t){for(qn=t.return;qn;)switch(qn.tag){case 5:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:qn=qn.return}}function Tl(t){if(t!==qn)return!1;if(!xe)return Td(t),xe=!0,!1;var a=t.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=t.type,c=!(c!=="form"&&c!=="button")||dh(t.type,t.memoizedProps)),c=!c),c&&Je&&Qs(t),Td(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));t:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(c=t.data,c==="/$"){if(a===0){Je=zi(t.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;t=t.nextSibling}Je=null}}else a===27?(a=Je,ys(t.type)?(t=ph,ph=null,Je=t):Je=a):Je=qn?zi(t.stateNode.nextSibling):null;return!0}function Ml(){Je=qn=null,xe=!1}function Md(){var t=qs;return t!==null&&(ii===null?ii=t:ii.push.apply(ii,t),qs=null),t}function Ol(t){qs===null?qs=[t]:qs.push(t)}var Ku=ot(null),Ks=null,va=null;function is(t,a,c){wt(Ku,a._currentValue),a._currentValue=c}function Ta(t){t._currentValue=Ku.current,ft(Ku)}function Ju(t,a,c){for(;t!==null;){var g=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),t===c)break;t=t.return}}function $u(t,a,c,g){var y=t.child;for(y!==null&&(y.return=t);y!==null;){var S=y.dependencies;if(S!==null){var M=y.child;S=S.firstContext;t:for(;S!==null;){var R=S;S=y;for(var z=0;z<a.length;z++)if(R.context===a[z]){S.lanes|=c,R=S.alternate,R!==null&&(R.lanes|=c),Ju(S.return,c,t),g||(M=null);break t}S=R.next}}else if(y.tag===18){if(M=y.return,M===null)throw Error(o(341));M.lanes|=c,S=M.alternate,S!==null&&(S.lanes|=c),Ju(M,c,t),M=null}else M=y.child;if(M!==null)M.return=y;else for(M=y;M!==null;){if(M===t){M=null;break}if(y=M.sibling,y!==null){y.return=M.return,M=y;break}M=M.return}y=M}}function Nl(t,a,c,g){t=null;for(var y=a,S=!1;y!==null;){if(!S){if((y.flags&524288)!==0)S=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var M=y.alternate;if(M===null)throw Error(o(387));if(M=M.memoizedProps,M!==null){var R=y.type;u(y.pendingProps.value,M.value)||(t!==null?t.push(R):t=[R])}}else if(y===On.current){if(M=y.alternate,M===null)throw Error(o(387));M.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(t!==null?t.push(so):t=[so])}y=y.return}t!==null&&$u(a,t,c,g),a.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!u(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Ks=t,va=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jn(t){return Od(Ks,t)}function ic(t,a){return Ks===null&&Js(t),Od(t,a)}function Od(t,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},va===null){if(t===null)throw Error(o(308));va=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else va=va.next=a;return c}var Am=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(c,g){t.push(g)}};this.abort=function(){a.aborted=!0,t.forEach(function(c){return c()})}},wm=s.unstable_scheduleCallback,Em=s.unstable_NormalPriority,An={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new Am,data:new Map,refCount:0}}function Il(t){t.refCount--,t.refCount===0&&wm(Em,function(){t.controller.abort()})}var Dl=null,ef=0,Br=0,kr=null;function Sm(t,a){if(Dl===null){var c=Dl=[];ef=0,Br=ah(),kr={status:"pending",value:void 0,then:function(g){c.push(g)}}}return ef++,a.then(Nd,Nd),a}function Nd(){if(--ef===0&&Dl!==null){kr!==null&&(kr.status="fulfilled");var t=Dl;Dl=null,Br=0,kr=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function Cm(t,a){var c=[],g={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return t.then(function(){g.status="fulfilled",g.value=a;for(var y=0;y<c.length;y++)(0,c[y])(a)},function(y){for(g.status="rejected",g.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),g}var Id=et.S;et.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Sm(t,a),Id!==null&&Id(t,a)};var $s=ot(null);function nf(){var t=$s.current;return t!==null?t:Pe.pooledCache}function ac(t,a){a===null?wt($s,$s.current):wt($s,a.pool)}function Dd(){var t=nf();return t===null?null:{parent:An._currentValue,pool:t}}var Rl=Error(o(460)),Rd=Error(o(474)),sc=Error(o(542)),af={then:function(){}};function Ld(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rc(){}function Bd(t,a,c){switch(c=t[c],c===void 0?t.push(a):c!==a&&(a.then(rc,rc),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Fd(t),t;default:if(typeof a.status=="string")a.then(rc,rc);else{if(t=Pe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=a,t.status="pending",t.then(function(g){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=g}},function(g){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=g}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Fd(t),t}throw Ll=a,Rl}}var Ll=null;function kd(){if(Ll===null)throw Error(o(459));var t=Ll;return Ll=null,t}function Fd(t){if(t===Rl||t===sc)throw Error(o(483))}var as=!1;function sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rs(t,a,c){var g=t.updateQueue;if(g===null)return null;if(g=g.shared,(Se&2)!==0){var y=g.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),g.pending=a,a=Jo(t),Sd(t,null,c),a}return Ko(t,g,a,c),Jo(t)}function Bl(t,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var g=a.lanes;g&=t.pendingLanes,c|=g,a.lanes=c,Kn(t,c)}}function lf(t,a){var c=t.updateQueue,g=t.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var y=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var M={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};S===null?y=S=M:S=S.next=M,c=c.next}while(c!==null);S===null?y=S=a:S=S.next=a}else y=S=a;c={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:g.shared,callbacks:g.callbacks},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=a:t.next=a,c.lastBaseUpdate=a}var of=!1;function kl(){if(of){var t=kr;if(t!==null)throw t}}function Fl(t,a,c,g){of=!1;var y=t.updateQueue;as=!1;var S=y.firstBaseUpdate,M=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var z=R,tt=z.next;z.next=null,M===null?S=tt:M.next=tt,M=z;var ht=t.alternate;ht!==null&&(ht=ht.updateQueue,R=ht.lastBaseUpdate,R!==M&&(R===null?ht.firstBaseUpdate=tt:R.next=tt,ht.lastBaseUpdate=z))}if(S!==null){var pt=y.baseState;M=0,ht=tt=z=null,R=S;do{var st=R.lane&-536870913,lt=st!==R.lane;if(lt?(ue&st)===st:(g&st)===st){st!==0&&st===Br&&(of=!0),ht!==null&&(ht=ht.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Yt=t,Ht=R;st=a;var De=c;switch(Ht.tag){case 1:if(Yt=Ht.payload,typeof Yt=="function"){pt=Yt.call(De,pt,st);break t}pt=Yt;break t;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Ht.payload,st=typeof Yt=="function"?Yt.call(De,pt,st):Yt,st==null)break t;pt=_({},pt,st);break t;case 2:as=!0}}st=R.callback,st!==null&&(t.flags|=64,lt&&(t.flags|=8192),lt=y.callbacks,lt===null?y.callbacks=[st]:lt.push(st))}else lt={lane:st,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ht===null?(tt=ht=lt,z=pt):ht=ht.next=lt,M|=st;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;lt=R,R=lt.next,lt.next=null,y.lastBaseUpdate=lt,y.shared.pending=null}}while(!0);ht===null&&(z=pt),y.baseState=z,y.firstBaseUpdate=tt,y.lastBaseUpdate=ht,S===null&&(y.shared.lanes=0),gs|=M,t.lanes=M,t.memoizedState=pt}}function Pd(t,a){if(typeof t!="function")throw Error(o(191,t));t.call(a)}function Ud(t,a){var c=t.callbacks;if(c!==null)for(t.callbacks=null,t=0;t<c.length;t++)Pd(c[t],a)}var Fr=ot(null),lc=ot(0);function zd(t,a){t=La,wt(lc,t),wt(Fr,a),La=t|a.baseLanes}function cf(){wt(lc,La),wt(Fr,Fr.current)}function uf(){La=lc.current,ft(Fr),ft(lc)}var ls=0,te=null,Ne=null,fn=null,oc=!1,Pr=!1,tr=!1,cc=0,Pl=0,Ur=null,_m=0;function rn(){throw Error(o(321))}function ff(t,a){if(a===null)return!1;for(var c=0;c<a.length&&c<t.length;c++)if(!u(t[c],a[c]))return!1;return!0}function hf(t,a,c,g,y,S){return ls=S,te=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,et.H=t===null||t.memoizedState===null?S0:C0,tr=!1,S=c(g,y),tr=!1,Pr&&(S=jd(a,c,g,y)),Hd(t),S}function Hd(t){et.H=xc;var a=Ne!==null&&Ne.next!==null;if(ls=0,fn=Ne=te=null,oc=!1,Pl=0,Ur=null,a)throw Error(o(300));t===null||vn||(t=t.dependencies,t!==null&&nc(t)&&(vn=!0))}function jd(t,a,c,g){te=t;var y=0;do{if(Pr&&(Ur=null),Pl=0,Pr=!1,25<=y)throw Error(o(301));if(y+=1,fn=Ne=null,t.updateQueue!=null){var S=t.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}et.H=Dm,S=a(c,g)}while(Pr);return S}function vm(){var t=et.H,a=t.useState()[0];return a=typeof a.then=="function"?Ul(a):a,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(te.flags|=1024),a}function df(){var t=cc!==0;return cc=0,t}function gf(t,a,c){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~c}function xf(t){if(oc){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}oc=!1}ls=0,fn=Ne=te=null,Pr=!1,Pl=cc=0,Ur=null}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?te.memoizedState=fn=t:fn=fn.next=t,fn}function hn(){if(Ne===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var a=fn===null?te.memoizedState:fn.next;if(a!==null)fn=a,Ne=t;else{if(t===null)throw te.alternate===null?Error(o(467)):Error(o(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},fn===null?te.memoizedState=fn=t:fn=fn.next=t}return fn}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ul(t){var a=Pl;return Pl+=1,Ur===null&&(Ur=[]),t=Bd(Ur,t,a),a=te,(fn===null?a.memoizedState:fn.next)===null&&(a=a.alternate,et.H=a===null||a.memoizedState===null?S0:C0),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ul(t);if(t.$$typeof===at)return jn(t)}throw Error(o(438,String(t)))}function pf(t){var a=null,c=te.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var g=te.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(a={data:g.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=mf(),te.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(t),g=0;g<t;g++)c[g]=Ft;return a.index++,c}function Ma(t,a){return typeof a=="function"?a(t):a}function fc(t){var a=hn();return yf(a,Ne,t)}function yf(t,a,c){var g=t.queue;if(g===null)throw Error(o(311));g.lastRenderedReducer=c;var y=t.baseQueue,S=g.pending;if(S!==null){if(y!==null){var M=y.next;y.next=S.next,S.next=M}a.baseQueue=y=S,g.pending=null}if(S=t.baseState,y===null)t.memoizedState=S;else{a=y.next;var R=M=null,z=null,tt=a,ht=!1;do{var pt=tt.lane&-536870913;if(pt!==tt.lane?(ue&pt)===pt:(ls&pt)===pt){var st=tt.revertLane;if(st===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),pt===Br&&(ht=!0);else if((ls&st)===st){tt=tt.next,st===Br&&(ht=!0);continue}else pt={lane:0,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},z===null?(R=z=pt,M=S):z=z.next=pt,te.lanes|=st,gs|=st;pt=tt.action,tr&&c(S,pt),S=tt.hasEagerState?tt.eagerState:c(S,pt)}else st={lane:pt,revertLane:tt.revertLane,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},z===null?(R=z=st,M=S):z=z.next=st,te.lanes|=pt,gs|=pt;tt=tt.next}while(tt!==null&&tt!==a);if(z===null?M=S:z.next=R,!u(S,t.memoizedState)&&(vn=!0,ht&&(c=kr,c!==null)))throw c;t.memoizedState=S,t.baseState=M,t.baseQueue=z,g.lastRenderedState=S}return y===null&&(g.lanes=0),[t.memoizedState,g.dispatch]}function bf(t){var a=hn(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=t;var g=c.dispatch,y=c.pending,S=a.memoizedState;if(y!==null){c.pending=null;var M=y=y.next;do S=t(S,M.action),M=M.next;while(M!==y);u(S,a.memoizedState)||(vn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),c.lastRenderedState=S}return[S,g]}function Vd(t,a,c){var g=te,y=hn(),S=xe;if(S){if(c===void 0)throw Error(o(407));c=c()}else c=a();var M=!u((Ne||y).memoizedState,c);M&&(y.memoizedState=c,vn=!0),y=y.queue;var R=Xd.bind(null,g,y,t);if(zl(2048,8,R,[t]),y.getSnapshot!==a||M||fn!==null&&fn.memoizedState.tag&1){if(g.flags|=2048,zr(9,hc(),Gd.bind(null,g,y,c,a),null),Pe===null)throw Error(o(349));S||(ls&124)!==0||Yd(g,a,c)}return c}function Yd(t,a,c){t.flags|=16384,t={getSnapshot:a,value:c},a=te.updateQueue,a===null?(a=mf(),te.updateQueue=a,a.stores=[t]):(c=a.stores,c===null?a.stores=[t]:c.push(t))}function Gd(t,a,c,g){a.value=c,a.getSnapshot=g,Wd(a)&&Zd(t)}function Xd(t,a,c){return c(function(){Wd(a)&&Zd(t)})}function Wd(t){var a=t.getSnapshot;t=t.value;try{var c=a();return!u(t,c)}catch{return!0}}function Zd(t){var a=Ir(t,2);a!==null&&xi(a,t,2)}function Af(t){var a=ei();if(typeof t=="function"){var c=t;if(t=c(),tr){In(!0);try{c()}finally{In(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},a}function qd(t,a,c,g){return t.baseState=c,yf(t,Ne,typeof g=="function"?g:Ma)}function Tm(t,a,c,g,y){if(gc(t))throw Error(o(485));if(t=a.action,t!==null){var S={payload:y,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};et.T!==null?c(!0):S.isTransition=!1,g(S),c=a.pending,c===null?(S.next=a.pending=S,Qd(a,S)):(S.next=c.next,a.pending=c.next=S)}}function Qd(t,a){var c=a.action,g=a.payload,y=t.state;if(a.isTransition){var S=et.T,M={};et.T=M;try{var R=c(y,g),z=et.S;z!==null&&z(M,R),Kd(t,a,R)}catch(tt){wf(t,a,tt)}finally{et.T=S}}else try{S=c(y,g),Kd(t,a,S)}catch(tt){wf(t,a,tt)}}function Kd(t,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(g){Jd(t,a,g)},function(g){return wf(t,a,g)}):Jd(t,a,c)}function Jd(t,a,c){a.status="fulfilled",a.value=c,$d(a),t.state=c,a=t.pending,a!==null&&(c=a.next,c===a?t.pending=null:(c=c.next,a.next=c,Qd(t,c)))}function wf(t,a,c){var g=t.pending;if(t.pending=null,g!==null){g=g.next;do a.status="rejected",a.reason=c,$d(a),a=a.next;while(a!==g)}t.action=null}function $d(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function t0(t,a){return a}function e0(t,a){if(xe){var c=Pe.formState;if(c!==null){t:{var g=te;if(xe){if(Je){e:{for(var y=Je,S=aa;y.nodeType!==8;){if(!S){y=null;break e}if(y=zi(y.nextSibling),y===null){y=null;break e}}S=y.data,y=S==="F!"||S==="F"?y:null}if(y){Je=zi(y.nextSibling),g=y.data==="F!";break t}}Qs(g)}g=!1}g&&(a=c[0])}}return c=ei(),c.memoizedState=c.baseState=a,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t0,lastRenderedState:a},c.queue=g,c=A0.bind(null,te,g),g.dispatch=c,g=Af(!1),S=vf.bind(null,te,!1,g.queue),g=ei(),y={state:a,dispatch:null,action:t,pending:null},g.queue=y,c=Tm.bind(null,te,y,S,c),y.dispatch=c,g.memoizedState=t,[a,c,!1]}function n0(t){var a=hn();return i0(a,Ne,t)}function i0(t,a,c){if(a=yf(t,a,t0)[0],t=fc(Ma)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var g=Ul(a)}catch(M){throw M===Rl?sc:M}else g=a;a=hn();var y=a.queue,S=y.dispatch;return c!==a.memoizedState&&(te.flags|=2048,zr(9,hc(),Mm.bind(null,y,c),null)),[g,S,t]}function Mm(t,a){t.action=a}function a0(t){var a=hn(),c=Ne;if(c!==null)return i0(a,c,t);hn(),a=a.memoizedState,c=hn();var g=c.queue.dispatch;return c.memoizedState=t,[a,g,!1]}function zr(t,a,c,g){return t={tag:t,create:c,deps:g,inst:a,next:null},a=te.updateQueue,a===null&&(a=mf(),te.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=t.next=t:(g=c.next,c.next=t,t.next=g,a.lastEffect=t),t}function hc(){return{destroy:void 0,resource:void 0}}function s0(){return hn().memoizedState}function dc(t,a,c,g){var y=ei();g=g===void 0?null:g,te.flags|=t,y.memoizedState=zr(1|a,hc(),c,g)}function zl(t,a,c,g){var y=hn();g=g===void 0?null:g;var S=y.memoizedState.inst;Ne!==null&&g!==null&&ff(g,Ne.memoizedState.deps)?y.memoizedState=zr(a,S,c,g):(te.flags|=t,y.memoizedState=zr(1|a,S,c,g))}function r0(t,a){dc(8390656,8,t,a)}function l0(t,a){zl(2048,8,t,a)}function o0(t,a){return zl(4,2,t,a)}function c0(t,a){return zl(4,4,t,a)}function u0(t,a){if(typeof a=="function"){t=t();var c=a(t);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function f0(t,a,c){c=c!=null?c.concat([t]):null,zl(4,4,u0.bind(null,a,t),c)}function Ef(){}function h0(t,a){var c=hn();a=a===void 0?null:a;var g=c.memoizedState;return a!==null&&ff(a,g[1])?g[0]:(c.memoizedState=[t,a],t)}function d0(t,a){var c=hn();a=a===void 0?null:a;var g=c.memoizedState;if(a!==null&&ff(a,g[1]))return g[0];if(g=t(),tr){In(!0);try{t()}finally{In(!1)}}return c.memoizedState=[g,a],g}function Sf(t,a,c){return c===void 0||(ls&1073741824)!==0?t.memoizedState=a:(t.memoizedState=c,t=m1(),te.lanes|=t,gs|=t,c)}function g0(t,a,c,g){return u(c,a)?c:Fr.current!==null?(t=Sf(t,c,g),u(t,a)||(vn=!0),t):(ls&42)===0?(vn=!0,t.memoizedState=c):(t=m1(),te.lanes|=t,gs|=t,a)}function x0(t,a,c,g,y){var S=ut.p;ut.p=S!==0&&8>S?S:8;var M=et.T,R={};et.T=R,vf(t,!1,a,c);try{var z=y(),tt=et.S;if(tt!==null&&tt(R,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ht=Cm(z,g);Hl(t,a,ht,gi(t))}else Hl(t,a,g,gi(t))}catch(pt){Hl(t,a,{then:function(){},status:"rejected",reason:pt},gi())}finally{ut.p=S,et.T=M}}function Om(){}function Cf(t,a,c,g){if(t.tag!==5)throw Error(o(476));var y=m0(t).queue;x0(t,y,a,Rt,c===null?Om:function(){return p0(t),c(g)})}function m0(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:Rt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:c},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function p0(t){var a=m0(t).next.queue;Hl(t,a,{},gi())}function _f(){return jn(so)}function y0(){return hn().memoizedState}function b0(){return hn().memoizedState}function Nm(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var c=gi();t=ss(c);var g=rs(a,t,c);g!==null&&(xi(g,a,c),Bl(g,a,c)),a={cache:tf()},t.payload=a;return}a=a.return}}function Im(t,a,c){var g=gi();c={lane:g,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},gc(t)?w0(a,c):(c=Yu(t,a,c,g),c!==null&&(xi(c,t,g),E0(c,a,g)))}function A0(t,a,c){var g=gi();Hl(t,a,c,g)}function Hl(t,a,c,g){var y={lane:g,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(gc(t))w0(a,y);else{var S=t.alternate;if(t.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var M=a.lastRenderedState,R=S(M,c);if(y.hasEagerState=!0,y.eagerState=R,u(R,M))return Ko(t,a,y,0),Pe===null&&Qo(),!1}catch{}finally{}if(c=Yu(t,a,y,g),c!==null)return xi(c,t,g),E0(c,a,g),!0}return!1}function vf(t,a,c,g){if(g={lane:2,revertLane:ah(),action:g,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(a)throw Error(o(479))}else a=Yu(t,c,g,2),a!==null&&xi(a,t,2)}function gc(t){var a=t.alternate;return t===te||a!==null&&a===te}function w0(t,a){Pr=oc=!0;var c=t.pending;c===null?a.next=a:(a.next=c.next,c.next=a),t.pending=a}function E0(t,a,c){if((c&4194048)!==0){var g=a.lanes;g&=t.pendingLanes,c|=g,a.lanes=c,Kn(t,c)}}var xc={readContext:jn,use:uc,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},S0={readContext:jn,use:uc,useCallback:function(t,a){return ei().memoizedState=[t,a===void 0?null:a],t},useContext:jn,useEffect:r0,useImperativeHandle:function(t,a,c){c=c!=null?c.concat([t]):null,dc(4194308,4,u0.bind(null,a,t),c)},useLayoutEffect:function(t,a){return dc(4194308,4,t,a)},useInsertionEffect:function(t,a){dc(4,2,t,a)},useMemo:function(t,a){var c=ei();a=a===void 0?null:a;var g=t();if(tr){In(!0);try{t()}finally{In(!1)}}return c.memoizedState=[g,a],g},useReducer:function(t,a,c){var g=ei();if(c!==void 0){var y=c(a);if(tr){In(!0);try{c(a)}finally{In(!1)}}}else y=a;return g.memoizedState=g.baseState=y,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:y},g.queue=t,t=t.dispatch=Im.bind(null,te,t),[g.memoizedState,t]},useRef:function(t){var a=ei();return t={current:t},a.memoizedState=t},useState:function(t){t=Af(t);var a=t.queue,c=A0.bind(null,te,a);return a.dispatch=c,[t.memoizedState,c]},useDebugValue:Ef,useDeferredValue:function(t,a){var c=ei();return Sf(c,t,a)},useTransition:function(){var t=Af(!1);return t=x0.bind(null,te,t.queue,!0,!1),ei().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,c){var g=te,y=ei();if(xe){if(c===void 0)throw Error(o(407));c=c()}else{if(c=a(),Pe===null)throw Error(o(349));(ue&124)!==0||Yd(g,a,c)}y.memoizedState=c;var S={value:c,getSnapshot:a};return y.queue=S,r0(Xd.bind(null,g,S,t),[t]),g.flags|=2048,zr(9,hc(),Gd.bind(null,g,S,c,a),null),c},useId:function(){var t=ei(),a=Pe.identifierPrefix;if(xe){var c=_a,g=Ca;c=(g&~(1<<32-be(g)-1)).toString(32)+c,a="«"+a+"R"+c,c=cc++,0<c&&(a+="H"+c.toString(32)),a+="»"}else c=_m++,a="«"+a+"r"+c.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:_f,useFormState:e0,useActionState:e0,useOptimistic:function(t){var a=ei();a.memoizedState=a.baseState=t;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=vf.bind(null,te,!0,c),c.dispatch=a,[t,a]},useMemoCache:pf,useCacheRefresh:function(){return ei().memoizedState=Nm.bind(null,te)}},C0={readContext:jn,use:uc,useCallback:h0,useContext:jn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:o0,useLayoutEffect:c0,useMemo:d0,useReducer:fc,useRef:s0,useState:function(){return fc(Ma)},useDebugValue:Ef,useDeferredValue:function(t,a){var c=hn();return g0(c,Ne.memoizedState,t,a)},useTransition:function(){var t=fc(Ma)[0],a=hn().memoizedState;return[typeof t=="boolean"?t:Ul(t),a]},useSyncExternalStore:Vd,useId:y0,useHostTransitionStatus:_f,useFormState:n0,useActionState:n0,useOptimistic:function(t,a){var c=hn();return qd(c,Ne,t,a)},useMemoCache:pf,useCacheRefresh:b0},Dm={readContext:jn,use:uc,useCallback:h0,useContext:jn,useEffect:l0,useImperativeHandle:f0,useInsertionEffect:o0,useLayoutEffect:c0,useMemo:d0,useReducer:bf,useRef:s0,useState:function(){return bf(Ma)},useDebugValue:Ef,useDeferredValue:function(t,a){var c=hn();return Ne===null?Sf(c,t,a):g0(c,Ne.memoizedState,t,a)},useTransition:function(){var t=bf(Ma)[0],a=hn().memoizedState;return[typeof t=="boolean"?t:Ul(t),a]},useSyncExternalStore:Vd,useId:y0,useHostTransitionStatus:_f,useFormState:a0,useActionState:a0,useOptimistic:function(t,a){var c=hn();return Ne!==null?qd(c,Ne,t,a):(c.baseState=t,[t,c.queue.dispatch])},useMemoCache:pf,useCacheRefresh:b0},Hr=null,jl=0;function mc(t){var a=jl;return jl+=1,Hr===null&&(Hr=[]),Bd(Hr,t,a)}function Vl(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function pc(t,a){throw a.$$typeof===T?Error(o(525)):(t=Object.prototype.toString.call(a),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function _0(t){var a=t._init;return a(t._payload)}function v0(t){function a(W,Y){if(t){var $=W.deletions;$===null?(W.deletions=[Y],W.flags|=16):$.push(Y)}}function c(W,Y){if(!t)return null;for(;Y!==null;)a(W,Y),Y=Y.sibling;return null}function g(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function y(W,Y){return W=Sa(W,Y),W.index=0,W.sibling=null,W}function S(W,Y,$){return W.index=$,t?($=W.alternate,$!==null?($=$.index,$<Y?(W.flags|=67108866,Y):$):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function M(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function R(W,Y,$,dt){return Y===null||Y.tag!==6?(Y=Xu($,W.mode,dt),Y.return=W,Y):(Y=y(Y,$),Y.return=W,Y)}function z(W,Y,$,dt){var Dt=$.type;return Dt===H?ht(W,Y,$.props.children,dt,$.key):Y!==null&&(Y.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===gt&&_0(Dt)===Y.type)?(Y=y(Y,$.props),Vl(Y,$),Y.return=W,Y):(Y=$o($.type,$.key,$.props,null,W.mode,dt),Vl(Y,$),Y.return=W,Y)}function tt(W,Y,$,dt){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==$.containerInfo||Y.stateNode.implementation!==$.implementation?(Y=Wu($,W.mode,dt),Y.return=W,Y):(Y=y(Y,$.children||[]),Y.return=W,Y)}function ht(W,Y,$,dt,Dt){return Y===null||Y.tag!==7?(Y=Xs($,W.mode,dt,Dt),Y.return=W,Y):(Y=y(Y,$),Y.return=W,Y)}function pt(W,Y,$){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Xu(""+Y,W.mode,$),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case D:return $=$o(Y.type,Y.key,Y.props,null,W.mode,$),Vl($,Y),$.return=W,$;case L:return Y=Wu(Y,W.mode,$),Y.return=W,Y;case gt:var dt=Y._init;return Y=dt(Y._payload),pt(W,Y,$)}if(K(Y)||_t(Y))return Y=Xs(Y,W.mode,$,null),Y.return=W,Y;if(typeof Y.then=="function")return pt(W,mc(Y),$);if(Y.$$typeof===at)return pt(W,ic(W,Y),$);pc(W,Y)}return null}function st(W,Y,$,dt){var Dt=Y!==null?Y.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Dt!==null?null:R(W,Y,""+$,dt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return $.key===Dt?z(W,Y,$,dt):null;case L:return $.key===Dt?tt(W,Y,$,dt):null;case gt:return Dt=$._init,$=Dt($._payload),st(W,Y,$,dt)}if(K($)||_t($))return Dt!==null?null:ht(W,Y,$,dt,null);if(typeof $.then=="function")return st(W,Y,mc($),dt);if($.$$typeof===at)return st(W,Y,ic(W,$),dt);pc(W,$)}return null}function lt(W,Y,$,dt,Dt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return W=W.get($)||null,R(Y,W,""+dt,Dt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case D:return W=W.get(dt.key===null?$:dt.key)||null,z(Y,W,dt,Dt);case L:return W=W.get(dt.key===null?$:dt.key)||null,tt(Y,W,dt,Dt);case gt:var ee=dt._init;return dt=ee(dt._payload),lt(W,Y,$,dt,Dt)}if(K(dt)||_t(dt))return W=W.get($)||null,ht(Y,W,dt,Dt,null);if(typeof dt.then=="function")return lt(W,Y,$,mc(dt),Dt);if(dt.$$typeof===at)return lt(W,Y,$,ic(Y,dt),Dt);pc(Y,dt)}return null}function Yt(W,Y,$,dt){for(var Dt=null,ee=null,kt=Y,Vt=Y=0,Mn=null;kt!==null&&Vt<$.length;Vt++){kt.index>Vt?(Mn=kt,kt=null):Mn=kt.sibling;var de=st(W,kt,$[Vt],dt);if(de===null){kt===null&&(kt=Mn);break}t&&kt&&de.alternate===null&&a(W,kt),Y=S(de,Y,Vt),ee===null?Dt=de:ee.sibling=de,ee=de,kt=Mn}if(Vt===$.length)return c(W,kt),xe&&Zs(W,Vt),Dt;if(kt===null){for(;Vt<$.length;Vt++)kt=pt(W,$[Vt],dt),kt!==null&&(Y=S(kt,Y,Vt),ee===null?Dt=kt:ee.sibling=kt,ee=kt);return xe&&Zs(W,Vt),Dt}for(kt=g(kt);Vt<$.length;Vt++)Mn=lt(kt,W,Vt,$[Vt],dt),Mn!==null&&(t&&Mn.alternate!==null&&kt.delete(Mn.key===null?Vt:Mn.key),Y=S(Mn,Y,Vt),ee===null?Dt=Mn:ee.sibling=Mn,ee=Mn);return t&&kt.forEach(function(Ss){return a(W,Ss)}),xe&&Zs(W,Vt),Dt}function Ht(W,Y,$,dt){if($==null)throw Error(o(151));for(var Dt=null,ee=null,kt=Y,Vt=Y=0,Mn=null,de=$.next();kt!==null&&!de.done;Vt++,de=$.next()){kt.index>Vt?(Mn=kt,kt=null):Mn=kt.sibling;var Ss=st(W,kt,de.value,dt);if(Ss===null){kt===null&&(kt=Mn);break}t&&kt&&Ss.alternate===null&&a(W,kt),Y=S(Ss,Y,Vt),ee===null?Dt=Ss:ee.sibling=Ss,ee=Ss,kt=Mn}if(de.done)return c(W,kt),xe&&Zs(W,Vt),Dt;if(kt===null){for(;!de.done;Vt++,de=$.next())de=pt(W,de.value,dt),de!==null&&(Y=S(de,Y,Vt),ee===null?Dt=de:ee.sibling=de,ee=de);return xe&&Zs(W,Vt),Dt}for(kt=g(kt);!de.done;Vt++,de=$.next())de=lt(kt,W,Vt,de.value,dt),de!==null&&(t&&de.alternate!==null&&kt.delete(de.key===null?Vt:de.key),Y=S(de,Y,Vt),ee===null?Dt=de:ee.sibling=de,ee=de);return t&&kt.forEach(function(Rp){return a(W,Rp)}),xe&&Zs(W,Vt),Dt}function De(W,Y,$,dt){if(typeof $=="object"&&$!==null&&$.type===H&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case D:t:{for(var Dt=$.key;Y!==null;){if(Y.key===Dt){if(Dt=$.type,Dt===H){if(Y.tag===7){c(W,Y.sibling),dt=y(Y,$.props.children),dt.return=W,W=dt;break t}}else if(Y.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===gt&&_0(Dt)===Y.type){c(W,Y.sibling),dt=y(Y,$.props),Vl(dt,$),dt.return=W,W=dt;break t}c(W,Y);break}else a(W,Y);Y=Y.sibling}$.type===H?(dt=Xs($.props.children,W.mode,dt,$.key),dt.return=W,W=dt):(dt=$o($.type,$.key,$.props,null,W.mode,dt),Vl(dt,$),dt.return=W,W=dt)}return M(W);case L:t:{for(Dt=$.key;Y!==null;){if(Y.key===Dt)if(Y.tag===4&&Y.stateNode.containerInfo===$.containerInfo&&Y.stateNode.implementation===$.implementation){c(W,Y.sibling),dt=y(Y,$.children||[]),dt.return=W,W=dt;break t}else{c(W,Y);break}else a(W,Y);Y=Y.sibling}dt=Wu($,W.mode,dt),dt.return=W,W=dt}return M(W);case gt:return Dt=$._init,$=Dt($._payload),De(W,Y,$,dt)}if(K($))return Yt(W,Y,$,dt);if(_t($)){if(Dt=_t($),typeof Dt!="function")throw Error(o(150));return $=Dt.call($),Ht(W,Y,$,dt)}if(typeof $.then=="function")return De(W,Y,mc($),dt);if($.$$typeof===at)return De(W,Y,ic(W,$),dt);pc(W,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,Y!==null&&Y.tag===6?(c(W,Y.sibling),dt=y(Y,$),dt.return=W,W=dt):(c(W,Y),dt=Xu($,W.mode,dt),dt.return=W,W=dt),M(W)):c(W,Y)}return function(W,Y,$,dt){try{jl=0;var Dt=De(W,Y,$,dt);return Hr=null,Dt}catch(kt){if(kt===Rl||kt===sc)throw kt;var ee=ui(29,kt,null,W.mode);return ee.lanes=dt,ee.return=W,ee}finally{}}}var jr=v0(!0),T0=v0(!1),vi=ot(null),sa=null;function os(t){var a=t.alternate;wt(wn,wn.current&1),wt(vi,t),sa===null&&(a===null||Fr.current!==null||a.memoizedState!==null)&&(sa=t)}function M0(t){if(t.tag===22){if(wt(wn,wn.current),wt(vi,t),sa===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(sa=t)}}else cs()}function cs(){wt(wn,wn.current),wt(vi,vi.current)}function Oa(t){ft(vi),sa===t&&(sa=null),ft(wn)}var wn=ot(0);function yc(t){for(var a=t;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||mh(c)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Tf(t,a,c,g){a=t.memoizedState,c=c(g,a),c=c==null?a:_({},a,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var Mf={enqueueSetState:function(t,a,c){t=t._reactInternals;var g=gi(),y=ss(g);y.payload=a,c!=null&&(y.callback=c),a=rs(t,y,g),a!==null&&(xi(a,t,g),Bl(a,t,g))},enqueueReplaceState:function(t,a,c){t=t._reactInternals;var g=gi(),y=ss(g);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=rs(t,y,g),a!==null&&(xi(a,t,g),Bl(a,t,g))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var c=gi(),g=ss(c);g.tag=2,a!=null&&(g.callback=a),a=rs(t,g,c),a!==null&&(xi(a,t,c),Bl(a,t,c))}};function O0(t,a,c,g,y,S,M){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(g,S,M):a.prototype&&a.prototype.isPureReactComponent?!h(c,g)||!h(y,S):!0}function N0(t,a,c,g){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==t&&Mf.enqueueReplaceState(a,a.state,null)}function er(t,a){var c=a;if("ref"in a){c={};for(var g in a)g!=="ref"&&(c[g]=a[g])}if(t=t.defaultProps){c===a&&(c=_({},c));for(var y in t)c[y]===void 0&&(c[y]=t[y])}return c}var bc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function I0(t){bc(t)}function D0(t){console.error(t)}function R0(t){bc(t)}function Ac(t,a){try{var c=t.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(g){setTimeout(function(){throw g})}}function L0(t,a,c){try{var g=t.onCaughtError;g(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Of(t,a,c){return c=ss(c),c.tag=3,c.payload={element:null},c.callback=function(){Ac(t,a)},c}function B0(t){return t=ss(t),t.tag=3,t}function k0(t,a,c,g){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var S=g.value;t.payload=function(){return y(S)},t.callback=function(){L0(a,c,g)}}var M=c.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(t.callback=function(){L0(a,c,g),typeof y!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var R=g.stack;this.componentDidCatch(g.value,{componentStack:R!==null?R:""})})}function Rm(t,a,c,g,y){if(c.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(a=c.alternate,a!==null&&Nl(a,c,y,!0),c=vi.current,c!==null){switch(c.tag){case 13:return sa===null?$f():c.alternate===null&&$e===0&&($e=3),c.flags&=-257,c.flags|=65536,c.lanes=y,g===af?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([g]):a.add(g),eh(t,g,y)),!1;case 22:return c.flags|=65536,g===af?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([g])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([g]):c.add(g)),eh(t,g,y)),!1}throw Error(o(435,c.tag))}return eh(t,g,y),$f(),!1}if(xe)return a=vi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,g!==Qu&&(t=Error(o(422),{cause:g}),Ol(Ei(t,c)))):(g!==Qu&&(a=Error(o(423),{cause:g}),Ol(Ei(a,c))),t=t.current.alternate,t.flags|=65536,y&=-y,t.lanes|=y,g=Ei(g,c),y=Of(t.stateNode,g,y),lf(t,y),$e!==4&&($e=2)),!1;var S=Error(o(520),{cause:g});if(S=Ei(S,c),Ql===null?Ql=[S]:Ql.push(S),$e!==4&&($e=2),a===null)return!0;g=Ei(g,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,t=y&-y,c.lanes|=t,t=Of(c.stateNode,g,t),lf(c,t),!1;case 1:if(a=c.type,S=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xs===null||!xs.has(S))))return c.flags|=65536,y&=-y,c.lanes|=y,y=B0(y),k0(y,t,c,g),lf(c,y),!1}c=c.return}while(c!==null);return!1}var F0=Error(o(461)),vn=!1;function Rn(t,a,c,g){a.child=t===null?T0(a,null,c,g):jr(a,t.child,c,g)}function P0(t,a,c,g,y){c=c.render;var S=a.ref;if("ref"in g){var M={};for(var R in g)R!=="ref"&&(M[R]=g[R])}else M=g;return Js(a),g=hf(t,a,c,M,S,y),R=df(),t!==null&&!vn?(gf(t,a,y),Na(t,a,y)):(xe&&R&&Zu(a),a.flags|=1,Rn(t,a,g,y),a.child)}function U0(t,a,c,g,y){if(t===null){var S=c.type;return typeof S=="function"&&!Gu(S)&&S.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=S,z0(t,a,S,g,y)):(t=$o(c.type,null,g,a,a.mode,y),t.ref=a.ref,t.return=a,a.child=t)}if(S=t.child,!Ff(t,y)){var M=S.memoizedProps;if(c=c.compare,c=c!==null?c:h,c(M,g)&&t.ref===a.ref)return Na(t,a,y)}return a.flags|=1,t=Sa(S,g),t.ref=a.ref,t.return=a,a.child=t}function z0(t,a,c,g,y){if(t!==null){var S=t.memoizedProps;if(h(S,g)&&t.ref===a.ref)if(vn=!1,a.pendingProps=g=S,Ff(t,y))(t.flags&131072)!==0&&(vn=!0);else return a.lanes=t.lanes,Na(t,a,y)}return Nf(t,a,c,g,y)}function H0(t,a,c){var g=a.pendingProps,y=g.children,S=t!==null?t.memoizedState:null;if(g.mode==="hidden"){if((a.flags&128)!==0){if(g=S!==null?S.baseLanes|c:c,t!==null){for(y=a.child=t.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;a.childLanes=S&~g}else a.childLanes=0,a.child=null;return j0(t,a,g,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(a,S!==null?S.cachePool:null),S!==null?zd(a,S):cf(),M0(a);else return a.lanes=a.childLanes=536870912,j0(t,a,S!==null?S.baseLanes|c:c,c)}else S!==null?(ac(a,S.cachePool),zd(a,S),cs(),a.memoizedState=null):(t!==null&&ac(a,null),cf(),cs());return Rn(t,a,y,c),a.child}function j0(t,a,c,g){var y=nf();return y=y===null?null:{parent:An._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},t!==null&&ac(a,null),cf(),M0(a),t!==null&&Nl(t,a,g,!0),null}function wc(t,a){var c=a.ref;if(c===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(t===null||t.ref!==c)&&(a.flags|=4194816)}}function Nf(t,a,c,g,y){return Js(a),c=hf(t,a,c,g,void 0,y),g=df(),t!==null&&!vn?(gf(t,a,y),Na(t,a,y)):(xe&&g&&Zu(a),a.flags|=1,Rn(t,a,c,y),a.child)}function V0(t,a,c,g,y,S){return Js(a),a.updateQueue=null,c=jd(a,g,c,y),Hd(t),g=df(),t!==null&&!vn?(gf(t,a,S),Na(t,a,S)):(xe&&g&&Zu(a),a.flags|=1,Rn(t,a,c,S),a.child)}function Y0(t,a,c,g,y){if(Js(a),a.stateNode===null){var S=Dr,M=c.contextType;typeof M=="object"&&M!==null&&(S=jn(M)),S=new c(g,S),a.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Mf,a.stateNode=S,S._reactInternals=a,S=a.stateNode,S.props=g,S.state=a.memoizedState,S.refs={},sf(a),M=c.contextType,S.context=typeof M=="object"&&M!==null?jn(M):Dr,S.state=a.memoizedState,M=c.getDerivedStateFromProps,typeof M=="function"&&(Tf(a,c,M,g),S.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&Mf.enqueueReplaceState(S,S.state,null),Fl(a,g,S,y),kl(),S.state=a.memoizedState),typeof S.componentDidMount=="function"&&(a.flags|=4194308),g=!0}else if(t===null){S=a.stateNode;var R=a.memoizedProps,z=er(c,R);S.props=z;var tt=S.context,ht=c.contextType;M=Dr,typeof ht=="object"&&ht!==null&&(M=jn(ht));var pt=c.getDerivedStateFromProps;ht=typeof pt=="function"||typeof S.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ht||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R||tt!==M)&&N0(a,S,g,M),as=!1;var st=a.memoizedState;S.state=st,Fl(a,g,S,y),kl(),tt=a.memoizedState,R||st!==tt||as?(typeof pt=="function"&&(Tf(a,c,pt,g),tt=a.memoizedState),(z=as||O0(a,c,z,g,st,tt,M))?(ht||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=tt),S.props=g,S.state=tt,S.context=M,g=z):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{S=a.stateNode,rf(t,a),M=a.memoizedProps,ht=er(c,M),S.props=ht,pt=a.pendingProps,st=S.context,tt=c.contextType,z=Dr,typeof tt=="object"&&tt!==null&&(z=jn(tt)),R=c.getDerivedStateFromProps,(tt=typeof R=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==pt||st!==z)&&N0(a,S,g,z),as=!1,st=a.memoizedState,S.state=st,Fl(a,g,S,y),kl();var lt=a.memoizedState;M!==pt||st!==lt||as||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof R=="function"&&(Tf(a,c,R,g),lt=a.memoizedState),(ht=as||O0(a,c,ht,g,st,lt,z)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(tt||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(g,lt,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(g,lt,z)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===t.memoizedProps&&st===t.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&st===t.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=lt),S.props=g,S.state=lt,S.context=z,g=ht):(typeof S.componentDidUpdate!="function"||M===t.memoizedProps&&st===t.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===t.memoizedProps&&st===t.memoizedState||(a.flags|=1024),g=!1)}return S=g,wc(t,a),g=(a.flags&128)!==0,S||g?(S=a.stateNode,c=g&&typeof c.getDerivedStateFromError!="function"?null:S.render(),a.flags|=1,t!==null&&g?(a.child=jr(a,t.child,null,y),a.child=jr(a,null,c,y)):Rn(t,a,c,y),a.memoizedState=S.state,t=a.child):t=Na(t,a,y),t}function G0(t,a,c,g){return Ml(),a.flags|=256,Rn(t,a,c,g),a.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Df(t){return{baseLanes:t,cachePool:Dd()}}function Rf(t,a,c){return t=t!==null?t.childLanes&~c:0,a&&(t|=Ti),t}function X0(t,a,c){var g=a.pendingProps,y=!1,S=(a.flags&128)!==0,M;if((M=S)||(M=t!==null&&t.memoizedState===null?!1:(wn.current&2)!==0),M&&(y=!0,a.flags&=-129),M=(a.flags&32)!==0,a.flags&=-33,t===null){if(xe){if(y?os(a):cs(),xe){var R=Je,z;if(z=R){t:{for(z=R,R=aa;z.nodeType!==8;){if(!R){R=null;break t}if(z=zi(z.nextSibling),z===null){R=null;break t}}R=z}R!==null?(a.memoizedState={dehydrated:R,treeContext:Ws!==null?{id:Ca,overflow:_a}:null,retryLane:536870912,hydrationErrors:null},z=ui(18,null,null,0),z.stateNode=R,z.return=a,a.child=z,qn=a,Je=null,z=!0):z=!1}z||Qs(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return mh(R)?a.lanes=32:a.lanes=536870912,null;Oa(a)}return R=g.children,g=g.fallback,y?(cs(),y=a.mode,R=Ec({mode:"hidden",children:R},y),g=Xs(g,y,c,null),R.return=a,g.return=a,R.sibling=g,a.child=R,y=a.child,y.memoizedState=Df(c),y.childLanes=Rf(t,M,c),a.memoizedState=If,g):(os(a),Lf(a,R))}if(z=t.memoizedState,z!==null&&(R=z.dehydrated,R!==null)){if(S)a.flags&256?(os(a),a.flags&=-257,a=Bf(t,a,c)):a.memoizedState!==null?(cs(),a.child=t.child,a.flags|=128,a=null):(cs(),y=g.fallback,R=a.mode,g=Ec({mode:"visible",children:g.children},R),y=Xs(y,R,c,null),y.flags|=2,g.return=a,y.return=a,g.sibling=y,a.child=g,jr(a,t.child,null,c),g=a.child,g.memoizedState=Df(c),g.childLanes=Rf(t,M,c),a.memoizedState=If,a=y);else if(os(a),mh(R)){if(M=R.nextSibling&&R.nextSibling.dataset,M)var tt=M.dgst;M=tt,g=Error(o(419)),g.stack="",g.digest=M,Ol({value:g,source:null,stack:null}),a=Bf(t,a,c)}else if(vn||Nl(t,a,c,!1),M=(c&t.childLanes)!==0,vn||M){if(M=Pe,M!==null&&(g=c&-c,g=(g&42)!==0?1:Bs(g),g=(g&(M.suspendedLanes|c))!==0?0:g,g!==0&&g!==z.retryLane))throw z.retryLane=g,Ir(t,g),xi(M,t,g),F0;R.data==="$?"||$f(),a=Bf(t,a,c)}else R.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=z.treeContext,Je=zi(R.nextSibling),qn=a,xe=!0,qs=null,aa=!1,t!==null&&(Ci[_i++]=Ca,Ci[_i++]=_a,Ci[_i++]=Ws,Ca=t.id,_a=t.overflow,Ws=a),a=Lf(a,g.children),a.flags|=4096);return a}return y?(cs(),y=g.fallback,R=a.mode,z=t.child,tt=z.sibling,g=Sa(z,{mode:"hidden",children:g.children}),g.subtreeFlags=z.subtreeFlags&65011712,tt!==null?y=Sa(tt,y):(y=Xs(y,R,c,null),y.flags|=2),y.return=a,g.return=a,g.sibling=y,a.child=g,g=y,y=a.child,R=t.child.memoizedState,R===null?R=Df(c):(z=R.cachePool,z!==null?(tt=An._currentValue,z=z.parent!==tt?{parent:tt,pool:tt}:z):z=Dd(),R={baseLanes:R.baseLanes|c,cachePool:z}),y.memoizedState=R,y.childLanes=Rf(t,M,c),a.memoizedState=If,g):(os(a),c=t.child,t=c.sibling,c=Sa(c,{mode:"visible",children:g.children}),c.return=a,c.sibling=null,t!==null&&(M=a.deletions,M===null?(a.deletions=[t],a.flags|=16):M.push(t)),a.child=c,a.memoizedState=null,c)}function Lf(t,a){return a=Ec({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Ec(t,a){return t=ui(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bf(t,a,c){return jr(a,t.child,null,c),t=Lf(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function W0(t,a,c){t.lanes|=a;var g=t.alternate;g!==null&&(g.lanes|=a),Ju(t.return,a,c)}function kf(t,a,c,g,y){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:y}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=c,S.tailMode=y)}function Z0(t,a,c){var g=a.pendingProps,y=g.revealOrder,S=g.tail;if(Rn(t,a,g.children,c),g=wn.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,c,a);else if(t.tag===19)W0(t,c,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break t;for(;t.sibling===null;){if(t.return===null||t.return===a)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}g&=1}switch(wt(wn,g),y){case"forwards":for(c=a.child,y=null;c!==null;)t=c.alternate,t!==null&&yc(t)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),kf(a,!1,y,c,S);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(t=y.alternate,t!==null&&yc(t)===null){a.child=y;break}t=y.sibling,y.sibling=c,c=y,y=t}kf(a,!0,c,null,S);break;case"together":kf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Na(t,a,c){if(t!==null&&(a.dependencies=t.dependencies),gs|=a.lanes,(c&a.childLanes)===0)if(t!==null){if(Nl(t,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(o(153));if(a.child!==null){for(t=a.child,c=Sa(t,t.pendingProps),a.child=c,c.return=a;t.sibling!==null;)t=t.sibling,c=c.sibling=Sa(t,t.pendingProps),c.return=a;c.sibling=null}return a.child}function Ff(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Lm(t,a,c){switch(a.tag){case 3:Qt(a,a.stateNode.containerInfo),is(a,An,t.memoizedState.cache),Ml();break;case 27:case 5:xa(a);break;case 4:Qt(a,a.stateNode.containerInfo);break;case 10:is(a,a.type,a.memoizedProps.value);break;case 13:var g=a.memoizedState;if(g!==null)return g.dehydrated!==null?(os(a),a.flags|=128,null):(c&a.child.childLanes)!==0?X0(t,a,c):(os(a),t=Na(t,a,c),t!==null?t.sibling:null);os(a);break;case 19:var y=(t.flags&128)!==0;if(g=(c&a.childLanes)!==0,g||(Nl(t,a,c,!1),g=(c&a.childLanes)!==0),y){if(g)return Z0(t,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),wt(wn,wn.current),g)break;return null;case 22:case 23:return a.lanes=0,H0(t,a,c);case 24:is(a,An,t.memoizedState.cache)}return Na(t,a,c)}function q0(t,a,c){if(t!==null)if(t.memoizedProps!==a.pendingProps)vn=!0;else{if(!Ff(t,c)&&(a.flags&128)===0)return vn=!1,Lm(t,a,c);vn=(t.flags&131072)!==0}else vn=!1,xe&&(a.flags&1048576)!==0&&_d(a,ec,a.index);switch(a.lanes=0,a.tag){case 16:t:{t=a.pendingProps;var g=a.elementType,y=g._init;if(g=y(g._payload),a.type=g,typeof g=="function")Gu(g)?(t=er(g,t),a.tag=1,a=Y0(null,a,g,t,c)):(a.tag=0,a=Nf(null,a,g,t,c));else{if(g!=null){if(y=g.$$typeof,y===mt){a.tag=11,a=P0(null,a,g,t,c);break t}else if(y===X){a.tag=14,a=U0(null,a,g,t,c);break t}}throw a=Gt(g)||g,Error(o(306,a,""))}}return a;case 0:return Nf(t,a,a.type,a.pendingProps,c);case 1:return g=a.type,y=er(g,a.pendingProps),Y0(t,a,g,y,c);case 3:t:{if(Qt(a,a.stateNode.containerInfo),t===null)throw Error(o(387));g=a.pendingProps;var S=a.memoizedState;y=S.element,rf(t,a),Fl(a,g,null,c);var M=a.memoizedState;if(g=M.cache,is(a,An,g),g!==S.cache&&$u(a,[An],c,!0),kl(),g=M.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:M.cache},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){a=G0(t,a,g,c);break t}else if(g!==y){y=Ei(Error(o(424)),a),Ol(y),a=G0(t,a,g,c);break t}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Je=zi(t.firstChild),qn=a,xe=!0,qs=null,aa=!0,c=T0(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Ml(),g===y){a=Na(t,a,c);break t}Rn(t,a,g,c)}a=a.child}return a;case 26:return wc(t,a),t===null?(c=$1(a.type,null,a.pendingProps,null))?a.memoizedState=c:xe||(c=a.type,t=a.pendingProps,g=kc(At.current).createElement(c),g[Sn]=a,g[qe]=t,Bn(g,c,t),Ae(g),a.stateNode=g):a.memoizedState=$1(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return xa(a),t===null&&xe&&(g=a.stateNode=Q1(a.type,a.pendingProps,At.current),qn=a,aa=!0,y=Je,ys(a.type)?(ph=y,Je=zi(g.firstChild)):Je=y),Rn(t,a,a.pendingProps.children,c),wc(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&xe&&((y=g=Je)&&(g=op(g,a.type,a.pendingProps,aa),g!==null?(a.stateNode=g,qn=a,Je=zi(g.firstChild),aa=!1,y=!0):y=!1),y||Qs(a)),xa(a),y=a.type,S=a.pendingProps,M=t!==null?t.memoizedProps:null,g=S.children,dh(y,S)?g=null:M!==null&&dh(y,M)&&(a.flags|=32),a.memoizedState!==null&&(y=hf(t,a,vm,null,null,c),so._currentValue=y),wc(t,a),Rn(t,a,g,c),a.child;case 6:return t===null&&xe&&((t=c=Je)&&(c=cp(c,a.pendingProps,aa),c!==null?(a.stateNode=c,qn=a,Je=null,t=!0):t=!1),t||Qs(a)),null;case 13:return X0(t,a,c);case 4:return Qt(a,a.stateNode.containerInfo),g=a.pendingProps,t===null?a.child=jr(a,null,g,c):Rn(t,a,g,c),a.child;case 11:return P0(t,a,a.type,a.pendingProps,c);case 7:return Rn(t,a,a.pendingProps,c),a.child;case 8:return Rn(t,a,a.pendingProps.children,c),a.child;case 12:return Rn(t,a,a.pendingProps.children,c),a.child;case 10:return g=a.pendingProps,is(a,a.type,g.value),Rn(t,a,g.children,c),a.child;case 9:return y=a.type._context,g=a.pendingProps.children,Js(a),y=jn(y),g=g(y),a.flags|=1,Rn(t,a,g,c),a.child;case 14:return U0(t,a,a.type,a.pendingProps,c);case 15:return z0(t,a,a.type,a.pendingProps,c);case 19:return Z0(t,a,c);case 31:return g=a.pendingProps,c=a.mode,g={mode:g.mode,children:g.children},t===null?(c=Ec(g,c),c.ref=a.ref,a.child=c,c.return=a,a=c):(c=Sa(t.child,g),c.ref=a.ref,a.child=c,c.return=a,a=c),a;case 22:return H0(t,a,c);case 24:return Js(a),g=jn(An),t===null?(y=nf(),y===null&&(y=Pe,S=tf(),y.pooledCache=S,S.refCount++,S!==null&&(y.pooledCacheLanes|=c),y=S),a.memoizedState={parent:g,cache:y},sf(a),is(a,An,y)):((t.lanes&c)!==0&&(rf(t,a),Fl(a,null,null,c),kl()),y=t.memoizedState,S=a.memoizedState,y.parent!==g?(y={parent:g,cache:g},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),is(a,An,g)):(g=S.cache,is(a,An,g),g!==y.cache&&$u(a,[An],c,!0))),Rn(t,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Ia(t){t.flags|=4}function Q0(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ag(a)){if(a=vi.current,a!==null&&((ue&4194048)===ue?sa!==null:(ue&62914560)!==ue&&(ue&536870912)===0||a!==sa))throw Ll=af,Rd;t.flags|=8192}}function Sc(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?ml():536870912,t.lanes|=a,Xr|=a)}function Yl(t,a){if(!xe)switch(t.tailMode){case"hidden":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:g.sibling=null}}function We(t){var a=t.alternate!==null&&t.alternate.child===t.child,c=0,g=0;if(a)for(var y=t.child;y!==null;)c|=y.lanes|y.childLanes,g|=y.subtreeFlags&65011712,g|=y.flags&65011712,y.return=t,y=y.sibling;else for(y=t.child;y!==null;)c|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=t,y=y.sibling;return t.subtreeFlags|=g,t.childLanes=c,a}function Bm(t,a,c){var g=a.pendingProps;switch(qu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return c=a.stateNode,g=null,t!==null&&(g=t.memoizedState.cache),a.memoizedState.cache!==g&&(a.flags|=2048),Ta(An),Qn(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(Tl(a)?Ia(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Md())),We(a),null;case 26:return c=a.memoizedState,t===null?(Ia(a),c!==null?(We(a),Q0(a,c)):(We(a),a.flags&=-16777217)):c?c!==t.memoizedState?(Ia(a),We(a),Q0(a,c)):(We(a),a.flags&=-16777217):(t.memoizedProps!==g&&Ia(a),We(a),a.flags&=-16777217),null;case 27:dn(a),c=At.current;var y=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==g&&Ia(a);else{if(!g){if(a.stateNode===null)throw Error(o(166));return We(a),null}t=bt.current,Tl(a)?vd(a):(t=Q1(y,g,c),a.stateNode=t,Ia(a))}return We(a),null;case 5:if(dn(a),c=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==g&&Ia(a);else{if(!g){if(a.stateNode===null)throw Error(o(166));return We(a),null}if(t=bt.current,Tl(a))vd(a);else{switch(y=kc(At.current),t){case 1:t=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:t=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":t=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":t=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof g.is=="string"?y.createElement("select",{is:g.is}):y.createElement("select"),g.multiple?t.multiple=!0:g.size&&(t.size=g.size);break;default:t=typeof g.is=="string"?y.createElement(c,{is:g.is}):y.createElement(c)}}t[Sn]=a,t[qe]=g;t:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)t.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break t;for(;y.sibling===null;){if(y.return===null||y.return===a)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=t;t:switch(Bn(t,c,g),c){case"button":case"input":case"select":case"textarea":t=!!g.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ia(a)}}return We(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==g&&Ia(a);else{if(typeof g!="string"&&a.stateNode===null)throw Error(o(166));if(t=At.current,Tl(a)){if(t=a.stateNode,c=a.memoizedProps,g=null,y=qn,y!==null)switch(y.tag){case 27:case 5:g=y.memoizedProps}t[Sn]=a,t=!!(t.nodeValue===c||g!==null&&g.suppressHydrationWarning===!0||V1(t.nodeValue,c)),t||Qs(a)}else t=kc(t).createTextNode(g),t[Sn]=a,a.stateNode=t}return We(a),null;case 13:if(g=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(y=Tl(a),g!==null&&g.dehydrated!==null){if(t===null){if(!y)throw Error(o(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(o(317));y[Sn]=a}else Ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),y=!1}else y=Md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Oa(a),a):(Oa(a),null)}if(Oa(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=g!==null,t=t!==null&&t.memoizedState!==null,c){g=a.child,y=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(y=g.alternate.memoizedState.cachePool.pool);var S=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(S=g.memoizedState.cachePool.pool),S!==y&&(g.flags|=2048)}return c!==t&&c&&(a.child.flags|=8192),Sc(a,a.updateQueue),We(a),null;case 4:return Qn(),t===null&&oh(a.stateNode.containerInfo),We(a),null;case 10:return Ta(a.type),We(a),null;case 19:if(ft(wn),y=a.memoizedState,y===null)return We(a),null;if(g=(a.flags&128)!==0,S=y.rendering,S===null)if(g)Yl(y,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(S=yc(t),S!==null){for(a.flags|=128,Yl(y,!1),t=S.updateQueue,a.updateQueue=t,Sc(a,t),a.subtreeFlags=0,t=c,c=a.child;c!==null;)Cd(c,t),c=c.sibling;return wt(wn,wn.current&1|2),a.child}t=t.sibling}y.tail!==null&&Te()>vc&&(a.flags|=128,g=!0,Yl(y,!1),a.lanes=4194304)}else{if(!g)if(t=yc(S),t!==null){if(a.flags|=128,g=!0,t=t.updateQueue,a.updateQueue=t,Sc(a,t),Yl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!xe)return We(a),null}else 2*Te()-y.renderingStartTime>vc&&c!==536870912&&(a.flags|=128,g=!0,Yl(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(t=y.last,t!==null?t.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Te(),a.sibling=null,t=wn.current,wt(wn,g?t&1|2:t&1),a):(We(a),null);case 22:case 23:return Oa(a),uf(),g=a.memoizedState!==null,t!==null?t.memoizedState!==null!==g&&(a.flags|=8192):g&&(a.flags|=8192),g?(c&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),c=a.updateQueue,c!==null&&Sc(a,c.retryQueue),c=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),g=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(g=a.memoizedState.cachePool.pool),g!==c&&(a.flags|=2048),t!==null&&ft($s),null;case 24:return c=null,t!==null&&(c=t.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ta(An),We(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function km(t,a){switch(qu(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Ta(An),Qn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return dn(a),null;case 13:if(Oa(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Ml()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ft(wn),null;case 4:return Qn(),null;case 10:return Ta(a.type),null;case 22:case 23:return Oa(a),uf(),t!==null&&ft($s),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Ta(An),null;case 25:return null;default:return null}}function K0(t,a){switch(qu(a),a.tag){case 3:Ta(An),Qn();break;case 26:case 27:case 5:dn(a);break;case 4:Qn();break;case 13:Oa(a);break;case 19:ft(wn);break;case 10:Ta(a.type);break;case 22:case 23:Oa(a),uf(),t!==null&&ft($s);break;case 24:Ta(An)}}function Gl(t,a){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&t)===t){g=void 0;var S=c.create,M=c.inst;g=S(),M.destroy=g}c=c.next}while(c!==y)}}catch(R){Be(a,a.return,R)}}function us(t,a,c){try{var g=a.updateQueue,y=g!==null?g.lastEffect:null;if(y!==null){var S=y.next;g=S;do{if((g.tag&t)===t){var M=g.inst,R=M.destroy;if(R!==void 0){M.destroy=void 0,y=a;var z=c,tt=R;try{tt()}catch(ht){Be(y,z,ht)}}}g=g.next}while(g!==S)}}catch(ht){Be(a,a.return,ht)}}function J0(t){var a=t.updateQueue;if(a!==null){var c=t.stateNode;try{Ud(a,c)}catch(g){Be(t,t.return,g)}}}function $0(t,a,c){c.props=er(t.type,t.memoizedProps),c.state=t.memoizedState;try{c.componentWillUnmount()}catch(g){Be(t,a,g)}}function Xl(t,a){try{var c=t.ref;if(c!==null){switch(t.tag){case 26:case 27:case 5:var g=t.stateNode;break;case 30:g=t.stateNode;break;default:g=t.stateNode}typeof c=="function"?t.refCleanup=c(g):c.current=g}}catch(y){Be(t,a,y)}}function ra(t,a){var c=t.ref,g=t.refCleanup;if(c!==null)if(typeof g=="function")try{g()}catch(y){Be(t,a,y)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){Be(t,a,y)}else c.current=null}function t1(t){var a=t.type,c=t.memoizedProps,g=t.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&g.focus();break t;case"img":c.src?g.src=c.src:c.srcSet&&(g.srcset=c.srcSet)}}catch(y){Be(t,t.return,y)}}function Pf(t,a,c){try{var g=t.stateNode;ip(g,t.type,c,a),g[qe]=a}catch(y){Be(t,t.return,y)}}function e1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ys(t.type)||t.tag===4}function Uf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||e1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zf(t,a,c){var g=t.tag;if(g===5||g===6)t=t.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(t,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(t),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Bc));else if(g!==4&&(g===27&&ys(t.type)&&(c=t.stateNode,a=null),t=t.child,t!==null))for(zf(t,a,c),t=t.sibling;t!==null;)zf(t,a,c),t=t.sibling}function Cc(t,a,c){var g=t.tag;if(g===5||g===6)t=t.stateNode,a?c.insertBefore(t,a):c.appendChild(t);else if(g!==4&&(g===27&&ys(t.type)&&(c=t.stateNode),t=t.child,t!==null))for(Cc(t,a,c),t=t.sibling;t!==null;)Cc(t,a,c),t=t.sibling}function n1(t){var a=t.stateNode,c=t.memoizedProps;try{for(var g=t.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Bn(a,g,c),a[Sn]=t,a[qe]=c}catch(S){Be(t,t.return,S)}}var Da=!1,ln=!1,Hf=!1,i1=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function Fm(t,a){if(t=t.containerInfo,fh=jc,t=C(t),v(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else t:{c=(c=t.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var y=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break t}var M=0,R=-1,z=-1,tt=0,ht=0,pt=t,st=null;e:for(;;){for(var lt;pt!==c||y!==0&&pt.nodeType!==3||(R=M+y),pt!==S||g!==0&&pt.nodeType!==3||(z=M+g),pt.nodeType===3&&(M+=pt.nodeValue.length),(lt=pt.firstChild)!==null;)st=pt,pt=lt;for(;;){if(pt===t)break e;if(st===c&&++tt===y&&(R=M),st===S&&++ht===g&&(z=M),(lt=pt.nextSibling)!==null)break;pt=st,st=pt.parentNode}pt=lt}c=R===-1||z===-1?null:{start:R,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(hh={focusedElem:t,selectionRange:c},jc=!1,Tn=a;Tn!==null;)if(a=Tn,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Tn=t;else for(;Tn!==null;){switch(a=Tn,S=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&S!==null){t=void 0,c=a,y=S.memoizedProps,S=S.memoizedState,g=c.stateNode;try{var Yt=er(c.type,y,c.elementType===c.type);t=g.getSnapshotBeforeUpdate(Yt,S),g.__reactInternalSnapshotBeforeUpdate=t}catch(Ht){Be(c,c.return,Ht)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,c=t.nodeType,c===9)xh(t);else if(c===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":xh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=a.sibling,t!==null){t.return=a.return,Tn=t;break}Tn=a.return}}function a1(t,a,c){var g=c.flags;switch(c.tag){case 0:case 11:case 15:fs(t,c),g&4&&Gl(5,c);break;case 1:if(fs(t,c),g&4)if(t=c.stateNode,a===null)try{t.componentDidMount()}catch(M){Be(c,c.return,M)}else{var y=er(c.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(y,a,t.__reactInternalSnapshotBeforeUpdate)}catch(M){Be(c,c.return,M)}}g&64&&J0(c),g&512&&Xl(c,c.return);break;case 3:if(fs(t,c),g&64&&(t=c.updateQueue,t!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{Ud(t,a)}catch(M){Be(c,c.return,M)}}break;case 27:a===null&&g&4&&n1(c);case 26:case 5:fs(t,c),a===null&&g&4&&t1(c),g&512&&Xl(c,c.return);break;case 12:fs(t,c);break;case 13:fs(t,c),g&4&&l1(t,c),g&64&&(t=c.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(c=Xm.bind(null,c),up(t,c))));break;case 22:if(g=c.memoizedState!==null||Da,!g){a=a!==null&&a.memoizedState!==null||ln,y=Da;var S=ln;Da=g,(ln=a)&&!S?hs(t,c,(c.subtreeFlags&8772)!==0):fs(t,c),Da=y,ln=S}break;case 30:break;default:fs(t,c)}}function s1(t){var a=t.alternate;a!==null&&(t.alternate=null,s1(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&ks(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,ni=!1;function Ra(t,a,c){for(c=c.child;c!==null;)r1(t,a,c),c=c.sibling}function r1(t,a,c){if(kn&&typeof kn.onCommitFiberUnmount=="function")try{kn.onCommitFiberUnmount(Nn,c)}catch{}switch(c.tag){case 26:ln||ra(c,a),Ra(t,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:ln||ra(c,a);var g=Ge,y=ni;ys(c.type)&&(Ge=c.stateNode,ni=!1),Ra(t,a,c),eo(c.stateNode),Ge=g,ni=y;break;case 5:ln||ra(c,a);case 6:if(g=Ge,y=ni,Ge=null,Ra(t,a,c),Ge=g,ni=y,Ge!==null)if(ni)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(c.stateNode)}catch(S){Be(c,a,S)}else try{Ge.removeChild(c.stateNode)}catch(S){Be(c,a,S)}break;case 18:Ge!==null&&(ni?(t=Ge,Z1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,c.stateNode),co(t)):Z1(Ge,c.stateNode));break;case 4:g=Ge,y=ni,Ge=c.stateNode.containerInfo,ni=!0,Ra(t,a,c),Ge=g,ni=y;break;case 0:case 11:case 14:case 15:ln||us(2,c,a),ln||us(4,c,a),Ra(t,a,c);break;case 1:ln||(ra(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"&&$0(c,a,g)),Ra(t,a,c);break;case 21:Ra(t,a,c);break;case 22:ln=(g=ln)||c.memoizedState!==null,Ra(t,a,c),ln=g;break;default:Ra(t,a,c)}}function l1(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{co(t)}catch(c){Be(a,a.return,c)}}function Pm(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new i1),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new i1),a;default:throw Error(o(435,t.tag))}}function jf(t,a){var c=Pm(t);a.forEach(function(g){var y=Wm.bind(null,t,g);c.has(g)||(c.add(g),g.then(y,y))})}function fi(t,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var y=c[g],S=t,M=a,R=M;t:for(;R!==null;){switch(R.tag){case 27:if(ys(R.type)){Ge=R.stateNode,ni=!1;break t}break;case 5:Ge=R.stateNode,ni=!1;break t;case 3:case 4:Ge=R.stateNode.containerInfo,ni=!0;break t}R=R.return}if(Ge===null)throw Error(o(160));r1(S,M,y),Ge=null,ni=!1,S=y.alternate,S!==null&&(S.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)o1(a,t),a=a.sibling}var Ui=null;function o1(t,a){var c=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fi(a,t),hi(t),g&4&&(us(3,t,t.return),Gl(3,t),us(5,t,t.return));break;case 1:fi(a,t),hi(t),g&512&&(ln||c===null||ra(c,c.return)),g&64&&Da&&(t=t.updateQueue,t!==null&&(g=t.callbacks,g!==null&&(c=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=c===null?g:c.concat(g))));break;case 26:var y=Ui;if(fi(a,t),hi(t),g&512&&(ln||c===null||ra(c,c.return)),g&4){var S=c!==null?c.memoizedState:null;if(g=t.memoizedState,c===null)if(g===null)if(t.stateNode===null){t:{g=t.type,c=t.memoizedProps,y=y.ownerDocument||y;e:switch(g){case"title":S=y.getElementsByTagName("title")[0],(!S||S[Ai]||S[Sn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=y.createElement(g),y.head.insertBefore(S,y.querySelector("head > title"))),Bn(S,g,c),S[Sn]=t,Ae(S),g=S;break t;case"link":var M=ng("link","href",y).get(g+(c.href||""));if(M){for(var R=0;R<M.length;R++)if(S=M[R],S.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&S.getAttribute("rel")===(c.rel==null?null:c.rel)&&S.getAttribute("title")===(c.title==null?null:c.title)&&S.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){M.splice(R,1);break e}}S=y.createElement(g),Bn(S,g,c),y.head.appendChild(S);break;case"meta":if(M=ng("meta","content",y).get(g+(c.content||""))){for(R=0;R<M.length;R++)if(S=M[R],S.getAttribute("content")===(c.content==null?null:""+c.content)&&S.getAttribute("name")===(c.name==null?null:c.name)&&S.getAttribute("property")===(c.property==null?null:c.property)&&S.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&S.getAttribute("charset")===(c.charSet==null?null:c.charSet)){M.splice(R,1);break e}}S=y.createElement(g),Bn(S,g,c),y.head.appendChild(S);break;default:throw Error(o(468,g))}S[Sn]=t,Ae(S),g=S}t.stateNode=g}else ig(y,t.type,t.stateNode);else t.stateNode=eg(y,g,t.memoizedProps);else S!==g?(S===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):S.count--,g===null?ig(y,t.type,t.stateNode):eg(y,g,t.memoizedProps)):g===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,c.memoizedProps)}break;case 27:fi(a,t),hi(t),g&512&&(ln||c===null||ra(c,c.return)),c!==null&&g&4&&Pf(t,t.memoizedProps,c.memoizedProps);break;case 5:if(fi(a,t),hi(t),g&512&&(ln||c===null||ra(c,c.return)),t.flags&32){y=t.stateNode;try{pn(y,"")}catch(lt){Be(t,t.return,lt)}}g&4&&t.stateNode!=null&&(y=t.memoizedProps,Pf(t,y,c!==null?c.memoizedProps:y)),g&1024&&(Hf=!0);break;case 6:if(fi(a,t),hi(t),g&4){if(t.stateNode===null)throw Error(o(162));g=t.memoizedProps,c=t.stateNode;try{c.nodeValue=g}catch(lt){Be(t,t.return,lt)}}break;case 3:if(Uc=null,y=Ui,Ui=Fc(a.containerInfo),fi(a,t),Ui=y,hi(t),g&4&&c!==null&&c.memoizedState.isDehydrated)try{co(a.containerInfo)}catch(lt){Be(t,t.return,lt)}Hf&&(Hf=!1,c1(t));break;case 4:g=Ui,Ui=Fc(t.stateNode.containerInfo),fi(a,t),hi(t),Ui=g;break;case 12:fi(a,t),hi(t);break;case 13:fi(a,t),hi(t),t.child.flags&8192&&t.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Zf=Te()),g&4&&(g=t.updateQueue,g!==null&&(t.updateQueue=null,jf(t,g)));break;case 22:y=t.memoizedState!==null;var z=c!==null&&c.memoizedState!==null,tt=Da,ht=ln;if(Da=tt||y,ln=ht||z,fi(a,t),ln=ht,Da=tt,hi(t),g&8192)t:for(a=t.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(c===null||z||Da||ln||nr(t)),c=null,a=t;;){if(a.tag===5||a.tag===26){if(c===null){z=c=a;try{if(S=z.stateNode,y)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{R=z.stateNode;var pt=z.memoizedProps.style,st=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;R.style.display=st==null||typeof st=="boolean"?"":(""+st).trim()}}catch(lt){Be(z,z.return,lt)}}}else if(a.tag===6){if(c===null){z=a;try{z.stateNode.nodeValue=y?"":z.memoizedProps}catch(lt){Be(z,z.return,lt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break t;for(;a.sibling===null;){if(a.return===null||a.return===t)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}g&4&&(g=t.updateQueue,g!==null&&(c=g.retryQueue,c!==null&&(g.retryQueue=null,jf(t,c))));break;case 19:fi(a,t),hi(t),g&4&&(g=t.updateQueue,g!==null&&(t.updateQueue=null,jf(t,g)));break;case 30:break;case 21:break;default:fi(a,t),hi(t)}}function hi(t){var a=t.flags;if(a&2){try{for(var c,g=t.return;g!==null;){if(e1(g)){c=g;break}g=g.return}if(c==null)throw Error(o(160));switch(c.tag){case 27:var y=c.stateNode,S=Uf(t);Cc(t,S,y);break;case 5:var M=c.stateNode;c.flags&32&&(pn(M,""),c.flags&=-33);var R=Uf(t);Cc(t,R,M);break;case 3:case 4:var z=c.stateNode.containerInfo,tt=Uf(t);zf(t,tt,z);break;default:throw Error(o(161))}}catch(ht){Be(t,t.return,ht)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function c1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;c1(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function fs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)a1(t,a.alternate,a),a=a.sibling}function nr(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:us(4,a,a.return),nr(a);break;case 1:ra(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&$0(a,a.return,c),nr(a);break;case 27:eo(a.stateNode);case 26:case 5:ra(a,a.return),nr(a);break;case 22:a.memoizedState===null&&nr(a);break;case 30:nr(a);break;default:nr(a)}t=t.sibling}}function hs(t,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var g=a.alternate,y=t,S=a,M=S.flags;switch(S.tag){case 0:case 11:case 15:hs(y,S,c),Gl(4,S);break;case 1:if(hs(y,S,c),g=S,y=g.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(tt){Be(g,g.return,tt)}if(g=S,y=g.updateQueue,y!==null){var R=g.stateNode;try{var z=y.shared.hiddenCallbacks;if(z!==null)for(y.shared.hiddenCallbacks=null,y=0;y<z.length;y++)Pd(z[y],R)}catch(tt){Be(g,g.return,tt)}}c&&M&64&&J0(S),Xl(S,S.return);break;case 27:n1(S);case 26:case 5:hs(y,S,c),c&&g===null&&M&4&&t1(S),Xl(S,S.return);break;case 12:hs(y,S,c);break;case 13:hs(y,S,c),c&&M&4&&l1(y,S);break;case 22:S.memoizedState===null&&hs(y,S,c),Xl(S,S.return);break;case 30:break;default:hs(y,S,c)}a=a.sibling}}function Vf(t,a){var c=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==c&&(t!=null&&t.refCount++,c!=null&&Il(c))}function Yf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Il(t))}function la(t,a,c,g){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u1(t,a,c,g),a=a.sibling}function u1(t,a,c,g){var y=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a,c,g),y&2048&&Gl(9,a);break;case 1:la(t,a,c,g);break;case 3:la(t,a,c,g),y&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Il(t)));break;case 12:if(y&2048){la(t,a,c,g),t=a.stateNode;try{var S=a.memoizedProps,M=S.id,R=S.onPostCommit;typeof R=="function"&&R(M,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(z){Be(a,a.return,z)}}else la(t,a,c,g);break;case 13:la(t,a,c,g);break;case 23:break;case 22:S=a.stateNode,M=a.alternate,a.memoizedState!==null?S._visibility&2?la(t,a,c,g):Wl(t,a):S._visibility&2?la(t,a,c,g):(S._visibility|=2,Vr(t,a,c,g,(a.subtreeFlags&10256)!==0)),y&2048&&Vf(M,a);break;case 24:la(t,a,c,g),y&2048&&Yf(a.alternate,a);break;default:la(t,a,c,g)}}function Vr(t,a,c,g,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var S=t,M=a,R=c,z=g,tt=M.flags;switch(M.tag){case 0:case 11:case 15:Vr(S,M,R,z,y),Gl(8,M);break;case 23:break;case 22:var ht=M.stateNode;M.memoizedState!==null?ht._visibility&2?Vr(S,M,R,z,y):Wl(S,M):(ht._visibility|=2,Vr(S,M,R,z,y)),y&&tt&2048&&Vf(M.alternate,M);break;case 24:Vr(S,M,R,z,y),y&&tt&2048&&Yf(M.alternate,M);break;default:Vr(S,M,R,z,y)}a=a.sibling}}function Wl(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=t,g=a,y=g.flags;switch(g.tag){case 22:Wl(c,g),y&2048&&Vf(g.alternate,g);break;case 24:Wl(c,g),y&2048&&Yf(g.alternate,g);break;default:Wl(c,g)}a=a.sibling}}var Zl=8192;function Yr(t){if(t.subtreeFlags&Zl)for(t=t.child;t!==null;)f1(t),t=t.sibling}function f1(t){switch(t.tag){case 26:Yr(t),t.flags&Zl&&t.memoizedState!==null&&Sp(Ui,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var a=Ui;Ui=Fc(t.stateNode.containerInfo),Yr(t),Ui=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=Zl,Zl=16777216,Yr(t),Zl=a):Yr(t));break;default:Yr(t)}}function h1(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ql(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var g=a[c];Tn=g,g1(g,t)}h1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)d1(t),t=t.sibling}function d1(t){switch(t.tag){case 0:case 11:case 15:ql(t),t.flags&2048&&us(9,t,t.return);break;case 3:ql(t);break;case 12:ql(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,_c(t)):ql(t);break;default:ql(t)}}function _c(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var g=a[c];Tn=g,g1(g,t)}h1(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:us(8,a,a.return),_c(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,_c(a));break;default:_c(a)}t=t.sibling}}function g1(t,a){for(;Tn!==null;){var c=Tn;switch(c.tag){case 0:case 11:case 15:us(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var g=c.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Il(c.memoizedState.cache)}if(g=c.child,g!==null)g.return=c,Tn=g;else t:for(c=t;Tn!==null;){g=Tn;var y=g.sibling,S=g.return;if(s1(g),g===c){Tn=null;break t}if(y!==null){y.return=S,Tn=y;break t}Tn=S}}}var Um={getCacheForType:function(t){var a=jn(An),c=a.data.get(t);return c===void 0&&(c=t(),a.data.set(t,c)),c}},zm=typeof WeakMap=="function"?WeakMap:Map,Se=0,Pe=null,ie=null,ue=0,Ce=0,di=null,ds=!1,Gr=!1,Gf=!1,La=0,$e=0,gs=0,ir=0,Xf=0,Ti=0,Xr=0,Ql=null,ii=null,Wf=!1,Zf=0,vc=1/0,Tc=null,xs=null,Ln=0,ms=null,Wr=null,Zr=0,qf=0,Qf=null,x1=null,Kl=0,Kf=null;function gi(){if((Se&2)!==0&&ue!==0)return ue&-ue;if(et.T!==null){var t=Br;return t!==0?t:ah()}return ma()}function m1(){Ti===0&&(Ti=(ue&536870912)===0||xe?mr():536870912);var t=vi.current;return t!==null&&(t.flags|=32),Ti}function xi(t,a,c){(t===Pe&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)&&(qr(t,0),ps(t,ue,Ti,!1)),ri(t,c),((Se&2)===0||t!==Pe)&&(t===Pe&&((Se&2)===0&&(ir|=c),$e===4&&ps(t,ue,Ti,!1)),oa(t))}function p1(t,a,c){if((Se&6)!==0)throw Error(o(327));var g=!c&&(a&124)===0&&(a&t.expiredLanes)===0||Oe(t,a),y=g?Vm(t,a):th(t,a,!0),S=g;do{if(y===0){Gr&&!g&&ps(t,a,0,!1);break}else{if(c=t.current.alternate,S&&!Hm(c)){y=th(t,a,!1),S=!1;continue}if(y===2){if(S=a,t.errorRecoveryDisabledLanes&S)var M=0;else M=t.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){a=M;t:{var R=t;y=Ql;var z=R.current.memoizedState.isDehydrated;if(z&&(qr(R,M).flags|=256),M=th(R,M,!1),M!==2){if(Gf&&!z){R.errorRecoveryDisabledLanes|=S,ir|=S,y=4;break t}S=ii,ii=y,S!==null&&(ii===null?ii=S:ii.push.apply(ii,S))}y=M}if(S=!1,y!==2)continue}}if(y===1){qr(t,0),ps(t,a,0,!0);break}t:{switch(g=t,S=y,S){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:ps(g,a,Ti,!ds);break t;case 2:ii=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(y=Zf+300-Te(),10<y)){if(ps(g,a,Ti,!ds),fe(g,0,!0)!==0)break t;g.timeoutHandle=X1(y1.bind(null,g,c,ii,Tc,Wf,a,Ti,ir,Xr,ds,S,2,-0,0),y);break t}y1(g,c,ii,Tc,Wf,a,Ti,ir,Xr,ds,S,0,-0,0)}}break}while(!0);oa(t)}function y1(t,a,c,g,y,S,M,R,z,tt,ht,pt,st,lt){if(t.timeoutHandle=-1,pt=a.subtreeFlags,(pt&8192||(pt&16785408)===16785408)&&(ao={stylesheets:null,count:0,unsuspend:Ep},f1(a),pt=Cp(),pt!==null)){t.cancelPendingCommit=pt(_1.bind(null,t,a,S,c,g,y,M,R,z,ht,1,st,lt)),ps(t,S,M,!tt);return}_1(t,a,S,c,g,y,M,R,z)}function Hm(t){for(var a=t;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var g=0;g<c.length;g++){var y=c[g],S=y.getSnapshot;y=y.value;try{if(!u(S(),y))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ps(t,a,c,g){a&=~Xf,a&=~ir,t.suspendedLanes|=a,t.pingedLanes&=~a,g&&(t.warmLanes|=a),g=t.expirationTimes;for(var y=a;0<y;){var S=31-be(y),M=1<<S;g[S]=-1,y&=~M}c!==0&&pl(t,c,a)}function Mc(){return(Se&6)===0?(Jl(0),!1):!0}function Jf(){if(ie!==null){if(Ce===0)var t=ie.return;else t=ie,va=Ks=null,xf(t),Hr=null,jl=0,t=ie;for(;t!==null;)K0(t.alternate,t),t=t.return;ie=null}}function qr(t,a){var c=t.timeoutHandle;c!==-1&&(t.timeoutHandle=-1,sp(c)),c=t.cancelPendingCommit,c!==null&&(t.cancelPendingCommit=null,c()),Jf(),Pe=t,ie=c=Sa(t.current,null),ue=a,Ce=0,di=null,ds=!1,Gr=Oe(t,a),Gf=!1,Xr=Ti=Xf=ir=gs=$e=0,ii=Ql=null,Wf=!1,(a&8)!==0&&(a|=a&32);var g=t.entangledLanes;if(g!==0)for(t=t.entanglements,g&=a;0<g;){var y=31-be(g),S=1<<y;a|=t[y],g&=~S}return La=a,Qo(),c}function b1(t,a){te=null,et.H=xc,a===Rl||a===sc?(a=kd(),Ce=3):a===Rd?(a=kd(),Ce=4):Ce=a===F0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,di=a,ie===null&&($e=1,Ac(t,Ei(a,t.current)))}function A1(){var t=et.H;return et.H=xc,t===null?xc:t}function w1(){var t=et.A;return et.A=Um,t}function $f(){$e=4,ds||(ue&4194048)!==ue&&vi.current!==null||(Gr=!0),(gs&134217727)===0&&(ir&134217727)===0||Pe===null||ps(Pe,ue,Ti,!1)}function th(t,a,c){var g=Se;Se|=2;var y=A1(),S=w1();(Pe!==t||ue!==a)&&(Tc=null,qr(t,a)),a=!1;var M=$e;t:do try{if(Ce!==0&&ie!==null){var R=ie,z=di;switch(Ce){case 8:Jf(),M=6;break t;case 3:case 2:case 9:case 6:vi.current===null&&(a=!0);var tt=Ce;if(Ce=0,di=null,Qr(t,R,z,tt),c&&Gr){M=0;break t}break;default:tt=Ce,Ce=0,di=null,Qr(t,R,z,tt)}}jm(),M=$e;break}catch(ht){b1(t,ht)}while(!0);return a&&t.shellSuspendCounter++,va=Ks=null,Se=g,et.H=y,et.A=S,ie===null&&(Pe=null,ue=0,Qo()),M}function jm(){for(;ie!==null;)E1(ie)}function Vm(t,a){var c=Se;Se|=2;var g=A1(),y=w1();Pe!==t||ue!==a?(Tc=null,vc=Te()+500,qr(t,a)):Gr=Oe(t,a);t:do try{if(Ce!==0&&ie!==null){a=ie;var S=di;e:switch(Ce){case 1:Ce=0,di=null,Qr(t,a,S,1);break;case 2:case 9:if(Ld(S)){Ce=0,di=null,S1(a);break}a=function(){Ce!==2&&Ce!==9||Pe!==t||(Ce=7),oa(t)},S.then(a,a);break t;case 3:Ce=7;break t;case 4:Ce=5;break t;case 7:Ld(S)?(Ce=0,di=null,S1(a)):(Ce=0,di=null,Qr(t,a,S,7));break;case 5:var M=null;switch(ie.tag){case 26:M=ie.memoizedState;case 5:case 27:var R=ie;if(!M||ag(M)){Ce=0,di=null;var z=R.sibling;if(z!==null)ie=z;else{var tt=R.return;tt!==null?(ie=tt,Oc(tt)):ie=null}break e}}Ce=0,di=null,Qr(t,a,S,5);break;case 6:Ce=0,di=null,Qr(t,a,S,6);break;case 8:Jf(),$e=6;break t;default:throw Error(o(462))}}Ym();break}catch(ht){b1(t,ht)}while(!0);return va=Ks=null,et.H=g,et.A=y,Se=c,ie!==null?0:(Pe=null,ue=0,Qo(),$e)}function Ym(){for(;ie!==null&&!bi();)E1(ie)}function E1(t){var a=q0(t.alternate,t,La);t.memoizedProps=t.pendingProps,a===null?Oc(t):ie=a}function S1(t){var a=t,c=a.alternate;switch(a.tag){case 15:case 0:a=V0(c,a,a.pendingProps,a.type,void 0,ue);break;case 11:a=V0(c,a,a.pendingProps,a.type.render,a.ref,ue);break;case 5:xf(a);default:K0(c,a),a=ie=Cd(a,La),a=q0(c,a,La)}t.memoizedProps=t.pendingProps,a===null?Oc(t):ie=a}function Qr(t,a,c,g){va=Ks=null,xf(a),Hr=null,jl=0;var y=a.return;try{if(Rm(t,y,a,c,ue)){$e=1,Ac(t,Ei(c,t.current)),ie=null;return}}catch(S){if(y!==null)throw ie=y,S;$e=1,Ac(t,Ei(c,t.current)),ie=null;return}a.flags&32768?(xe||g===1?t=!0:Gr||(ue&536870912)!==0?t=!1:(ds=t=!0,(g===2||g===9||g===3||g===6)&&(g=vi.current,g!==null&&g.tag===13&&(g.flags|=16384))),C1(a,t)):Oc(a)}function Oc(t){var a=t;do{if((a.flags&32768)!==0){C1(a,ds);return}t=a.return;var c=Bm(a.alternate,a,La);if(c!==null){ie=c;return}if(a=a.sibling,a!==null){ie=a;return}ie=a=t}while(a!==null);$e===0&&($e=5)}function C1(t,a){do{var c=km(t.alternate,t);if(c!==null){c.flags&=32767,ie=c;return}if(c=t.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(t=t.sibling,t!==null)){ie=t;return}ie=t=c}while(t!==null);$e=6,ie=null}function _1(t,a,c,g,y,S,M,R,z){t.cancelPendingCommit=null;do Nc();while(Ln!==0);if((Se&6)!==0)throw Error(o(327));if(a!==null){if(a===t.current)throw Error(o(177));if(S=a.lanes|a.childLanes,S|=Vu,Uo(t,c,S,M,R,z),t===Pe&&(ie=Pe=null,ue=0),Wr=a,ms=t,Zr=c,qf=S,Qf=y,x1=g,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Zm(Nt,function(){return N1(),null})):(t.callbackNode=null,t.callbackPriority=0),g=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||g){g=et.T,et.T=null,y=ut.p,ut.p=2,M=Se,Se|=4;try{Fm(t,a,c)}finally{Se=M,ut.p=y,et.T=g}}Ln=1,v1(),T1(),M1()}}function v1(){if(Ln===1){Ln=0;var t=ms,a=Wr,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=et.T,et.T=null;var g=ut.p;ut.p=2;var y=Se;Se|=4;try{o1(a,t);var S=hh,M=C(t.containerInfo),R=S.focusedElem,z=S.selectionRange;if(M!==R&&R&&R.ownerDocument&&w(R.ownerDocument.documentElement,R)){if(z!==null&&v(R)){var tt=z.start,ht=z.end;if(ht===void 0&&(ht=tt),"selectionStart"in R)R.selectionStart=tt,R.selectionEnd=Math.min(ht,R.value.length);else{var pt=R.ownerDocument||document,st=pt&&pt.defaultView||window;if(st.getSelection){var lt=st.getSelection(),Yt=R.textContent.length,Ht=Math.min(z.start,Yt),De=z.end===void 0?Ht:Math.min(z.end,Yt);!lt.extend&&Ht>De&&(M=De,De=Ht,Ht=M);var W=p(R,Ht),Y=p(R,De);if(W&&Y&&(lt.rangeCount!==1||lt.anchorNode!==W.node||lt.anchorOffset!==W.offset||lt.focusNode!==Y.node||lt.focusOffset!==Y.offset)){var $=pt.createRange();$.setStart(W.node,W.offset),lt.removeAllRanges(),Ht>De?(lt.addRange($),lt.extend(Y.node,Y.offset)):($.setEnd(Y.node,Y.offset),lt.addRange($))}}}}for(pt=[],lt=R;lt=lt.parentNode;)lt.nodeType===1&&pt.push({element:lt,left:lt.scrollLeft,top:lt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<pt.length;R++){var dt=pt[R];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}jc=!!fh,hh=fh=null}finally{Se=y,ut.p=g,et.T=c}}t.current=a,Ln=2}}function T1(){if(Ln===2){Ln=0;var t=ms,a=Wr,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=et.T,et.T=null;var g=ut.p;ut.p=2;var y=Se;Se|=4;try{a1(t,a.alternate,a)}finally{Se=y,ut.p=g,et.T=c}}Ln=3}}function M1(){if(Ln===4||Ln===3){Ln=0,Ds();var t=ms,a=Wr,c=Zr,g=x1;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ln=5:(Ln=0,Wr=ms=null,O1(t,t.pendingLanes));var y=t.pendingLanes;if(y===0&&(xs=null),cn(c),a=a.stateNode,kn&&typeof kn.onCommitFiberRoot=="function")try{kn.onCommitFiberRoot(Nn,a,void 0,(a.current.flags&128)===128)}catch{}if(g!==null){a=et.T,y=ut.p,ut.p=2,et.T=null;try{for(var S=t.onRecoverableError,M=0;M<g.length;M++){var R=g[M];S(R.value,{componentStack:R.stack})}}finally{et.T=a,ut.p=y}}(Zr&3)!==0&&Nc(),oa(t),y=t.pendingLanes,(c&4194090)!==0&&(y&42)!==0?t===Kf?Kl++:(Kl=0,Kf=t):Kl=0,Jl(0)}}function O1(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Il(a)))}function Nc(t){return v1(),T1(),M1(),N1()}function N1(){if(Ln!==5)return!1;var t=ms,a=qf;qf=0;var c=cn(Zr),g=et.T,y=ut.p;try{ut.p=32>c?32:c,et.T=null,c=Qf,Qf=null;var S=ms,M=Zr;if(Ln=0,Wr=ms=null,Zr=0,(Se&6)!==0)throw Error(o(331));var R=Se;if(Se|=4,d1(S.current),u1(S,S.current,M,c),Se=R,Jl(0,!1),kn&&typeof kn.onPostCommitFiberRoot=="function")try{kn.onPostCommitFiberRoot(Nn,S)}catch{}return!0}finally{ut.p=y,et.T=g,O1(t,a)}}function I1(t,a,c){a=Ei(c,a),a=Of(t.stateNode,a,2),t=rs(t,a,2),t!==null&&(ri(t,2),oa(t))}function Be(t,a,c){if(t.tag===3)I1(t,t,c);else for(;a!==null;){if(a.tag===3){I1(a,t,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(xs===null||!xs.has(g))){t=Ei(c,t),c=B0(2),g=rs(a,c,2),g!==null&&(k0(c,g,a,t),ri(g,2),oa(g));break}}a=a.return}}function eh(t,a,c){var g=t.pingCache;if(g===null){g=t.pingCache=new zm;var y=new Set;g.set(a,y)}else y=g.get(a),y===void 0&&(y=new Set,g.set(a,y));y.has(c)||(Gf=!0,y.add(c),t=Gm.bind(null,t,a,c),a.then(t,t))}function Gm(t,a,c){var g=t.pingCache;g!==null&&g.delete(a),t.pingedLanes|=t.suspendedLanes&c,t.warmLanes&=~c,Pe===t&&(ue&c)===c&&($e===4||$e===3&&(ue&62914560)===ue&&300>Te()-Zf?(Se&2)===0&&qr(t,0):Xf|=c,Xr===ue&&(Xr=0)),oa(t)}function D1(t,a){a===0&&(a=ml()),t=Ir(t,a),t!==null&&(ri(t,a),oa(t))}function Xm(t){var a=t.memoizedState,c=0;a!==null&&(c=a.retryLane),D1(t,c)}function Wm(t,a){var c=0;switch(t.tag){case 13:var g=t.stateNode,y=t.memoizedState;y!==null&&(c=y.retryLane);break;case 19:g=t.stateNode;break;case 22:g=t.stateNode._retryCache;break;default:throw Error(o(314))}g!==null&&g.delete(a),D1(t,c)}function Zm(t,a){return le(t,a)}var Ic=null,Kr=null,nh=!1,Dc=!1,ih=!1,ar=0;function oa(t){t!==Kr&&t.next===null&&(Kr===null?Ic=Kr=t:Kr=Kr.next=t),Dc=!0,nh||(nh=!0,Qm())}function Jl(t,a){if(!ih&&Dc){ih=!0;do for(var c=!1,g=Ic;g!==null;){if(t!==0){var y=g.pendingLanes;if(y===0)var S=0;else{var M=g.suspendedLanes,R=g.pingedLanes;S=(1<<31-be(42|t)+1)-1,S&=y&~(M&~R),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(c=!0,k1(g,S))}else S=ue,S=fe(g,g===Pe?S:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(S&3)===0||Oe(g,S)||(c=!0,k1(g,S));g=g.next}while(c);ih=!1}}function qm(){R1()}function R1(){Dc=nh=!1;var t=0;ar!==0&&(ap()&&(t=ar),ar=0);for(var a=Te(),c=null,g=Ic;g!==null;){var y=g.next,S=L1(g,a);S===0?(g.next=null,c===null?Ic=y:c.next=y,y===null&&(Kr=c)):(c=g,(t!==0||(S&3)!==0)&&(Dc=!0)),g=y}Jl(t)}function L1(t,a){for(var c=t.suspendedLanes,g=t.pingedLanes,y=t.expirationTimes,S=t.pendingLanes&-62914561;0<S;){var M=31-be(S),R=1<<M,z=y[M];z===-1?((R&c)===0||(R&g)!==0)&&(y[M]=Ls(R,a)):z<=a&&(t.expiredLanes|=R),S&=~R}if(a=Pe,c=ue,c=fe(t,t===a?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),g=t.callbackNode,c===0||t===a&&(Ce===2||Ce===9)||t.cancelPendingCommit!==null)return g!==null&&g!==null&&Yi(g),t.callbackNode=null,t.callbackPriority=0;if((c&3)===0||Oe(t,c)){if(a=c&-c,a===t.callbackPriority)return a;switch(g!==null&&Yi(g),cn(c)){case 2:case 8:c=Rs;break;case 32:c=Nt;break;case 268435456:c=gl;break;default:c=Nt}return g=B1.bind(null,t),c=le(c,g),t.callbackPriority=a,t.callbackNode=c,a}return g!==null&&g!==null&&Yi(g),t.callbackPriority=2,t.callbackNode=null,2}function B1(t,a){if(Ln!==0&&Ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var c=t.callbackNode;if(Nc()&&t.callbackNode!==c)return null;var g=ue;return g=fe(t,t===Pe?g:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),g===0?null:(p1(t,g,a),L1(t,Te()),t.callbackNode!=null&&t.callbackNode===c?B1.bind(null,t):null)}function k1(t,a){if(Nc())return null;p1(t,a,!0)}function Qm(){rp(function(){(Se&6)!==0?le(se,qm):R1()})}function ah(){return ar===0&&(ar=mr()),ar}function F1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Er(""+t)}function P1(t,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,t.id&&c.setAttribute("form",t.id),a.parentNode.insertBefore(c,a),t=new FormData(t),c.parentNode.removeChild(c),t}function Km(t,a,c,g,y){if(a==="submit"&&c&&c.stateNode===y){var S=F1((y[qe]||null).action),M=g.submitter;M&&(a=(a=M[qe]||null)?F1(a.formAction):M.getAttribute("formAction"),a!==null&&(S=a,M=null));var R=new ta("action","action",null,g,y);t.push({event:R,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(ar!==0){var z=M?P1(y,M):new FormData(y);Cf(c,{pending:!0,data:z,method:y.method,action:S},null,z)}}else typeof S=="function"&&(R.preventDefault(),z=M?P1(y,M):new FormData(y),Cf(c,{pending:!0,data:z,method:y.method,action:S},S,z))},currentTarget:y}]})}}for(var sh=0;sh<ia.length;sh++){var rh=ia[sh],Jm=rh.toLowerCase(),$m=rh[0].toUpperCase()+rh.slice(1);ci(Jm,"on"+$m)}ci(Xt,"onAnimationEnd"),ci(Dn,"onAnimationIteration"),ci(ti,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(zn,"onTransitionRun"),ci(Ee,"onTransitionStart"),ci(bn,"onTransitionCancel"),ci(Hn,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function U1(t,a){a=(a&4)!==0;for(var c=0;c<t.length;c++){var g=t[c],y=g.event;g=g.listeners;t:{var S=void 0;if(a)for(var M=g.length-1;0<=M;M--){var R=g[M],z=R.instance,tt=R.currentTarget;if(R=R.listener,z!==S&&y.isPropagationStopped())break t;S=R,y.currentTarget=tt;try{S(y)}catch(ht){bc(ht)}y.currentTarget=null,S=z}else for(M=0;M<g.length;M++){if(R=g[M],z=R.instance,tt=R.currentTarget,R=R.listener,z!==S&&y.isPropagationStopped())break t;S=R,y.currentTarget=tt;try{S(y)}catch(ht){bc(ht)}y.currentTarget=null,S=z}}}}function ae(t,a){var c=a[Cn];c===void 0&&(c=a[Cn]=new Set);var g=t+"__bubble";c.has(g)||(z1(a,t,2,!1),c.add(g))}function lh(t,a,c){var g=0;a&&(g|=4),z1(c,t,g,a)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function oh(t){if(!t[Rc]){t[Rc]=!0,zo.forEach(function(c){c!=="selectionchange"&&(tp.has(c)||lh(c,!1,t),lh(c,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Rc]||(a[Rc]=!0,lh("selectionchange",!1,a))}}function z1(t,a,c,g){switch(ug(a)){case 2:var y=Tp;break;case 8:y=Mp;break;default:y=Eh}c=y.bind(null,a,c,t),y=void 0,!Wt||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),g?y!==void 0?t.addEventListener(a,c,{capture:!0,passive:y}):t.addEventListener(a,c,!0):y!==void 0?t.addEventListener(a,c,{passive:y}):t.addEventListener(a,c,!1)}function ch(t,a,c,g,y){var S=g;if((a&1)===0&&(a&2)===0&&g!==null)t:for(;;){if(g===null)return;var M=g.tag;if(M===3||M===4){var R=g.stateNode.containerInfo;if(R===y)break;if(M===4)for(M=g.return;M!==null;){var z=M.tag;if((z===3||z===4)&&M.stateNode.containerInfo===y)return;M=M.return}for(;R!==null;){if(M=en(R),M===null)return;if(z=M.tag,z===5||z===6||z===26||z===27){g=S=M;continue t}R=R.parentNode}}g=g.return}ki(function(){var tt=S,ht=Xa(c),pt=[];t:{var st=Ea.get(t);if(st!==void 0){var lt=ta,Yt=t;switch(t){case"keypress":if(Sr(c)===0)break t;case"keydown":case"keyup":lt=wl;break;case"focusin":Yt="focus",lt=Qa;break;case"focusout":Yt="blur",lt=Qa;break;case"beforeblur":case"afterblur":lt=Qa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":lt=Yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":lt=ye;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":lt=we;break;case Xt:case Dn:case ti:lt=Bu;break;case Hn:lt=Uu;break;case"scroll":case"scrollend":lt=Pn;break;case"wheel":lt=Aa;break;case"copy":case"cut":case"paste":lt=Kt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":lt=js;break;case"toggle":case"beforetoggle":lt=zu}var Ht=(a&4)!==0,De=!Ht&&(t==="scroll"||t==="scrollend"),W=Ht?st!==null?st+"Capture":null:st;Ht=[];for(var Y=tt,$;Y!==null;){var dt=Y;if($=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||$===null||W===null||(dt=Pt(Y,W),dt!=null&&Ht.push(to(Y,dt,$))),De)break;Y=Y.return}0<Ht.length&&(st=new lt(st,Yt,null,c,ht),pt.push({event:st,listeners:Ht}))}}if((a&7)===0){t:{if(st=t==="mouseover"||t==="pointerover",lt=t==="mouseout"||t==="pointerout",st&&c!==Fs&&(Yt=c.relatedTarget||c.fromElement)&&(en(Yt)||Yt[Gi]))break t;if((lt||st)&&(st=ht.window===ht?ht:(st=ht.ownerDocument)?st.defaultView||st.parentWindow:window,lt?(Yt=c.relatedTarget||c.toElement,lt=tt,Yt=Yt?en(Yt):null,Yt!==null&&(De=d(Yt),Ht=Yt.tag,Yt!==De||Ht!==5&&Ht!==27&&Ht!==6)&&(Yt=null)):(lt=null,Yt=tt),lt!==Yt)){if(Ht=Yo,dt="onMouseLeave",W="onMouseEnter",Y="mouse",(t==="pointerout"||t==="pointerover")&&(Ht=js,dt="onPointerLeave",W="onPointerEnter",Y="pointer"),De=lt==null?st:Xi(lt),$=Yt==null?st:Xi(Yt),st=new Ht(dt,Y+"leave",lt,c,ht),st.target=De,st.relatedTarget=$,dt=null,en(ht)===tt&&(Ht=new Ht(W,Y+"enter",Yt,c,ht),Ht.target=$,Ht.relatedTarget=De,dt=Ht),De=dt,lt&&Yt)e:{for(Ht=lt,W=Yt,Y=0,$=Ht;$;$=Jr($))Y++;for($=0,dt=W;dt;dt=Jr(dt))$++;for(;0<Y-$;)Ht=Jr(Ht),Y--;for(;0<$-Y;)W=Jr(W),$--;for(;Y--;){if(Ht===W||W!==null&&Ht===W.alternate)break e;Ht=Jr(Ht),W=Jr(W)}Ht=null}else Ht=null;lt!==null&&H1(pt,st,lt,Ht,!1),Yt!==null&&De!==null&&H1(pt,De,Yt,Ht,!0)}}t:{if(st=tt?Xi(tt):window,lt=st.nodeName&&st.nodeName.toLowerCase(),lt==="select"||lt==="input"&&st.type==="file")var Dt=Zo;else if(Gs(st))if(_l)Dt=r;else{Dt=O;var ee=Or}else lt=st.nodeName,!lt||lt.toLowerCase()!=="input"||st.type!=="checkbox"&&st.type!=="radio"?tt&&Bt(tt.elementType)&&(Dt=Zo):Dt=e;if(Dt&&(Dt=Dt(t,tt))){Zn(pt,Dt,c,ht);break t}ee&&ee(t,st,tt),t==="focusout"&&tt&&st.type==="number"&&tt.memoizedProps.value!=null&&J(st,"number",st.value)}switch(ee=tt?Xi(tt):window,t){case"focusin":(Gs(ee)||ee.contentEditable==="true")&&(I=ee,k=tt,j=null);break;case"focusout":j=k=I=null;break;case"mousedown":V=!0;break;case"contextmenu":case"mouseup":case"dragend":V=!1,Q(pt,c,ht);break;case"selectionchange":if(N)break;case"keydown":case"keyup":Q(pt,c,ht)}var kt;if(Vs)t:{switch(t){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else $a?wa(t,c)&&(Vt="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(Vt="onCompositionStart");Vt&&(Sl&&c.locale!=="ko"&&($a||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&$a&&(kt=Ki()):(Qi=ht,Ps="value"in Qi?Qi.value:Qi.textContent,$a=!0)),ee=Lc(tt,Vt),0<ee.length&&(Vt=new zs(Vt,t,null,c,ht),pt.push({event:Vt,listeners:ee}),kt?Vt.data=kt:(kt=Tr(c),kt!==null&&(Vt.data=kt)))),(kt=El?Ys(t,c):Hu(t,c))&&(Vt=Lc(tt,"onBeforeInput"),0<Vt.length&&(ee=new zs("onBeforeInput","beforeinput",null,c,ht),pt.push({event:ee,listeners:Vt}),ee.data=kt)),Km(pt,t,tt,c,ht)}U1(pt,a)})}function to(t,a,c){return{instance:t,listener:a,currentTarget:c}}function Lc(t,a){for(var c=a+"Capture",g=[];t!==null;){var y=t,S=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||S===null||(y=Pt(t,c),y!=null&&g.unshift(to(t,y,S)),y=Pt(t,a),y!=null&&g.push(to(t,y,S))),t.tag===3)return g;t=t.return}return[]}function Jr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function H1(t,a,c,g,y){for(var S=a._reactName,M=[];c!==null&&c!==g;){var R=c,z=R.alternate,tt=R.stateNode;if(R=R.tag,z!==null&&z===g)break;R!==5&&R!==26&&R!==27||tt===null||(z=tt,y?(tt=Pt(c,S),tt!=null&&M.unshift(to(c,tt,z))):y||(tt=Pt(c,S),tt!=null&&M.push(to(c,tt,z)))),c=c.return}M.length!==0&&t.push({event:a,listeners:M})}var ep=/\r\n?/g,np=/\u0000|\uFFFD/g;function j1(t){return(typeof t=="string"?t:""+t).replace(ep,`
`).replace(np,"")}function V1(t,a){return a=j1(a),j1(t)===a}function Bc(){}function Ie(t,a,c,g,y,S){switch(c){case"children":typeof g=="string"?a==="body"||a==="textarea"&&g===""||pn(t,g):(typeof g=="number"||typeof g=="bigint")&&a!=="body"&&pn(t,""+g);break;case"className":yr(t,"class",g);break;case"tabIndex":yr(t,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(t,c,g);break;case"style":Wn(t,g,S);break;case"data":if(a!=="object"){yr(t,"data",g);break}case"src":case"href":if(g===""&&(a!=="a"||c!=="href")){t.removeAttribute(c);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){t.removeAttribute(c);break}g=Er(""+g),t.setAttribute(c,g);break;case"action":case"formAction":if(typeof g=="function"){t.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(c==="formAction"?(a!=="input"&&Ie(t,a,"name",y.name,y,null),Ie(t,a,"formEncType",y.formEncType,y,null),Ie(t,a,"formMethod",y.formMethod,y,null),Ie(t,a,"formTarget",y.formTarget,y,null)):(Ie(t,a,"encType",y.encType,y,null),Ie(t,a,"method",y.method,y,null),Ie(t,a,"target",y.target,y,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){t.removeAttribute(c);break}g=Er(""+g),t.setAttribute(c,g);break;case"onClick":g!=null&&(t.onclick=Bc);break;case"onScroll":g!=null&&ae("scroll",t);break;case"onScrollEnd":g!=null&&ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(y.children!=null)throw Error(o(60));t.innerHTML=c}}break;case"multiple":t.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":t.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){t.removeAttribute("xlink:href");break}c=Er(""+g),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?t.setAttribute(c,""+g):t.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?t.setAttribute(c,""):t.removeAttribute(c);break;case"capture":case"download":g===!0?t.setAttribute(c,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?t.setAttribute(c,g):t.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?t.setAttribute(c,g):t.removeAttribute(c);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?t.removeAttribute(c):t.setAttribute(c,g);break;case"popover":ae("beforetoggle",t),ae("toggle",t),yt(t,"popover",g);break;case"xlinkActuate":he(t,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":he(t,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":he(t,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":he(t,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":he(t,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":he(t,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":he(t,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":he(t,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":he(t,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":yt(t,"is",g);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=ze.get(c)||c,yt(t,c,g))}}function uh(t,a,c,g,y,S){switch(c){case"style":Wn(t,g,S);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(o(61));if(c=g.__html,c!=null){if(y.children!=null)throw Error(o(60));t.innerHTML=c}}break;case"children":typeof g=="string"?pn(t,g):(typeof g=="number"||typeof g=="bigint")&&pn(t,""+g);break;case"onScroll":g!=null&&ae("scroll",t);break;case"onScrollEnd":g!=null&&ae("scrollend",t);break;case"onClick":g!=null&&(t.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),a=c.slice(2,y?c.length-7:void 0),S=t[qe]||null,S=S!=null?S[c]:null,typeof S=="function"&&t.removeEventListener(a,S,y),typeof g=="function")){typeof S!="function"&&S!==null&&(c in t?t[c]=null:t.hasAttribute(c)&&t.removeAttribute(c)),t.addEventListener(a,g,y);break t}c in t?t[c]=g:g===!0?t.setAttribute(c,""):yt(t,c,g)}}}function Bn(t,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",t),ae("load",t);var g=!1,y=!1,S;for(S in c)if(c.hasOwnProperty(S)){var M=c[S];if(M!=null)switch(S){case"src":g=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ie(t,a,S,M,c,null)}}y&&Ie(t,a,"srcSet",c.srcSet,c,null),g&&Ie(t,a,"src",c.src,c,null);return;case"input":ae("invalid",t);var R=S=M=y=null,z=null,tt=null;for(g in c)if(c.hasOwnProperty(g)){var ht=c[g];if(ht!=null)switch(g){case"name":y=ht;break;case"type":M=ht;break;case"checked":z=ht;break;case"defaultChecked":tt=ht;break;case"value":S=ht;break;case"defaultValue":R=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(o(137,a));break;default:Ie(t,a,g,ht,c,null)}}mn(t,S,R,z,tt,M,y,!1),Ar(t);return;case"select":ae("invalid",t),g=M=S=null;for(y in c)if(c.hasOwnProperty(y)&&(R=c[y],R!=null))switch(y){case"value":S=R;break;case"defaultValue":M=R;break;case"multiple":g=R;default:Ie(t,a,y,R,c,null)}a=S,c=M,t.multiple=!!g,a!=null?B(t,!!g,a,!1):c!=null&&B(t,!!g,c,!0);return;case"textarea":ae("invalid",t),S=y=g=null;for(M in c)if(c.hasOwnProperty(M)&&(R=c[M],R!=null))switch(M){case"value":g=R;break;case"defaultValue":y=R;break;case"children":S=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(o(91));break;default:Ie(t,a,M,R,c,null)}nn(t,g,y,S),Ar(t);return;case"option":for(z in c)if(c.hasOwnProperty(z)&&(g=c[z],g!=null))switch(z){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ie(t,a,z,g,c,null)}return;case"dialog":ae("beforetoggle",t),ae("toggle",t),ae("cancel",t),ae("close",t);break;case"iframe":case"object":ae("load",t);break;case"video":case"audio":for(g=0;g<$l.length;g++)ae($l[g],t);break;case"image":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"embed":case"source":case"link":ae("error",t),ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in c)if(c.hasOwnProperty(tt)&&(g=c[tt],g!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ie(t,a,tt,g,c,null)}return;default:if(Bt(a)){for(ht in c)c.hasOwnProperty(ht)&&(g=c[ht],g!==void 0&&uh(t,a,ht,g,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(g=c[R],g!=null&&Ie(t,a,R,g,c,null))}function ip(t,a,c,g){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,S=null,M=null,R=null,z=null,tt=null,ht=null;for(lt in c){var pt=c[lt];if(c.hasOwnProperty(lt)&&pt!=null)switch(lt){case"checked":break;case"value":break;case"defaultValue":z=pt;default:g.hasOwnProperty(lt)||Ie(t,a,lt,null,g,pt)}}for(var st in g){var lt=g[st];if(pt=c[st],g.hasOwnProperty(st)&&(lt!=null||pt!=null))switch(st){case"type":S=lt;break;case"name":y=lt;break;case"checked":tt=lt;break;case"defaultChecked":ht=lt;break;case"value":M=lt;break;case"defaultValue":R=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(o(137,a));break;default:lt!==pt&&Ie(t,a,st,lt,g,pt)}}pe(t,M,R,z,tt,ht,S,y);return;case"select":lt=M=R=st=null;for(S in c)if(z=c[S],c.hasOwnProperty(S)&&z!=null)switch(S){case"value":break;case"multiple":lt=z;default:g.hasOwnProperty(S)||Ie(t,a,S,null,g,z)}for(y in g)if(S=g[y],z=c[y],g.hasOwnProperty(y)&&(S!=null||z!=null))switch(y){case"value":st=S;break;case"defaultValue":R=S;break;case"multiple":M=S;default:S!==z&&Ie(t,a,y,S,g,z)}a=R,c=M,g=lt,st!=null?B(t,!!c,st,!1):!!g!=!!c&&(a!=null?B(t,!!c,a,!0):B(t,!!c,c?[]:"",!1));return;case"textarea":lt=st=null;for(R in c)if(y=c[R],c.hasOwnProperty(R)&&y!=null&&!g.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ie(t,a,R,null,g,y)}for(M in g)if(y=g[M],S=c[M],g.hasOwnProperty(M)&&(y!=null||S!=null))switch(M){case"value":st=y;break;case"defaultValue":lt=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:y!==S&&Ie(t,a,M,y,g,S)}Lt(t,st,lt);return;case"option":for(var Yt in c)if(st=c[Yt],c.hasOwnProperty(Yt)&&st!=null&&!g.hasOwnProperty(Yt))switch(Yt){case"selected":t.selected=!1;break;default:Ie(t,a,Yt,null,g,st)}for(z in g)if(st=g[z],lt=c[z],g.hasOwnProperty(z)&&st!==lt&&(st!=null||lt!=null))switch(z){case"selected":t.selected=st&&typeof st!="function"&&typeof st!="symbol";break;default:Ie(t,a,z,st,g,lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in c)st=c[Ht],c.hasOwnProperty(Ht)&&st!=null&&!g.hasOwnProperty(Ht)&&Ie(t,a,Ht,null,g,st);for(tt in g)if(st=g[tt],lt=c[tt],g.hasOwnProperty(tt)&&st!==lt&&(st!=null||lt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(o(137,a));break;default:Ie(t,a,tt,st,g,lt)}return;default:if(Bt(a)){for(var De in c)st=c[De],c.hasOwnProperty(De)&&st!==void 0&&!g.hasOwnProperty(De)&&uh(t,a,De,void 0,g,st);for(ht in g)st=g[ht],lt=c[ht],!g.hasOwnProperty(ht)||st===lt||st===void 0&&lt===void 0||uh(t,a,ht,st,g,lt);return}}for(var W in c)st=c[W],c.hasOwnProperty(W)&&st!=null&&!g.hasOwnProperty(W)&&Ie(t,a,W,null,g,st);for(pt in g)st=g[pt],lt=c[pt],!g.hasOwnProperty(pt)||st===lt||st==null&&lt==null||Ie(t,a,pt,st,g,lt)}var fh=null,hh=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Y1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G1(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function dh(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gh=null;function ap(){var t=window.event;return t&&t.type==="popstate"?t===gh?!1:(gh=t,!0):(gh=null,!1)}var X1=typeof setTimeout=="function"?setTimeout:void 0,sp=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,rp=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(t){return W1.resolve(null).then(t).catch(lp)}:X1;function lp(t){setTimeout(function(){throw t})}function ys(t){return t==="head"}function Z1(t,a){var c=a,g=0,y=0;do{var S=c.nextSibling;if(t.removeChild(c),S&&S.nodeType===8)if(c=S.data,c==="/$"){if(0<g&&8>g){c=g;var M=t.ownerDocument;if(c&1&&eo(M.documentElement),c&2&&eo(M.body),c&4)for(c=M.head,eo(c),M=c.firstChild;M;){var R=M.nextSibling,z=M.nodeName;M[Ai]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&M.rel.toLowerCase()==="stylesheet"||c.removeChild(M),M=R}}if(y===0){t.removeChild(S),co(a);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:g=c.charCodeAt(0)-48;else g=0;c=S}while(c);co(a)}function xh(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":xh(c),ks(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}t.removeChild(c)}}function op(t,a,c,g){for(;t.nodeType===1;){var y=c;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!g&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(g){if(!t[Ai])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(S=t.getAttribute("rel"),S==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(S!==y.rel||t.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||t.getAttribute("title")!==(y.title==null?null:y.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(S=t.getAttribute("src"),(S!==(y.src==null?null:y.src)||t.getAttribute("type")!==(y.type==null?null:y.type)||t.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&S&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var S=y.name==null?null:""+y.name;if(y.type==="hidden"&&t.getAttribute("name")===S)return t}else return t;if(t=zi(t.nextSibling),t===null)break}return null}function cp(t,a,c){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!c||(t=zi(t.nextSibling),t===null))return null;return t}function mh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function up(t,a){var c=t.ownerDocument;if(t.data!=="$?"||c.readyState==="complete")a();else{var g=function(){a(),c.removeEventListener("DOMContentLoaded",g)};c.addEventListener("DOMContentLoaded",g),t._reactRetry=g}}function zi(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var ph=null;function q1(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return t;a--}else c==="/$"&&a++}t=t.previousSibling}return null}function Q1(t,a,c){switch(a=kc(c),t){case"html":if(t=a.documentElement,!t)throw Error(o(452));return t;case"head":if(t=a.head,!t)throw Error(o(453));return t;case"body":if(t=a.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function eo(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ks(t)}var Mi=new Map,K1=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ba=ut.d;ut.d={f:fp,r:hp,D:dp,C:gp,L:xp,m:mp,X:yp,S:pp,M:bp};function fp(){var t=Ba.f(),a=Mc();return t||a}function hp(t){var a=li(t);a!==null&&a.tag===5&&a.type==="form"?p0(a):Ba.r(t)}var $r=typeof document>"u"?null:document;function J1(t,a,c){var g=$r;if(g&&typeof a=="string"&&a){var y=xn(a);y='link[rel="'+t+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),K1.has(y)||(K1.add(y),t={rel:t,crossOrigin:c,href:a},g.querySelector(y)===null&&(a=g.createElement("link"),Bn(a,"link",t),Ae(a),g.head.appendChild(a)))}}function dp(t){Ba.D(t),J1("dns-prefetch",t,null)}function gp(t,a){Ba.C(t,a),J1("preconnect",t,a)}function xp(t,a,c){Ba.L(t,a,c);var g=$r;if(g&&t&&a){var y='link[rel="preload"][as="'+xn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+xn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+xn(c.imageSizes)+'"]')):y+='[href="'+xn(t)+'"]';var S=y;switch(a){case"style":S=tl(t);break;case"script":S=el(t)}Mi.has(S)||(t=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:t,as:a},c),Mi.set(S,t),g.querySelector(y)!==null||a==="style"&&g.querySelector(no(S))||a==="script"&&g.querySelector(io(S))||(a=g.createElement("link"),Bn(a,"link",t),Ae(a),g.head.appendChild(a)))}}function mp(t,a){Ba.m(t,a);var c=$r;if(c&&t){var g=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+xn(g)+'"][href="'+xn(t)+'"]',S=y;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=el(t)}if(!Mi.has(S)&&(t=_({rel:"modulepreload",href:t},a),Mi.set(S,t),c.querySelector(y)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(io(S)))return}g=c.createElement("link"),Bn(g,"link",t),Ae(g),c.head.appendChild(g)}}}function pp(t,a,c){Ba.S(t,a,c);var g=$r;if(g&&t){var y=Li(g).hoistableStyles,S=tl(t);a=a||"default";var M=y.get(S);if(!M){var R={loading:0,preload:null};if(M=g.querySelector(no(S)))R.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":a},c),(c=Mi.get(S))&&yh(t,c);var z=M=g.createElement("link");Ae(z),Bn(z,"link",t),z._p=new Promise(function(tt,ht){z.onload=tt,z.onerror=ht}),z.addEventListener("load",function(){R.loading|=1}),z.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pc(M,a,g)}M={type:"stylesheet",instance:M,count:1,state:R},y.set(S,M)}}}function yp(t,a){Ba.X(t,a);var c=$r;if(c&&t){var g=Li(c).hoistableScripts,y=el(t),S=g.get(y);S||(S=c.querySelector(io(y)),S||(t=_({src:t,async:!0},a),(a=Mi.get(y))&&bh(t,a),S=c.createElement("script"),Ae(S),Bn(S,"link",t),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(y,S))}}function bp(t,a){Ba.M(t,a);var c=$r;if(c&&t){var g=Li(c).hoistableScripts,y=el(t),S=g.get(y);S||(S=c.querySelector(io(y)),S||(t=_({src:t,async:!0,type:"module"},a),(a=Mi.get(y))&&bh(t,a),S=c.createElement("script"),Ae(S),Bn(S,"link",t),c.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},g.set(y,S))}}function $1(t,a,c,g){var y=(y=At.current)?Fc(y):null;if(!y)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=tl(c.href),c=Li(y).hoistableStyles,g=c.get(a),g||(g={type:"style",instance:null,count:0,state:null},c.set(a,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){t=tl(c.href);var S=Li(y).hoistableStyles,M=S.get(t);if(M||(y=y.ownerDocument||y,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(t,M),(S=y.querySelector(no(t)))&&!S._p&&(M.instance=S,M.state.loading=5),Mi.has(t)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Mi.set(t,c),S||Ap(y,t,c,M.state))),a&&g===null)throw Error(o(528,""));return M}if(a&&g!==null)throw Error(o(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=el(c),c=Li(y).hoistableScripts,g=c.get(a),g||(g={type:"script",instance:null,count:0,state:null},c.set(a,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function tl(t){return'href="'+xn(t)+'"'}function no(t){return'link[rel="stylesheet"]['+t+"]"}function tg(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function Ap(t,a,c,g){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?g.loading=1:(a=t.createElement("link"),g.preload=a,a.addEventListener("load",function(){return g.loading|=1}),a.addEventListener("error",function(){return g.loading|=2}),Bn(a,"link",c),Ae(a),t.head.appendChild(a))}function el(t){return'[src="'+xn(t)+'"]'}function io(t){return"script[async]"+t}function eg(t,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var g=t.querySelector('style[data-href~="'+xn(c.href)+'"]');if(g)return a.instance=g,Ae(g),g;var y=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return g=(t.ownerDocument||t).createElement("style"),Ae(g),Bn(g,"style",y),Pc(g,c.precedence,t),a.instance=g;case"stylesheet":y=tl(c.href);var S=t.querySelector(no(y));if(S)return a.state.loading|=4,a.instance=S,Ae(S),S;g=tg(c),(y=Mi.get(y))&&yh(g,y),S=(t.ownerDocument||t).createElement("link"),Ae(S);var M=S;return M._p=new Promise(function(R,z){M.onload=R,M.onerror=z}),Bn(S,"link",g),a.state.loading|=4,Pc(S,c.precedence,t),a.instance=S;case"script":return S=el(c.src),(y=t.querySelector(io(S)))?(a.instance=y,Ae(y),y):(g=c,(y=Mi.get(S))&&(g=_({},c),bh(g,y)),t=t.ownerDocument||t,y=t.createElement("script"),Ae(y),Bn(y,"link",g),t.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(g=a.instance,a.state.loading|=4,Pc(g,c.precedence,t));return a.instance}function Pc(t,a,c){for(var g=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=g.length?g[g.length-1]:null,S=y,M=0;M<g.length;M++){var R=g[M];if(R.dataset.precedence===a)S=R;else if(S!==y)break}S?S.parentNode.insertBefore(t,S.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(t,a.firstChild))}function yh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function bh(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Uc=null;function ng(t,a,c){if(Uc===null){var g=new Map,y=Uc=new Map;y.set(c,g)}else y=Uc,g=y.get(c),g||(g=new Map,y.set(c,g));if(g.has(t))return g;for(g.set(t,null),c=c.getElementsByTagName(t),y=0;y<c.length;y++){var S=c[y];if(!(S[Ai]||S[Sn]||t==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(a)||"";M=t+M;var R=g.get(M);R?R.push(S):g.set(M,[S])}}return g}function ig(t,a,c){t=t.ownerDocument||t,t.head.insertBefore(c,a==="title"?t.querySelector("head > title"):null)}function wp(t,a,c){if(c===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ag(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ao=null;function Ep(){}function Sp(t,a,c){if(ao===null)throw Error(o(475));var g=ao;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=tl(c.href),S=t.querySelector(no(y));if(S){t=S._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(g.count++,g=zc.bind(g),t.then(g,g)),a.state.loading|=4,a.instance=S,Ae(S);return}S=t.ownerDocument||t,c=tg(c),(y=Mi.get(y))&&yh(c,y),S=S.createElement("link"),Ae(S);var M=S;M._p=new Promise(function(R,z){M.onload=R,M.onerror=z}),Bn(S,"link",c),a.instance=S}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(g.count++,a=zc.bind(g),t.addEventListener("load",a),t.addEventListener("error",a))}}function Cp(){if(ao===null)throw Error(o(475));var t=ao;return t.stylesheets&&t.count===0&&Ah(t,t.stylesheets),0<t.count?function(a){var c=setTimeout(function(){if(t.stylesheets&&Ah(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(c)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)Ah(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Ah(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,a.forEach(_p,t),Hc=null,zc.call(t))}function _p(t,a){if(!(a.state.loading&4)){var c=Hc.get(t);if(c)var g=c.get(null);else{c=new Map,Hc.set(t,c);for(var y=t.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<y.length;S++){var M=y[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(c.set(M.dataset.precedence,M),g=M)}g&&c.set(null,g)}y=a.instance,M=y.getAttribute("data-precedence"),S=c.get(M)||g,S===g&&c.set(null,y),c.set(M,y),this.count++,g=zc.bind(this),y.addEventListener("load",g),y.addEventListener("error",g),S?S.parentNode.insertBefore(y,S.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(y,t.firstChild)),a.state.loading|=4}}var so={$$typeof:at,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function vp(t,a,c,g,y,S,M,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oe(0),this.hiddenUpdates=oe(null),this.identifierPrefix=g,this.onUncaughtError=y,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function sg(t,a,c,g,y,S,M,R,z,tt,ht,pt){return t=new vp(t,a,c,M,R,z,tt,pt),a=1,S===!0&&(a|=24),S=ui(3,null,null,a),t.current=S,S.stateNode=t,a=tf(),a.refCount++,t.pooledCache=a,a.refCount++,S.memoizedState={element:g,isDehydrated:c,cache:a},sf(S),t}function rg(t){return t?(t=Dr,t):Dr}function lg(t,a,c,g,y,S){y=rg(y),g.context===null?g.context=y:g.pendingContext=y,g=ss(a),g.payload={element:c},S=S===void 0?null:S,S!==null&&(g.callback=S),c=rs(t,g,a),c!==null&&(xi(c,t,a),Bl(c,t,a))}function og(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<a?c:a}}function wh(t,a){og(t,a),(t=t.alternate)&&og(t,a)}function cg(t){if(t.tag===13){var a=Ir(t,67108864);a!==null&&xi(a,t,67108864),wh(t,67108864)}}var jc=!0;function Tp(t,a,c,g){var y=et.T;et.T=null;var S=ut.p;try{ut.p=2,Eh(t,a,c,g)}finally{ut.p=S,et.T=y}}function Mp(t,a,c,g){var y=et.T;et.T=null;var S=ut.p;try{ut.p=8,Eh(t,a,c,g)}finally{ut.p=S,et.T=y}}function Eh(t,a,c,g){if(jc){var y=Sh(g);if(y===null)ch(t,a,g,Vc,c),fg(t,g);else if(Np(y,t,a,c,g))g.stopPropagation();else if(fg(t,g),a&4&&-1<Op.indexOf(t)){for(;y!==null;){var S=li(y);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=Re(S.pendingLanes);if(M!==0){var R=S;for(R.pendingLanes|=2,R.entangledLanes|=2;M;){var z=1<<31-be(M);R.entanglements[1]|=z,M&=~z}oa(S),(Se&6)===0&&(vc=Te()+500,Jl(0))}}break;case 13:R=Ir(S,2),R!==null&&xi(R,S,2),Mc(),wh(S,2)}if(S=Sh(g),S===null&&ch(t,a,g,Vc,c),S===y)break;y=S}y!==null&&g.stopPropagation()}else ch(t,a,g,null,c)}}function Sh(t){return t=Xa(t),Ch(t)}var Vc=null;function Ch(t){if(Vc=null,t=en(t),t!==null){var a=d(t);if(a===null)t=null;else{var c=a.tag;if(c===13){if(t=m(a),t!==null)return t;t=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Vc=t,null}function ug(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case se:return 2;case Rs:return 8;case Nt:case gr:return 32;case gl:return 268435456;default:return 32}default:return 32}}var _h=!1,bs=null,As=null,ws=null,ro=new Map,lo=new Map,Es=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fg(t,a){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":ro.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(a.pointerId)}}function oo(t,a,c,g,y,S){return t===null||t.nativeEvent!==S?(t={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:S,targetContainers:[y]},a!==null&&(a=li(a),a!==null&&cg(a)),t):(t.eventSystemFlags|=g,a=t.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),t)}function Np(t,a,c,g,y){switch(a){case"focusin":return bs=oo(bs,t,a,c,g,y),!0;case"dragenter":return As=oo(As,t,a,c,g,y),!0;case"mouseover":return ws=oo(ws,t,a,c,g,y),!0;case"pointerover":var S=y.pointerId;return ro.set(S,oo(ro.get(S)||null,t,a,c,g,y)),!0;case"gotpointercapture":return S=y.pointerId,lo.set(S,oo(lo.get(S)||null,t,a,c,g,y)),!0}return!1}function hg(t){var a=en(t.target);if(a!==null){var c=d(a);if(c!==null){if(a=c.tag,a===13){if(a=m(c),a!==null){t.blockedOn=a,pr(t.priority,function(){if(c.tag===13){var g=gi();g=Bs(g);var y=Ir(c,g);y!==null&&xi(y,c,g),wh(c,g)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var c=Sh(t.nativeEvent);if(c===null){c=t.nativeEvent;var g=new c.constructor(c.type,c);Fs=g,c.target.dispatchEvent(g),Fs=null}else return a=li(c),a!==null&&cg(a),t.blockedOn=c,!1;a.shift()}return!0}function dg(t,a,c){Yc(t)&&c.delete(a)}function Ip(){_h=!1,bs!==null&&Yc(bs)&&(bs=null),As!==null&&Yc(As)&&(As=null),ws!==null&&Yc(ws)&&(ws=null),ro.forEach(dg),lo.forEach(dg)}function Gc(t,a){t.blockedOn===a&&(t.blockedOn=null,_h||(_h=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ip)))}var Xc=null;function gg(t){Xc!==t&&(Xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var a=0;a<t.length;a+=3){var c=t[a],g=t[a+1],y=t[a+2];if(typeof g!="function"){if(Ch(g||c)===null)continue;break}var S=li(c);S!==null&&(t.splice(a,3),a-=3,Cf(S,{pending:!0,data:y,method:c.method,action:g},g,y))}}))}function co(t){function a(z){return Gc(z,t)}bs!==null&&Gc(bs,t),As!==null&&Gc(As,t),ws!==null&&Gc(ws,t),ro.forEach(a),lo.forEach(a);for(var c=0;c<Es.length;c++){var g=Es[c];g.blockedOn===t&&(g.blockedOn=null)}for(;0<Es.length&&(c=Es[0],c.blockedOn===null);)hg(c),c.blockedOn===null&&Es.shift();if(c=(t.ownerDocument||t).$$reactFormReplay,c!=null)for(g=0;g<c.length;g+=3){var y=c[g],S=c[g+1],M=y[qe]||null;if(typeof S=="function")M||gg(c);else if(M){var R=null;if(S&&S.hasAttribute("formAction")){if(y=S,M=S[qe]||null)R=M.formAction;else if(Ch(y)!==null)continue}else R=M.action;typeof R=="function"?c[g+1]=R:(c.splice(g,3),g-=3),gg(c)}}}function vh(t){this._internalRoot=t}Wc.prototype.render=vh.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(o(409));var c=a.current,g=gi();lg(c,g,t,a,null,null)},Wc.prototype.unmount=vh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;lg(t.current,2,null,t,null,null),Mc(),a[Gi]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var a=ma();t={blockedOn:null,target:t,priority:a};for(var c=0;c<Es.length&&a!==0&&a<Es[c].priority;c++);Es.splice(c,0,t),c===0&&hg(t)}};var xg=n.version;if(xg!=="19.1.1")throw Error(o(527,xg,"19.1.1"));ut.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=E(a),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Dp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Nn=Zc.inject(Dp),kn=Zc}catch{}}return fo.createRoot=function(t,a){if(!f(t))throw Error(o(299));var c=!1,g="",y=I0,S=D0,M=R0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(M=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=sg(t,1,!1,null,null,c,g,y,S,M,R,null),t[Gi]=a.current,oh(t),new vh(a)},fo.hydrateRoot=function(t,a,c){if(!f(t))throw Error(o(299));var g=!1,y="",S=I0,M=D0,R=R0,z=null,tt=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(z=c.unstable_transitionCallbacks),c.formState!==void 0&&(tt=c.formState)),a=sg(t,1,!0,a,c??null,g,y,S,M,R,z,tt),a.context=rg(null),c=a.current,g=gi(),g=Bs(g),y=ss(g),y.callback=null,rs(c,y,g),c=g,a.current.lanes=c,ri(a,c),oa(a),t[Gi]=a.current,oh(t),new Wc(a)},fo.version="19.1.1",fo}var _g;function Vp(){if(_g)return Oh.exports;_g=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Oh.exports=jp(),Oh.exports}var Yp=Vp();/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vg="popstate";function Gp(s={}){function n(o,f){let{pathname:d,search:m,hash:A}=o.location;return Wh("",{pathname:d,search:m,hash:A},f.state&&f.state.usr||null,f.state&&f.state.key||"default")}function i(o,f){return typeof f=="string"?f:Mo(f)}return Wp(n,i,null,s)}function Ze(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function da(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Xp(){return Math.random().toString(36).substring(2,10)}function Tg(s,n){return{usr:s.state,key:s.key,idx:n}}function Wh(s,n,i=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?cl(n):n,state:i,key:n&&n.key||o||Xp()}}function Mo({pathname:s="/",search:n="",hash:i=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function cl(s){let n={};if(s){let i=s.indexOf("#");i>=0&&(n.hash=s.substring(i),s=s.substring(0,i));let o=s.indexOf("?");o>=0&&(n.search=s.substring(o),s=s.substring(0,o)),s&&(n.pathname=s)}return n}function Wp(s,n,i,o={}){let{window:f=document.defaultView,v5Compat:d=!1}=o,m=f.history,A="POP",E=null,b=_();b==null&&(b=0,m.replaceState({...m.state,idx:b},""));function _(){return(m.state||{idx:null}).idx}function T(){A="POP";let U=_(),Z=U==null?null:U-b;b=U,E&&E({action:A,location:P.location,delta:Z})}function D(U,Z){A="PUSH";let q=Wh(P.location,U,Z);b=_()+1;let at=Tg(q,b),mt=P.createHref(q);try{m.pushState(at,"",mt)}catch(xt){if(xt instanceof DOMException&&xt.name==="DataCloneError")throw xt;f.location.assign(mt)}d&&E&&E({action:A,location:P.location,delta:1})}function L(U,Z){A="REPLACE";let q=Wh(P.location,U,Z);b=_();let at=Tg(q,b),mt=P.createHref(q);m.replaceState(at,"",mt),d&&E&&E({action:A,location:P.location,delta:0})}function H(U){return Zp(U)}let P={get action(){return A},get location(){return s(f,m)},listen(U){if(E)throw new Error("A history only accepts one active listener");return f.addEventListener(vg,T),E=U,()=>{f.removeEventListener(vg,T),E=null}},createHref(U){return n(f,U)},createURL:H,encodeLocation(U){let Z=H(U);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:D,replace:L,go(U){return m.go(U)}};return P}function Zp(s,n=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(i,"No window.location.(origin|href) available to create URL");let o=typeof s=="string"?s:Mo(s);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function lx(s,n,i="/"){return qp(s,n,i,!1)}function qp(s,n,i,o){let f=typeof n=="string"?cl(n):n,d=Va(f.pathname||"/",i);if(d==null)return null;let m=ox(s);Qp(m);let A=null;for(let E=0;A==null&&E<m.length;++E){let b=ly(d);A=sy(m[E],b,o)}return A}function ox(s,n=[],i=[],o="",f=!1){let d=(m,A,E=f,b)=>{let _={relativePath:b===void 0?m.path||"":b,caseSensitive:m.caseSensitive===!0,childrenIndex:A,route:m};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(o)&&E)return;Ze(_.relativePath.startsWith(o),`Absolute route path "${_.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(o.length)}let T=ja([o,_.relativePath]),D=i.concat(_);m.children&&m.children.length>0&&(Ze(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),ox(m.children,n,D,T,E)),!(m.path==null&&!m.index)&&n.push({path:T,score:iy(T,m.index),routesMeta:D})};return s.forEach((m,A)=>{if(m.path===""||!m.path?.includes("?"))d(m,A);else for(let E of cx(m.path))d(m,A,!0,E)}),n}function cx(s){let n=s.split("/");if(n.length===0)return[];let[i,...o]=n,f=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return f?[d,""]:[d];let m=cx(o.join("/")),A=[];return A.push(...m.map(E=>E===""?d:[d,E].join("/"))),f&&A.push(...m),A.map(E=>s.startsWith("/")&&E===""?"/":E)}function Qp(s){s.sort((n,i)=>n.score!==i.score?i.score-n.score:ay(n.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Kp=/^:[\w-]+$/,Jp=3,$p=2,ty=1,ey=10,ny=-2,Mg=s=>s==="*";function iy(s,n){let i=s.split("/"),o=i.length;return i.some(Mg)&&(o+=ny),n&&(o+=$p),i.filter(f=>!Mg(f)).reduce((f,d)=>f+(Kp.test(d)?Jp:d===""?ty:ey),o)}function ay(s,n){return s.length===n.length&&s.slice(0,-1).every((o,f)=>o===n[f])?s[s.length-1]-n[n.length-1]:0}function sy(s,n,i=!1){let{routesMeta:o}=s,f={},d="/",m=[];for(let A=0;A<o.length;++A){let E=o[A],b=A===o.length-1,_=d==="/"?n:n.slice(d.length)||"/",T=xu({path:E.relativePath,caseSensitive:E.caseSensitive,end:b},_),D=E.route;if(!T&&b&&i&&!o[o.length-1].route.index&&(T=xu({path:E.relativePath,caseSensitive:E.caseSensitive,end:!1},_)),!T)return null;Object.assign(f,T.params),m.push({params:f,pathname:ja([d,T.pathname]),pathnameBase:fy(ja([d,T.pathnameBase])),route:D}),T.pathnameBase!=="/"&&(d=ja([d,T.pathnameBase]))}return m}function xu(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,o]=ry(s.path,s.caseSensitive,s.end),f=n.match(i);if(!f)return null;let d=f[0],m=d.replace(/(.)\/+$/,"$1"),A=f.slice(1);return{params:o.reduce((b,{paramName:_,isOptional:T},D)=>{if(_==="*"){let H=A[D]||"";m=d.slice(0,d.length-H.length).replace(/(.)\/+$/,"$1")}const L=A[D];return T&&!L?b[_]=void 0:b[_]=(L||"").replace(/%2F/g,"/"),b},{}),pathname:d,pathnameBase:m,pattern:s}}function ry(s,n=!1,i=!0){da(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],f="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,A,E)=>(o.push({paramName:A,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(o.push({paramName:"*"}),f+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?f+="\\/*$":s!==""&&s!=="/"&&(f+="(?:(?=\\/|$))"),[new RegExp(f,n?void 0:"i"),o]}function ly(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return da(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function Va(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,o=s.charAt(i);return o&&o!=="/"?null:s.slice(i)||"/"}function oy(s,n="/"){let{pathname:i,search:o="",hash:f=""}=typeof s=="string"?cl(s):s;return{pathname:i?i.startsWith("/")?i:cy(i,n):n,search:hy(o),hash:dy(f)}}function cy(s,n){let i=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(f=>{f===".."?i.length>1&&i.pop():f!=="."&&i.push(f)}),i.length>1?i.join("/"):"/"}function Rh(s,n,i,o){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uy(s){return s.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function ux(s){let n=uy(s);return n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase)}function fx(s,n,i,o=!1){let f;typeof s=="string"?f=cl(s):(f={...s},Ze(!f.pathname||!f.pathname.includes("?"),Rh("?","pathname","search",f)),Ze(!f.pathname||!f.pathname.includes("#"),Rh("#","pathname","hash",f)),Ze(!f.search||!f.search.includes("#"),Rh("#","search","hash",f)));let d=s===""||f.pathname==="",m=d?"/":f.pathname,A;if(m==null)A=i;else{let T=n.length-1;if(!o&&m.startsWith("..")){let D=m.split("/");for(;D[0]==="..";)D.shift(),T-=1;f.pathname=D.join("/")}A=T>=0?n[T]:"/"}let E=oy(f,A),b=m&&m!=="/"&&m.endsWith("/"),_=(d||m===".")&&i.endsWith("/");return!E.pathname.endsWith("/")&&(b||_)&&(E.pathname+="/"),E}var ja=s=>s.join("/").replace(/\/\/+/g,"/"),fy=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hy=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,dy=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function gy(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var hx=["POST","PUT","PATCH","DELETE"];new Set(hx);var xy=["GET",...hx];new Set(xy);var ul=it.createContext(null);ul.displayName="DataRouter";var _u=it.createContext(null);_u.displayName="DataRouterState";it.createContext(!1);var dx=it.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var my=it.createContext(new Map);my.displayName="Fetchers";var py=it.createContext(null);py.displayName="Await";var ga=it.createContext(null);ga.displayName="Navigation";var Lo=it.createContext(null);Lo.displayName="Location";var Ya=it.createContext({outlet:null,matches:[],isDataRoute:!1});Ya.displayName="Route";var nd=it.createContext(null);nd.displayName="RouteError";function yy(s,{relative:n}={}){Ze(Bo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=it.useContext(ga),{hash:f,pathname:d,search:m}=ko(s,{relative:n}),A=d;return i!=="/"&&(A=d==="/"?i:ja([i,d])),o.createHref({pathname:A,search:m,hash:f})}function Bo(){return it.useContext(Lo)!=null}function dr(){return Ze(Bo(),"useLocation() may be used only in the context of a <Router> component."),it.useContext(Lo).location}var gx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xx(s){it.useContext(ga).static||it.useLayoutEffect(s)}function by(){let{isDataRoute:s}=it.useContext(Ya);return s?Dy():Ay()}function Ay(){Ze(Bo(),"useNavigate() may be used only in the context of a <Router> component.");let s=it.useContext(ul),{basename:n,navigator:i}=it.useContext(ga),{matches:o}=it.useContext(Ya),{pathname:f}=dr(),d=JSON.stringify(ux(o)),m=it.useRef(!1);return xx(()=>{m.current=!0}),it.useCallback((E,b={})=>{if(da(m.current,gx),!m.current)return;if(typeof E=="number"){i.go(E);return}let _=fx(E,JSON.parse(d),f,b.relative==="path");s==null&&n!=="/"&&(_.pathname=_.pathname==="/"?n:ja([n,_.pathname])),(b.replace?i.replace:i.push)(_,b.state,b)},[n,i,d,f,s])}it.createContext(null);function ko(s,{relative:n}={}){let{matches:i}=it.useContext(Ya),{pathname:o}=dr(),f=JSON.stringify(ux(i));return it.useMemo(()=>fx(s,JSON.parse(f),o,n==="path"),[s,f,o,n])}function wy(s,n){return mx(s,n)}function mx(s,n,i,o,f){Ze(Bo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=it.useContext(ga),{matches:m}=it.useContext(Ya),A=m[m.length-1],E=A?A.params:{},b=A?A.pathname:"/",_=A?A.pathnameBase:"/",T=A&&A.route;{let q=T&&T.path||"";px(b,!T||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let D=dr(),L;if(n){let q=typeof n=="string"?cl(n):n;Ze(_==="/"||q.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${q.pathname}" was given in the \`location\` prop.`),L=q}else L=D;let H=L.pathname||"/",P=H;if(_!=="/"){let q=_.replace(/^\//,"").split("/");P="/"+H.replace(/^\//,"").split("/").slice(q.length).join("/")}let U=lx(s,{pathname:P});da(T||U!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),da(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=vy(U&&U.map(q=>Object.assign({},q,{params:Object.assign({},E,q.params),pathname:ja([_,d.encodeLocation?d.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?_:ja([_,d.encodeLocation?d.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),m,i,o,f);return n&&Z?it.createElement(Lo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},Z):Z}function Ey(){let s=Iy(),n=gy(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",f={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=it.createElement(it.Fragment,null,it.createElement("p",null,"💿 Hey developer 👋"),it.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",it.createElement("code",{style:d},"ErrorBoundary")," or"," ",it.createElement("code",{style:d},"errorElement")," prop on your route.")),it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},n),i?it.createElement("pre",{style:f},i):null,m)}var Sy=it.createElement(Ey,null),Cy=class extends it.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.unstable_onError?this.props.unstable_onError(s,n):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?it.createElement(Ya.Provider,{value:this.props.routeContext},it.createElement(nd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _y({routeContext:s,match:n,children:i}){let o=it.useContext(ul);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),it.createElement(Ya.Provider,{value:s},i)}function vy(s,n=[],i=null,o=null,f=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(n.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let d=s,m=i?.errors;if(m!=null){let b=d.findIndex(_=>_.route.id&&m?.[_.route.id]!==void 0);Ze(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),d=d.slice(0,Math.min(d.length,b+1))}let A=!1,E=-1;if(i)for(let b=0;b<d.length;b++){let _=d[b];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(E=b),_.route.id){let{loaderData:T,errors:D}=i,L=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!D||D[_.route.id]===void 0);if(_.route.lazy||L){A=!0,E>=0?d=d.slice(0,E+1):d=[d[0]];break}}}return d.reduceRight((b,_,T)=>{let D,L=!1,H=null,P=null;i&&(D=m&&_.route.id?m[_.route.id]:void 0,H=_.route.errorElement||Sy,A&&(E<0&&T===0?(px("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,P=null):E===T&&(L=!0,P=_.route.hydrateFallbackElement||null)));let U=n.concat(d.slice(0,T+1)),Z=()=>{let q;return D?q=H:L?q=P:_.route.Component?q=it.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=b,it.createElement(_y,{match:_,routeContext:{outlet:b,matches:U,isDataRoute:i!=null},children:q})};return i&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?it.createElement(Cy,{location:i.location,revalidation:i.revalidation,component:H,error:D,children:Z(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:o}):Z()},null)}function id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ty(s){let n=it.useContext(ul);return Ze(n,id(s)),n}function My(s){let n=it.useContext(_u);return Ze(n,id(s)),n}function Oy(s){let n=it.useContext(Ya);return Ze(n,id(s)),n}function ad(s){let n=Oy(s),i=n.matches[n.matches.length-1];return Ze(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Ny(){return ad("useRouteId")}function Iy(){let s=it.useContext(nd),n=My("useRouteError"),i=ad("useRouteError");return s!==void 0?s:n.errors?.[i]}function Dy(){let{router:s}=Ty("useNavigate"),n=ad("useNavigate"),i=it.useRef(!1);return xx(()=>{i.current=!0}),it.useCallback(async(f,d={})=>{da(i.current,gx),i.current&&(typeof f=="number"?s.navigate(f):await s.navigate(f,{fromRouteId:n,...d}))},[s,n])}var Og={};function px(s,n,i){!n&&!Og[s]&&(Og[s]=!0,da(!1,i))}it.memo(Ry);function Ry({routes:s,future:n,state:i,unstable_onError:o}){return mx(s,void 0,i,o,n)}function bo(s){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ly({basename:s="/",children:n=null,location:i,navigationType:o="POP",navigator:f,static:d=!1}){Ze(!Bo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),A=it.useMemo(()=>({basename:m,navigator:f,static:d,future:{}}),[m,f,d]);typeof i=="string"&&(i=cl(i));let{pathname:E="/",search:b="",hash:_="",state:T=null,key:D="default"}=i,L=it.useMemo(()=>{let H=Va(E,m);return H==null?null:{location:{pathname:H,search:b,hash:_,state:T,key:D},navigationType:o}},[m,E,b,_,T,D,o]);return da(L!=null,`<Router basename="${m}"> is not able to match the URL "${E}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:it.createElement(ga.Provider,{value:A},it.createElement(Lo.Provider,{children:n,value:L}))}function By({children:s,location:n}){return wy(Zh(s),n)}function Zh(s,n=[]){let i=[];return it.Children.forEach(s,(o,f)=>{if(!it.isValidElement(o))return;let d=[...n,f];if(o.type===it.Fragment){i.push.apply(i,Zh(o.props.children,d));return}Ze(o.type===bo,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Zh(o.props.children,d)),i.push(m)}),i}var uu="get",fu="application/x-www-form-urlencoded";function vu(s){return s!=null&&typeof s.tagName=="string"}function ky(s){return vu(s)&&s.tagName.toLowerCase()==="button"}function Fy(s){return vu(s)&&s.tagName.toLowerCase()==="form"}function Py(s){return vu(s)&&s.tagName.toLowerCase()==="input"}function Uy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function zy(s,n){return s.button===0&&(!n||n==="_self")&&!Uy(s)}var Qc=null;function Hy(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var jy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lh(s){return s!=null&&!jy.has(s)?(da(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):s}function Vy(s,n){let i,o,f,d,m;if(Fy(s)){let A=s.getAttribute("action");o=A?Va(A,n):null,i=s.getAttribute("method")||uu,f=Lh(s.getAttribute("enctype"))||fu,d=new FormData(s)}else if(ky(s)||Py(s)&&(s.type==="submit"||s.type==="image")){let A=s.form;if(A==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let E=s.getAttribute("formaction")||A.getAttribute("action");if(o=E?Va(E,n):null,i=s.getAttribute("formmethod")||A.getAttribute("method")||uu,f=Lh(s.getAttribute("formenctype"))||Lh(A.getAttribute("enctype"))||fu,d=new FormData(A,s),!Hy()){let{name:b,type:_,value:T}=s;if(_==="image"){let D=b?`${b}.`:"";d.append(`${D}x`,"0"),d.append(`${D}y`,"0")}else b&&d.append(b,T)}}else{if(vu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uu,o=null,f=fu,m=s}return d&&f==="text/plain"&&(m=d,d=void 0),{action:o,method:i.toLowerCase(),encType:f,formData:d,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sd(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function Yy(s,n,i){let o=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return o.pathname==="/"?o.pathname=`_root.${i}`:n&&Va(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Gy(s,n){if(s.id in n)return n[s.id];try{let i=await import(s.module);return n[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xy(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Wy(s,n,i){let o=await Promise.all(s.map(async f=>{let d=n.routes[f.route.id];if(d){let m=await Gy(d,i);return m.links?m.links():[]}return[]}));return Ky(o.flat(1).filter(Xy).filter(f=>f.rel==="stylesheet"||f.rel==="preload").map(f=>f.rel==="stylesheet"?{...f,rel:"prefetch",as:"style"}:{...f,rel:"prefetch"}))}function Ng(s,n,i,o,f,d){let m=(E,b)=>i[b]?E.route.id!==i[b].route.id:!0,A=(E,b)=>i[b].pathname!==E.pathname||i[b].route.path?.endsWith("*")&&i[b].params["*"]!==E.params["*"];return d==="assets"?n.filter((E,b)=>m(E,b)||A(E,b)):d==="data"?n.filter((E,b)=>{let _=o.routes[E.route.id];if(!_||!_.hasLoader)return!1;if(m(E,b)||A(E,b))return!0;if(E.route.shouldRevalidate){let T=E.route.shouldRevalidate({currentUrl:new URL(f.pathname+f.search+f.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:E.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Zy(s,n,{includeHydrateFallback:i}={}){return qy(s.map(o=>{let f=n.routes[o.route.id];if(!f)return[];let d=[f.module];return f.clientActionModule&&(d=d.concat(f.clientActionModule)),f.clientLoaderModule&&(d=d.concat(f.clientLoaderModule)),i&&f.hydrateFallbackModule&&(d=d.concat(f.hydrateFallbackModule)),f.imports&&(d=d.concat(f.imports)),d}).flat(1))}function qy(s){return[...new Set(s)]}function Qy(s){let n={},i=Object.keys(s).sort();for(let o of i)n[o]=s[o];return n}function Ky(s,n){let i=new Set;return new Set(n),s.reduce((o,f)=>{let d=JSON.stringify(Qy(f));return i.has(d)||(i.add(d),o.push({key:d,link:f})),o},[])}function yx(){let s=it.useContext(ul);return sd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Jy(){let s=it.useContext(_u);return sd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var rd=it.createContext(void 0);rd.displayName="FrameworkContext";function bx(){let s=it.useContext(rd);return sd(s,"You must render this element inside a <HydratedRouter> element"),s}function $y(s,n){let i=it.useContext(rd),[o,f]=it.useState(!1),[d,m]=it.useState(!1),{onFocus:A,onBlur:E,onMouseEnter:b,onMouseLeave:_,onTouchStart:T}=n,D=it.useRef(null);it.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let P=Z=>{Z.forEach(q=>{m(q.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return D.current&&U.observe(D.current),()=>{U.disconnect()}}},[s]),it.useEffect(()=>{if(o){let P=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(P)}}},[o]);let L=()=>{f(!0)},H=()=>{f(!1),m(!1)};return i?s!=="intent"?[d,D,{}]:[d,D,{onFocus:ho(A,L),onBlur:ho(E,H),onMouseEnter:ho(b,L),onMouseLeave:ho(_,H),onTouchStart:ho(T,L)}]:[!1,D,{}]}function ho(s,n){return i=>{s&&s(i),i.defaultPrevented||n(i)}}function tb({page:s,...n}){let{router:i}=yx(),o=it.useMemo(()=>lx(i.routes,s,i.basename),[i.routes,s,i.basename]);return o?it.createElement(nb,{page:s,matches:o,...n}):null}function eb(s){let{manifest:n,routeModules:i}=bx(),[o,f]=it.useState([]);return it.useEffect(()=>{let d=!1;return Wy(s,n,i).then(m=>{d||f(m)}),()=>{d=!0}},[s,n,i]),o}function nb({page:s,matches:n,...i}){let o=dr(),{manifest:f,routeModules:d}=bx(),{basename:m}=yx(),{loaderData:A,matches:E}=Jy(),b=it.useMemo(()=>Ng(s,n,E,f,o,"data"),[s,n,E,f,o]),_=it.useMemo(()=>Ng(s,n,E,f,o,"assets"),[s,n,E,f,o]),T=it.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let H=new Set,P=!1;if(n.forEach(Z=>{let q=f.routes[Z.route.id];!q||!q.hasLoader||(!b.some(at=>at.route.id===Z.route.id)&&Z.route.id in A&&d[Z.route.id]?.shouldRevalidate||q.hasClientLoader?P=!0:H.add(Z.route.id))}),H.size===0)return[];let U=Yy(s,m,"data");return P&&H.size>0&&U.searchParams.set("_routes",n.filter(Z=>H.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[U.pathname+U.search]},[m,A,o,f,b,n,s,d]),D=it.useMemo(()=>Zy(_,f),[_,f]),L=eb(_);return it.createElement(it.Fragment,null,T.map(H=>it.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),D.map(H=>it.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),L.map(({key:H,link:P})=>it.createElement("link",{key:H,nonce:i.nonce,...P})))}function ib(...s){return n=>{s.forEach(i=>{typeof i=="function"?i(n):i!=null&&(i.current=n)})}}var Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ax&&(window.__reactRouterVersion="7.9.1")}catch{}function ab({basename:s,children:n,window:i}){let o=it.useRef();o.current==null&&(o.current=Gp({window:i,v5Compat:!0}));let f=o.current,[d,m]=it.useState({action:f.action,location:f.location}),A=it.useCallback(E=>{it.startTransition(()=>m(E))},[m]);return it.useLayoutEffect(()=>f.listen(A),[f,A]),it.createElement(Ly,{basename:s,children:n,location:d.location,navigationType:d.action,navigator:f})}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ex=it.forwardRef(function({onClick:n,discover:i="render",prefetch:o="none",relative:f,reloadDocument:d,replace:m,state:A,target:E,to:b,preventScrollReset:_,viewTransition:T,...D},L){let{basename:H}=it.useContext(ga),P=typeof b=="string"&&wx.test(b),U,Z=!1;if(typeof b=="string"&&P&&(U=b,Ax))try{let nt=new URL(window.location.href),Ft=b.startsWith("//")?new URL(nt.protocol+b):new URL(b),It=Va(Ft.pathname,H);Ft.origin===nt.origin&&It!=null?b=It+Ft.search+Ft.hash:Z=!0}catch{da(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=yy(b,{relative:f}),[at,mt,xt]=$y(o,D),Ct=lb(b,{replace:m,state:A,target:E,preventScrollReset:_,relative:f,viewTransition:T});function X(nt){n&&n(nt),nt.defaultPrevented||Ct(nt)}let gt=it.createElement("a",{...D,...xt,href:U||q,onClick:Z||d?n:X,ref:ib(L,mt),target:E,"data-discover":!P&&i==="render"?"true":void 0});return at&&!P?it.createElement(it.Fragment,null,gt,it.createElement(tb,{page:q})):gt});Ex.displayName="Link";var Ao=it.forwardRef(function({"aria-current":n="page",caseSensitive:i=!1,className:o="",end:f=!1,style:d,to:m,viewTransition:A,children:E,...b},_){let T=ko(m,{relative:b.relative}),D=dr(),L=it.useContext(_u),{navigator:H,basename:P}=it.useContext(ga),U=L!=null&&hb(T)&&A===!0,Z=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,q=D.pathname,at=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;i||(q=q.toLowerCase(),at=at?at.toLowerCase():null,Z=Z.toLowerCase()),at&&P&&(at=Va(at,P)||at);const mt=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let xt=q===Z||!f&&q.startsWith(Z)&&q.charAt(mt)==="/",Ct=at!=null&&(at===Z||!f&&at.startsWith(Z)&&at.charAt(Z.length)==="/"),X={isActive:xt,isPending:Ct,isTransitioning:U},gt=xt?n:void 0,nt;typeof o=="function"?nt=o(X):nt=[o,xt?"active":null,Ct?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let Ft=typeof d=="function"?d(X):d;return it.createElement(Ex,{...b,"aria-current":gt,className:nt,ref:_,style:Ft,to:m,viewTransition:A},typeof E=="function"?E(X):E)});Ao.displayName="NavLink";var sb=it.forwardRef(({discover:s="render",fetcherKey:n,navigate:i,reloadDocument:o,replace:f,state:d,method:m=uu,action:A,onSubmit:E,relative:b,preventScrollReset:_,viewTransition:T,...D},L)=>{let H=ub(),P=fb(A,{relative:b}),U=m.toLowerCase()==="get"?"get":"post",Z=typeof A=="string"&&wx.test(A),q=at=>{if(E&&E(at),at.defaultPrevented)return;at.preventDefault();let mt=at.nativeEvent.submitter,xt=mt?.getAttribute("formmethod")||m;H(mt||at.currentTarget,{fetcherKey:n,method:xt,navigate:i,replace:f,state:d,relative:b,preventScrollReset:_,viewTransition:T})};return it.createElement("form",{ref:L,method:U,action:P,onSubmit:o?E:q,...D,"data-discover":!Z&&s==="render"?"true":void 0})});sb.displayName="Form";function rb(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sx(s){let n=it.useContext(ul);return Ze(n,rb(s)),n}function lb(s,{target:n,replace:i,state:o,preventScrollReset:f,relative:d,viewTransition:m}={}){let A=by(),E=dr(),b=ko(s,{relative:d});return it.useCallback(_=>{if(zy(_,n)){_.preventDefault();let T=i!==void 0?i:Mo(E)===Mo(b);A(s,{replace:T,state:o,preventScrollReset:f,relative:d,viewTransition:m})}},[E,A,b,i,o,n,s,f,d,m])}var ob=0,cb=()=>`__${String(++ob)}__`;function ub(){let{router:s}=Sx("useSubmit"),{basename:n}=it.useContext(ga),i=Ny();return it.useCallback(async(o,f={})=>{let{action:d,method:m,encType:A,formData:E,body:b}=Vy(o,n);if(f.navigate===!1){let _=f.fetcherKey||cb();await s.fetch(_,i,f.action||d,{preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||m,formEncType:f.encType||A,flushSync:f.flushSync})}else await s.navigate(f.action||d,{preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||m,formEncType:f.encType||A,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,n,i])}function fb(s,{relative:n}={}){let{basename:i}=it.useContext(ga),o=it.useContext(Ya);Ze(o,"useFormAction must be used inside a RouteContext");let[f]=o.matches.slice(-1),d={...ko(s||".",{relative:n})},m=dr();if(s==null){d.search=m.search;let A=new URLSearchParams(d.search),E=A.getAll("index");if(E.some(_=>_==="")){A.delete("index"),E.filter(T=>T).forEach(T=>A.append("index",T));let _=A.toString();d.search=_?`?${_}`:""}}return(!s||s===".")&&f.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:ja([i,d.pathname])),Mo(d)}function hb(s,{relative:n}={}){let i=it.useContext(dx);Ze(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Sx("useViewTransitionState"),f=ko(s,{relative:n});if(!i.isTransitioning)return!1;let d=Va(i.currentLocation.pathname,o)||i.currentLocation.pathname,m=Va(i.nextLocation.pathname,o)||i.nextLocation.pathname;return xu(f.pathname,m)!=null||xu(f.pathname,d)!=null}const db=["Ring","Bangle","Necklace","Earring","Pendant","Bracelet"],gb=["Traditional","Modern","Antique","Korean"],xb=["Teracota","Plastic","Glass"],ka={categories:db,styles:gb,materials:xb};function mb(){const[s,n]=it.useState({name:"",quantity:1,category:ka.categories[0],style:ka.styles[0],material:ka.materials[0],cost_price:"",profit_margin:"",selling_price:""}),[i,o]=it.useState(null),[f,d]=it.useState(""),[m,A]=it.useState([]),[E,b]=it.useState("category"),[_,T]=it.useState({}),[D,L]=it.useState(null),[H,P]=it.useState(!1),[U,Z]=it.useState(new Set),[q,at]=it.useState(!1),mt=it.useRef(null),[xt,Ct]=it.useState({});it.useEffect(()=>{X()},[]);const X=async()=>{try{const F=await fetch("/api/items/");if(!F.ok)throw new Error("Network response was not ok");const ot=await F.json();A(ot)}catch(F){console.error("Error fetching inventory:",F),d("Could not load inventory.")}};it.useEffect(()=>{(()=>{if(m.length===0){T({});return}const ot=m.reduce((ft,wt)=>{const bt=wt[E]||"Uncategorized";return ft[bt]||(ft[bt]=[]),ft[bt].push(wt),ft},{});T(ot)})()},[m,E]),it.useEffect(()=>{const F=parseFloat(s.cost_price),ot=parseFloat(s.profit_margin);if(!isNaN(F)&&!isNaN(ot)&&F>0&&ot>=0){const ft=F*(1+ot/100);n(wt=>({...wt,selling_price:ft.toFixed(2)}))}},[s.cost_price,s.profit_margin]);const gt=async F=>{try{const ft=await(await fetch(`/api/items/${F}/`)).json();L(ft),P(!0)}catch(ot){console.error("Failed to fetch item details:",ot)}},nt=()=>{P(!1),L(null)},Ft=F=>{Z(ot=>{const ft=new Set(ot);return ft.has(F)?ft.delete(F):ft.add(F),ft})},It=F=>{const ot=F.map(wt=>wt.id),ft=ot.every(wt=>U.has(wt));Z(wt=>{const bt=new Set(wt);return ft?ot.forEach(jt=>bt.delete(jt)):ot.forEach(jt=>bt.add(jt)),bt})},_t=async()=>{if(U.size===0)return alert("Please select items to export.");at(!0);try{const F=Array.from(U).map(jt=>m.find(At=>At.id===jt)?.item_id).filter(Boolean),ot=await fetch("/api/barcodes/bulk-export/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_ids:F})});if(!ot.ok)throw new Error("Failed to generate barcodes.");const ft=await ot.blob(),wt=window.URL.createObjectURL(ft),bt=document.createElement("a");bt.href=wt,bt.download="barcodes.zip",document.body.appendChild(bt),bt.click(),bt.remove(),window.URL.revokeObjectURL(wt)}catch(F){console.error("Export failed:",F),alert("Export failed. Please try again.")}finally{at(!1)}},Ut=()=>{if(!D)return;const F=window.open("","_blank");F.document.write("..."),F.document.close()},Gt=F=>{const{name:ot,value:ft}=F.target;n(ot==="selling_price"?{...s,selling_price:ft,profit_margin:""}:{...s,[ot]:ft})},K=F=>o(F.target.files[0]),et=()=>{mt.current.removeAttribute("capture"),mt.current.click()},ut=()=>{mt.current.setAttribute("capture","environment"),mt.current.click()},Rt=async F=>{F.preventDefault(),d("");const ot=new FormData;Object.keys(s).forEach(ft=>ot.append(ft,s[ft])),i&&ot.append("image",i);try{const ft=await fetch("/api/items/create/",{method:"POST",body:ot});if(!ft.ok)throw new Error(JSON.stringify(await ft.json()));const wt=await ft.json();d(`Success! ${wt.length} item(s) were added.`),n({name:"",quantity:1,category:ka.categories[0],style:ka.styles[0],material:ka.materials[0],cost_price:"",profit_margin:"",selling_price:""}),o(null),X()}catch(ft){d(`Error: Could not add item. Server says: ${ft.message}`)}},qt=F=>{Ct(ot=>({...ot,[F]:!ot[F]}))};return G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"container",children:[G.jsx("h1",{children:"Add New Jewelry Item 💎"}),G.jsxs("form",{onSubmit:Rt,className:"item-form",children:[G.jsx("label",{htmlFor:"name",children:"Item Name"}),G.jsx("input",{id:"name",name:"name",value:s.name,onChange:Gt,placeholder:"e.g., Pearl Studs",required:!0}),G.jsx("label",{htmlFor:"quantity",children:"Quantity"}),G.jsx("input",{id:"quantity",type:"number",name:"quantity",value:s.quantity,onChange:Gt,min:"1",required:!0}),G.jsx("label",{children:"Image"}),G.jsxs("div",{className:"image-input-container",children:[G.jsx("input",{ref:mt,type:"file",accept:"image/*",onChange:K,style:{display:"none"}}),G.jsx("button",{type:"button",className:"file-btn",onClick:et,children:"Choose File"}),G.jsx("button",{type:"button",className:"camera-btn",onClick:ut,children:"📷"}),i&&G.jsx("span",{className:"filename",children:i.name})]}),G.jsx("label",{htmlFor:"category",children:"Category"}),G.jsx("select",{id:"category",name:"category",value:s.category,onChange:Gt,children:ka.categories.map(F=>G.jsx("option",{value:F,children:F},F))}),G.jsx("label",{htmlFor:"style",children:"Style"}),G.jsx("select",{id:"style",name:"style",value:s.style,onChange:Gt,children:ka.styles.map(F=>G.jsx("option",{value:F,children:F},F))}),G.jsx("label",{htmlFor:"material",children:"Material"}),G.jsx("select",{id:"material",name:"material",value:s.material,onChange:Gt,children:ka.materials.map(F=>G.jsx("option",{value:F,children:F},F))}),G.jsx("label",{htmlFor:"cost_price",children:"Cost Price"}),G.jsx("input",{id:"cost_price",type:"number",step:"0.01",name:"cost_price",value:s.cost_price,onChange:Gt,placeholder:"e.g., 500.00",required:!0}),G.jsx("label",{htmlFor:"profit_margin",children:"Profit Margin (%)"}),G.jsx("input",{id:"profit_margin",type:"number",step:"0.01",name:"profit_margin",value:s.profit_margin,onChange:Gt,placeholder:"e.g., 60"}),G.jsx("label",{htmlFor:"selling_price",children:"Selling Price"}),G.jsx("input",{id:"selling_price",type:"number",step:"0.01",name:"selling_price",value:s.selling_price,onChange:Gt,placeholder:"Auto-calculated or manual",required:!0}),G.jsx("div",{}),G.jsx("button",{type:"submit",children:"Add Item(s)"})]}),f&&G.jsx("p",{className:"message",children:f}),G.jsx("hr",{className:"divider"}),G.jsx("h2",{children:"Current Inventory ✨"}),G.jsxs("div",{className:"inventory-controls",children:[G.jsxs("div",{className:"group-by-buttons",children:[G.jsx("span",{children:"Group By:"}),G.jsx("button",{onClick:()=>b("category"),className:E==="category"?"active":"",children:"Category"}),G.jsx("button",{onClick:()=>b("style"),className:E==="style"?"active":"",children:"Style"}),G.jsx("button",{onClick:()=>b("material"),className:E==="material"?"active":"",children:"Material"})]}),G.jsx("button",{className:"export-btn",onClick:_t,disabled:U.size===0||q,children:q?"Exporting...":`Export ${U.size} Barcode(s)`})]}),G.jsx("div",{className:"grouped-inventory-view",children:Object.keys(_).sort().map(F=>{const ot=_[F],ft=ot.length>0&&ot.every(bt=>U.has(bt.id)),wt=!!xt[F];return G.jsxs("div",{className:"inventory-group",children:[G.jsxs("button",{className:"group-header",onClick:()=>qt(F),children:[G.jsx("input",{type:"checkbox",checked:ft,onClick:bt=>bt.stopPropagation(),onChange:()=>It(ot)}),F," ",G.jsxs("span",{children:["(",ot.length," Items)"]}),G.jsx("span",{className:`collapse-icon ${wt?"open":""}`,children:"›"})]}),wt&&G.jsxs("div",{className:"item-table",children:[G.jsxs("div",{className:"item-table-header",children:[G.jsx("div",{children:"Select"}),G.jsx("div",{children:"Image"}),G.jsx("div",{children:"Item ID"}),G.jsx("div",{children:"Name"}),G.jsx("div",{children:"Status"}),G.jsx("div",{children:"Price"})]}),ot.map(bt=>G.jsxs("div",{className:"item-table-row",children:[G.jsx("div",{className:"item-cell","data-label":"Select",children:G.jsx("input",{type:"checkbox",checked:U.has(bt.id),onChange:()=>Ft(bt.id)})}),G.jsx("div",{className:"item-cell item-image-cell","data-label":"Image",children:bt.image?G.jsx("img",{src:bt.image,alt:bt.name}):G.jsx("div",{className:"placeholder-box"})}),G.jsx("div",{className:"item-cell","data-label":"Item ID",children:G.jsx("a",{href:"#",onClick:jt=>{jt.preventDefault(),gt(bt.id)},children:bt.item_id})}),G.jsx("div",{className:"item-cell","data-label":"Name",children:bt.name}),G.jsx("div",{className:"item-cell","data-label":"Status",children:G.jsx("span",{className:`status-badge status-${bt.stock_status.toLowerCase()}`,children:bt.stock_status.replace("_"," ")})}),G.jsxs("div",{className:"item-cell","data-label":"Price",children:["₹",parseFloat(bt.selling_price).toLocaleString("en-IN")]})]},bt.id))]})]},F)})})]}),H&&D&&G.jsx("div",{className:"modal-overlay",onClick:nt,children:G.jsxs("div",{className:"modal-content",onClick:F=>F.stopPropagation(),children:[G.jsx("button",{className:"modal-close-btn",onClick:nt,children:"×"}),G.jsx("div",{className:"modal-image-container",children:G.jsx("img",{src:D.image,alt:D.name})}),G.jsxs("div",{className:"modal-details",children:[G.jsxs("h2",{children:[D.name," (",D.item_id,")"]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Category:"})," ",D.category]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Style:"})," ",D.style]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Material:"})," ",D.material]}),G.jsxs("p",{className:"modal-price",children:[G.jsx("strong",{children:"Price:"})," ₹",parseFloat(D.selling_price).toLocaleString("en-IN")]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Status:"})," ",D.stock_status.replace("_"," ")]}),G.jsxs("p",{children:[G.jsx("strong",{children:"Date Added:"})," ",new Date(D.added_date).toLocaleDateString()]}),G.jsxs("div",{className:"modal-barcode-section",children:[G.jsx("h4",{children:"Barcode"}),G.jsx("img",{className:"barcode-image",src:`/api/barcode/${D.item_id}/`,alt:`Barcode for ${D.item_id}`}),G.jsx("button",{className:"print-btn",onClick:Ut,children:"Print Barcode"})]})]})]})})]})}var Ot;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ot||(Ot={}));var Ig=new Map([[Ot.QR_CODE,"QR_CODE"],[Ot.AZTEC,"AZTEC"],[Ot.CODABAR,"CODABAR"],[Ot.CODE_39,"CODE_39"],[Ot.CODE_93,"CODE_93"],[Ot.CODE_128,"CODE_128"],[Ot.DATA_MATRIX,"DATA_MATRIX"],[Ot.MAXICODE,"MAXICODE"],[Ot.ITF,"ITF"],[Ot.EAN_13,"EAN_13"],[Ot.EAN_8,"EAN_8"],[Ot.PDF_417,"PDF_417"],[Ot.RSS_14,"RSS_14"],[Ot.RSS_EXPANDED,"RSS_EXPANDED"],[Ot.UPC_A,"UPC_A"],[Ot.UPC_E,"UPC_E"],[Ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Dg;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(Dg||(Dg={}));function pb(s){return Object.values(Ot).includes(s)}var Ns;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ns||(Ns={}));var Hi=(function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[Ns.SCAN_TYPE_CAMERA,Ns.SCAN_TYPE_FILE],s})(),Cx=(function(){function s(n,i){this.format=n,this.formatName=i}return s.prototype.toString=function(){return this.formatName},s.create=function(n){if(!Ig.has(n))throw"".concat(n," not in html5QrcodeSupportedFormatsTextMap");return new s(n,Ig.get(n))},s})(),Rg=(function(){function s(){}return s.createFromText=function(n){var i={text:n};return{decodedText:n,result:i}},s.createFromQrcodeResult=function(n){return{decodedText:n.text,result:n}},s})(),qh;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qh||(qh={}));var _x=(function(){function s(){}return s.createFrom=function(n){return{errorMessage:n,type:qh.UNKWOWN_ERROR}},s})(),vx=(function(){function s(n){this.verbose=n}return s.prototype.log=function(n){this.verbose&&console.log(n)},s.prototype.warn=function(n){this.verbose&&console.warn(n)},s.prototype.logError=function(n,i){(this.verbose||i===!0)&&console.error(n)},s.prototype.logErrors=function(n){if(n.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(n)},s})();function fa(s){return typeof s>"u"||s===null}function yb(s,n,i){return s>i?i:s<n?n:s}var il=(function(){function s(){}return s.codeParseError=function(n){return"QR code parse error, error = ".concat(n)},s.errorGettingUserMedia=function(n){return"Error getting userMedia, error = ".concat(n)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s})(),_e=(function(){function s(){}return s.scanningStatus=function(){return"Scanning"},s.idleStatus=function(){return"Idle"},s.errorStatus=function(){return"Error"},s.permissionStatus=function(){return"Permission"},s.noCameraFoundErrorStatus=function(){return"No Cameras"},s.lastMatch=function(n){return"Last Match: ".concat(n)},s.codeScannerTitle=function(){return"Code Scanner"},s.cameraPermissionTitle=function(){return"Request Camera Permissions"},s.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},s.noCameraFound=function(){return"No camera found"},s.scanButtonStopScanningText=function(){return"Stop Scanning"},s.scanButtonStartScanningText=function(){return"Start Scanning"},s.torchOnButton=function(){return"Switch On Torch"},s.torchOffButton=function(){return"Switch Off Torch"},s.torchOnFailedMessage=function(){return"Failed to turn on torch"},s.torchOffFailedMessage=function(){return"Failed to turn off torch"},s.scanButtonScanningStarting=function(){return"Launching Camera..."},s.textIfCameraScanSelected=function(){return"Scan an Image File"},s.textIfFileScanSelected=function(){return"Scan using camera directly"},s.selectCamera=function(){return"Select Camera"},s.fileSelectionChooseImage=function(){return"Choose Image"},s.fileSelectionChooseAnother=function(){return"Choose Another"},s.fileSelectionNoImageSelected=function(){return"No image choosen"},s.anonymousCameraPrefix=function(){return"Anonymous Camera"},s.dragAndDropMessage=function(){return"Or drop an image to scan"},s.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},s.zoom=function(){return"zoom"},s.loadingImage=function(){return"Loading image..."},s.cameraScanAltText=function(){return"Camera based scan"},s.fileScanAltText=function(){return"Fule based scan"},s})(),Lg=(function(){function s(){}return s.poweredBy=function(){return"Powered by "},s.reportIssues=function(){return"Report issues"},s})(),Tx=(function(){function s(){}return s.isMediaStreamConstraintsValid=function(n,i){if(typeof n!="object"){var o=typeof n;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var f=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(f),m=Object.keys(n),A=0,E=m;A<E.length;A++){var b=E[A];if(d.has(b))return i.logError("".concat(b," is not supported videoConstaints."),!0),!1}return!0},s})(),wo={exports:{}},bb=wo.exports,Bg;function Ab(){return Bg||(Bg=1,(function(s,n){(function(i,o){o(n)})(bb,(function(i){function o(O){return O==null}var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,e){O.__proto__=e}||function(O,e){for(var r in e)e.hasOwnProperty(r)&&(O[r]=e[r])};function d(O,e){f(O,e);function r(){this.constructor=O}O.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function m(O,e){var r=Object.setPrototypeOf;r?r(O,e):O.__proto__=e}function A(O,e){e===void 0&&(e=O.constructor);var r=Error.captureStackTrace;r&&r(O,e)}var E=(function(O){d(e,O);function e(r){var l=this.constructor,u=O.call(this,r)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),m(u,l.prototype),A(u),u}return e})(Error);class b extends E{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}b.kind="Exception";class _ extends b{}_.kind="ArgumentException";class T extends b{}T.kind="IllegalArgumentException";class D{constructor(e){if(this.binarizer=e,e===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,r){return this.binarizer.getBlackRow(e,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,r,l,u){const h=this.binarizer.getLuminanceSource().crop(e,r,l,u);return new D(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class L extends b{static getChecksumInstance(){return new L}}L.kind="ChecksumException";class H{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class P{static arraycopy(e,r,l,u,h){for(;h--;)l[u++]=e[r++]}static currentTimeMillis(){return Date.now()}}class U extends b{}U.kind="IndexOutOfBoundsException";class Z extends U{constructor(e=void 0,r=void 0){super(r),this.index=e,this.message=r}}Z.kind="ArrayIndexOutOfBoundsException";class q{static fill(e,r){for(let l=0,u=e.length;l<u;l++)e[l]=r}static fillWithin(e,r,l,u){q.rangeCheck(e.length,r,l);for(let h=r;h<l;h++)e[h]=u}static rangeCheck(e,r,l){if(r>l)throw new T("fromIndex("+r+") > toIndex("+l+")");if(r<0)throw new Z(r);if(l>e)throw new Z(l)}static asList(...e){return e}static create(e,r,l){return Array.from({length:e}).map(h=>Array.from({length:r}).fill(l))}static createInt32Array(e,r,l){return Array.from({length:e}).map(h=>Int32Array.from({length:r}).fill(l))}static equals(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(let l=0,u=e.length;l<u;l++)if(e[l]!==r[l])return!1;return!0}static hashCode(e){if(e===null)return 0;let r=1;for(const l of e)r=31*r+l;return r}static fillUint8Array(e,r){for(let l=0;l!==e.length;l++)e[l]=r}static copyOf(e,r){return e.slice(0,r)}static copyOfUint8Array(e,r){if(e.length<=r){const l=new Uint8Array(r);return l.set(e),l}return e.slice(0,r)}static copyOfRange(e,r,l){const u=l-r,h=new Int32Array(u);return P.arraycopy(e,r,h,0,u),h}static binarySearch(e,r,l){l===void 0&&(l=q.numberComparator);let u=0,h=e.length-1;for(;u<=h;){const x=h+u>>1,p=l(r,e[x]);if(p>0)u=x+1;else if(p<0)h=x-1;else return x}return-u-1}static numberComparator(e,r){return e-r}}class at{static numberOfTrailingZeros(e){let r;if(e===0)return 32;let l=31;return r=e<<16,r!==0&&(l-=16,e=r),r=e<<8,r!==0&&(l-=8,e=r),r=e<<4,r!==0&&(l-=4,e=r),r=e<<2,r!==0&&(l-=2,e=r),l-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let r=1;return e>>>16||(r+=16,e<<=16),e>>>24||(r+=8,e<<=8),e>>>28||(r+=4,e<<=4),e>>>30||(r+=2,e<<=2),r-=e>>>31,r}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,r){return Math.trunc(e/r)}static parseInt(e,r=void 0){return parseInt(e,r)}}at.MIN_VALUE_32_BITS=-2147483648,at.MAX_VALUE=Number.MAX_SAFE_INTEGER;class mt{constructor(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=mt.makeArray(e):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const r=mt.makeArray(e);P.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const r=this.size;if(e>=r)return r;const l=this.bits;let u=Math.floor(e/32),h=l[u];h&=~((1<<(e&31))-1);const x=l.length;for(;h===0;){if(++u===x)return r;h=l[u]}const p=u*32+at.numberOfTrailingZeros(h);return p>r?r:p}getNextUnset(e){const r=this.size;if(e>=r)return r;const l=this.bits;let u=Math.floor(e/32),h=~l[u];h&=~((1<<(e&31))-1);const x=l.length;for(;h===0;){if(++u===x)return r;h=~l[u]}const p=u*32+at.numberOfTrailingZeros(h);return p>r?r:p}setBulk(e,r){this.bits[Math.floor(e/32)]=r}setRange(e,r){if(r<e||e<0||r>this.size)throw new T;if(r===e)return;r--;const l=Math.floor(e/32),u=Math.floor(r/32),h=this.bits;for(let x=l;x<=u;x++){const p=x>l?0:e&31,C=(2<<(x<u?31:r&31))-(1<<p);h[x]|=C}}clear(){const e=this.bits.length,r=this.bits;for(let l=0;l<e;l++)r[l]=0}isRange(e,r,l){if(r<e||e<0||r>this.size)throw new T;if(r===e)return!0;r--;const u=Math.floor(e/32),h=Math.floor(r/32),x=this.bits;for(let p=u;p<=h;p++){const w=p>u?0:e&31,v=(2<<(p<h?31:r&31))-(1<<w)&4294967295;if((x[p]&v)!==(l?v:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let l=r;l>0;l--)this.appendBit((e>>l-1&1)===1)}appendBitArray(e){const r=e.size;this.ensureCapacity(this.size+r);for(let l=0;l<r;l++)this.appendBit(e.get(l))}xor(e){if(this.size!==e.size)throw new T("Sizes don't match");const r=this.bits;for(let l=0,u=r.length;l<u;l++)r[l]^=e.bits[l]}toBytes(e,r,l,u){for(let h=0;h<u;h++){let x=0;for(let p=0;p<8;p++)this.get(e)&&(x|=1<<7-p),e++;r[l+h]=x}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),l=r+1,u=this.bits;for(let h=0;h<l;h++){let x=u[h];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,e[r-h]=x}if(this.size!==l*32){const h=l*32-this.size;let x=e[0]>>>h;for(let p=1;p<l;p++){const w=e[p];x|=w<<32-h,e[p-1]=x,x=w>>>h}e[l-1]=x}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof mt))return!1;const r=e;return this.size===r.size&&q.equals(this.bits,r.bits)}hashCode(){return 31*this.size+q.hashCode(this.bits)}toString(){let e="";for(let r=0,l=this.size;r<l;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e}clone(){return new mt(this.size,this.bits.slice())}}var xt;(function(O){O[O.OTHER=0]="OTHER",O[O.PURE_BARCODE=1]="PURE_BARCODE",O[O.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",O[O.TRY_HARDER=3]="TRY_HARDER",O[O.CHARACTER_SET=4]="CHARACTER_SET",O[O.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",O[O.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",O[O.ASSUME_GS1=7]="ASSUME_GS1",O[O.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",O[O.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",O[O.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(xt||(xt={}));var Ct=xt;class X extends b{static getFormatInstance(){return new X}}X.kind="FormatException";var gt;(function(O){O[O.Cp437=0]="Cp437",O[O.ISO8859_1=1]="ISO8859_1",O[O.ISO8859_2=2]="ISO8859_2",O[O.ISO8859_3=3]="ISO8859_3",O[O.ISO8859_4=4]="ISO8859_4",O[O.ISO8859_5=5]="ISO8859_5",O[O.ISO8859_6=6]="ISO8859_6",O[O.ISO8859_7=7]="ISO8859_7",O[O.ISO8859_8=8]="ISO8859_8",O[O.ISO8859_9=9]="ISO8859_9",O[O.ISO8859_10=10]="ISO8859_10",O[O.ISO8859_11=11]="ISO8859_11",O[O.ISO8859_13=12]="ISO8859_13",O[O.ISO8859_14=13]="ISO8859_14",O[O.ISO8859_15=14]="ISO8859_15",O[O.ISO8859_16=15]="ISO8859_16",O[O.SJIS=16]="SJIS",O[O.Cp1250=17]="Cp1250",O[O.Cp1251=18]="Cp1251",O[O.Cp1252=19]="Cp1252",O[O.Cp1256=20]="Cp1256",O[O.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",O[O.UTF8=22]="UTF8",O[O.ASCII=23]="ASCII",O[O.Big5=24]="Big5",O[O.GB18030=25]="GB18030",O[O.EUC_KR=26]="EUC_KR"})(gt||(gt={}));class nt{constructor(e,r,l,...u){this.valueIdentifier=e,this.name=l,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=u,nt.VALUE_IDENTIFIER_TO_ECI.set(e,this),nt.NAME_TO_ECI.set(l,this);const h=this.values;for(let x=0,p=h.length;x!==p;x++){const w=h[x];nt.VALUES_TO_ECI.set(w,this)}for(const x of u)nt.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new X("incorect value");const r=nt.VALUES_TO_ECI.get(e);if(r===void 0)throw new X("incorect value");return r}static getCharacterSetECIByName(e){const r=nt.NAME_TO_ECI.get(e);if(r===void 0)throw new X("incorect value");return r}equals(e){if(!(e instanceof nt))return!1;const r=e;return this.getName()===r.getName()}}nt.VALUE_IDENTIFIER_TO_ECI=new Map,nt.VALUES_TO_ECI=new Map,nt.NAME_TO_ECI=new Map,nt.Cp437=new nt(gt.Cp437,Int32Array.from([0,2]),"Cp437"),nt.ISO8859_1=new nt(gt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),nt.ISO8859_2=new nt(gt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),nt.ISO8859_3=new nt(gt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),nt.ISO8859_4=new nt(gt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),nt.ISO8859_5=new nt(gt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),nt.ISO8859_6=new nt(gt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),nt.ISO8859_7=new nt(gt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),nt.ISO8859_8=new nt(gt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),nt.ISO8859_9=new nt(gt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),nt.ISO8859_10=new nt(gt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),nt.ISO8859_11=new nt(gt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),nt.ISO8859_13=new nt(gt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),nt.ISO8859_14=new nt(gt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),nt.ISO8859_15=new nt(gt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),nt.ISO8859_16=new nt(gt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),nt.SJIS=new nt(gt.SJIS,20,"SJIS","Shift_JIS"),nt.Cp1250=new nt(gt.Cp1250,21,"Cp1250","windows-1250"),nt.Cp1251=new nt(gt.Cp1251,22,"Cp1251","windows-1251"),nt.Cp1252=new nt(gt.Cp1252,23,"Cp1252","windows-1252"),nt.Cp1256=new nt(gt.Cp1256,24,"Cp1256","windows-1256"),nt.UnicodeBigUnmarked=new nt(gt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),nt.UTF8=new nt(gt.UTF8,26,"UTF8","UTF-8"),nt.ASCII=new nt(gt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),nt.Big5=new nt(gt.Big5,28,"Big5"),nt.GB18030=new nt(gt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),nt.EUC_KR=new nt(gt.EUC_KR,30,"EUC_KR","EUC-KR");class Ft extends b{}Ft.kind="UnsupportedOperationException";class It{static decode(e,r){const l=this.encodingName(r);return this.customDecoder?this.customDecoder(e,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(e,l):new TextDecoder(l).decode(e)}static shouldDecodeOnFallback(e){return!It.isBrowser()&&e==="ISO-8859-1"}static encode(e,r){const l=this.encodingName(r);return this.customEncoder?this.customEncoder(e,l):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof nt?e:nt.getCharacterSetECIByName(e)}static decodeFallback(e,r){const l=this.encodingCharacterSet(r);if(It.isDecodeFallbackSupported(l)){let u="";for(let h=0,x=e.length;h<x;h++){let p=e[h].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(l.equals(nt.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new Ft(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(nt.UTF8)||e.equals(nt.ISO8859_1)||e.equals(nt.ASCII)}static encodeFallback(e){const l=btoa(unescape(encodeURIComponent(e))).split(""),u=[];for(let h=0;h<l.length;h++)u.push(l[h].charCodeAt(0));return new Uint8Array(u)}}class _t{static castAsNonUtf8Char(e,r=null){const l=r?r.getName():this.ISO88591;return It.decode(new Uint8Array([e]),l)}static guessEncoding(e,r){if(r!=null&&r.get(Ct.CHARACTER_SET)!==void 0)return r.get(Ct.CHARACTER_SET).toString();const l=e.length;let u=!0,h=!0,x=!0,p=0,w=0,C=0,v=0,N=0,I=0,k=0,j=0,V=0,Q=0,rt=0;const St=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let vt=0;vt<l&&(u||h||x);vt++){const Et=e[vt]&255;x&&(p>0?(Et&128)===0?x=!1:p--:(Et&128)!==0&&((Et&64)===0?x=!1:(p++,(Et&32)===0?w++:(p++,(Et&16)===0?C++:(p++,(Et&8)===0?v++:x=!1))))),u&&(Et>127&&Et<160?u=!1:Et>159&&(Et<192||Et===215||Et===247)&&rt++),h&&(N>0?Et<64||Et===127||Et>252?h=!1:N--:Et===128||Et===160||Et>239?h=!1:Et>160&&Et<224?(I++,j=0,k++,k>V&&(V=k)):Et>127?(N++,k=0,j++,j>Q&&(Q=j)):(k=0,j=0))}return x&&p>0&&(x=!1),h&&N>0&&(h=!1),x&&(St||w+C+v>0)?_t.UTF8:h&&(_t.ASSUME_SHIFT_JIS||V>=3||Q>=3)?_t.SHIFT_JIS:u&&h?V===2&&I===2||rt*10>=l?_t.SHIFT_JIS:_t.ISO88591:u?_t.ISO88591:h?_t.SHIFT_JIS:x?_t.UTF8:_t.PLATFORM_DEFAULT_ENCODING}static format(e,...r){let l=-1;function u(x,p,w,C,v,N){if(x==="%%")return"%";if(r[++l]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let I=v?parseInt(v.substr(1)):void 0,k;switch(N){case"s":k=r[l];break;case"c":k=r[l][0];break;case"f":k=parseFloat(r[l]).toFixed(x);break;case"p":k=parseFloat(r[l]).toPrecision(x);break;case"e":k=parseFloat(r[l]).toExponential(x);break;case"x":k=parseInt(r[l]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[l],I||10).toPrecision(x)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let j=parseInt(w),V=w&&w[0]+""=="0"?"0":" ";for(;k.length<j;)k=p!==void 0?k+V:V+k;return k}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(h,u)}static getBytes(e,r){return It.encode(e,r)}static getCharCode(e,r=0){return e.charCodeAt(r)}static getCharAt(e){return String.fromCharCode(e)}}_t.SHIFT_JIS=nt.SJIS.getName(),_t.GB2312="GB2312",_t.ISO88591=nt.ISO8859_1.getName(),_t.EUC_JP="EUC_JP",_t.UTF8=nt.UTF8.getName(),_t.PLATFORM_DEFAULT_ENCODING=_t.UTF8,_t.ASSUME_SHIFT_JIS=!1;class Ut{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=_t.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,r,l){for(let u=r;r<r+l;u++)this.append(e[u]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)}substring(e,r){return this.value.substring(e,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)}}class Gt{constructor(e,r,l,u){if(this.width=e,this.height=r,this.rowSize=l,this.bits=u,r==null&&(r=e),this.height=r,e<1||r<1)throw new T("Both dimensions must be greater than 0");l==null&&(l=Math.floor((e+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const r=e.length,l=e[0].length,u=new Gt(l,r);for(let h=0;h<r;h++){const x=e[h];for(let p=0;p<l;p++)x[p]&&u.set(p,h)}return u}static parseFromString(e,r,l){if(e===null)throw new T("stringRepresentation cannot be null");const u=new Array(e.length);let h=0,x=0,p=-1,w=0,C=0;for(;C<e.length;)if(e.charAt(C)===`
`||e.charAt(C)==="\r"){if(h>x){if(p===-1)p=h-x;else if(h-x!==p)throw new T("row lengths do not match");x=h,w++}C++}else if(e.substring(C,C+r.length)===r)C+=r.length,u[h]=!0,h++;else if(e.substring(C,C+l.length)===l)C+=l.length,u[h]=!1,h++;else throw new T("illegal character encountered: "+e.substring(C));if(h>x){if(p===-1)p=h-x;else if(h-x!==p)throw new T("row lengths do not match");w++}const v=new Gt(p,w);for(let N=0;N<h;N++)u[N]&&v.set(Math.floor(N%p),Math.floor(N/p));return v}get(e,r){const l=r*this.rowSize+Math.floor(e/32);return(this.bits[l]>>>(e&31)&1)!==0}set(e,r){const l=r*this.rowSize+Math.floor(e/32);this.bits[l]|=1<<(e&31)&4294967295}unset(e,r){const l=r*this.rowSize+Math.floor(e/32);this.bits[l]&=~(1<<(e&31)&4294967295)}flip(e,r){const l=r*this.rowSize+Math.floor(e/32);this.bits[l]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new T("input matrix dimensions do not match");const r=new mt(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let h=0,x=this.height;h<x;h++){const p=h*l,w=e.getRow(h,r).getBitArray();for(let C=0;C<l;C++)u[p+C]^=w[C]}}clear(){const e=this.bits,r=e.length;for(let l=0;l<r;l++)e[l]=0}setRegion(e,r,l,u){if(r<0||e<0)throw new T("Left and top must be nonnegative");if(u<1||l<1)throw new T("Height and width must be at least 1");const h=e+l,x=r+u;if(x>this.height||h>this.width)throw new T("The region must fit inside the matrix");const p=this.rowSize,w=this.bits;for(let C=r;C<x;C++){const v=C*p;for(let N=e;N<h;N++)w[v+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(e,r){r==null||r.getSize()<this.width?r=new mt(this.width):r.clear();const l=this.rowSize,u=this.bits,h=e*l;for(let x=0;x<l;x++)r.setBulk(x*32,u[h+x]);return r}setRow(e,r){P.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),r=this.getHeight();let l=new mt(e),u=new mt(e);for(let h=0,x=Math.floor((r+1)/2);h<x;h++)l=this.getRow(h,l),u=this.getRow(r-1-h,u),l.reverse(),u.reverse(),this.setRow(h,u),this.setRow(r-1-h,l)}getEnclosingRectangle(){const e=this.width,r=this.height,l=this.rowSize,u=this.bits;let h=e,x=r,p=-1,w=-1;for(let C=0;C<r;C++)for(let v=0;v<l;v++){const N=u[C*l+v];if(N!==0){if(C<x&&(x=C),C>w&&(w=C),v*32<h){let I=0;for(;(N<<31-I&4294967295)===0;)I++;v*32+I<h&&(h=v*32+I)}if(v*32+31>p){let I=31;for(;!(N>>>I);)I--;v*32+I>p&&(p=v*32+I)}}}return p<h||w<x?null:Int32Array.from([h,x,p-h+1,w-x+1])}getTopLeftOnBit(){const e=this.rowSize,r=this.bits;let l=0;for(;l<r.length&&r[l]===0;)l++;if(l===r.length)return null;const u=l/e;let h=l%e*32;const x=r[l];let p=0;for(;(x<<31-p&4294967295)===0;)p++;return h+=p,Int32Array.from([h,u])}getBottomRightOnBit(){const e=this.rowSize,r=this.bits;let l=r.length-1;for(;l>=0&&r[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/e);let h=Math.floor(l%e)*32;const x=r[l];let p=31;for(;!(x>>>p);)p--;return h+=p,Int32Array.from([h,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof Gt))return!1;const r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&q.equals(this.bits,r.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+q.hashCode(this.bits),e}toString(e="X ",r="  ",l=`
`){return this.buildToString(e,r,l)}buildToString(e,r,l){let u=new Ut;for(let h=0,x=this.height;h<x;h++){for(let p=0,w=this.width;p<w;p++)u.append(this.get(p,h)?e:r);u.append(l)}return u.toString()}clone(){return new Gt(this.width,this.height,this.rowSize,this.bits.slice())}}class K extends b{static getNotFoundInstance(){return new K}}K.kind="NotFoundException";class et extends H{constructor(e){super(e),this.luminances=et.EMPTY,this.buckets=new Int32Array(et.LUMINANCE_BUCKETS)}getBlackRow(e,r){const l=this.getLuminanceSource(),u=l.getWidth();r==null||r.getSize()<u?r=new mt(u):r.clear(),this.initArrays(u);const h=l.getRow(e,this.luminances),x=this.buckets;for(let w=0;w<u;w++)x[(h[w]&255)>>et.LUMINANCE_SHIFT]++;const p=et.estimateBlackPoint(x);if(u<3)for(let w=0;w<u;w++)(h[w]&255)<p&&r.set(w);else{let w=h[0]&255,C=h[1]&255;for(let v=1;v<u-1;v++){const N=h[v+1]&255;(C*4-w-N)/2<p&&r.set(v),w=C,C=N}}return r}getBlackMatrix(){const e=this.getLuminanceSource(),r=e.getWidth(),l=e.getHeight(),u=new Gt(r,l);this.initArrays(r);const h=this.buckets;for(let w=1;w<5;w++){const C=Math.floor(l*w/5),v=e.getRow(C,this.luminances),N=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<N;I++){const k=v[I]&255;h[k>>et.LUMINANCE_SHIFT]++}}const x=et.estimateBlackPoint(h),p=e.getMatrix();for(let w=0;w<l;w++){const C=w*r;for(let v=0;v<r;v++)(p[C+v]&255)<x&&u.set(v,w)}return u}createBinarizer(e){return new et(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const r=this.buckets;for(let l=0;l<et.LUMINANCE_BUCKETS;l++)r[l]=0}static estimateBlackPoint(e){const r=e.length;let l=0,u=0,h=0;for(let v=0;v<r;v++)e[v]>h&&(u=v,h=e[v]),e[v]>l&&(l=e[v]);let x=0,p=0;for(let v=0;v<r;v++){const N=v-u,I=e[v]*N*N;I>p&&(x=v,p=I)}if(u>x){const v=u;u=x,x=v}if(x-u<=r/16)throw new K;let w=x-1,C=-1;for(let v=x-1;v>u;v--){const N=v-u,I=N*N*(x-v)*(l-e[v]);I>C&&(w=v,C=I)}return w<<et.LUMINANCE_SHIFT}}et.LUMINANCE_BITS=5,et.LUMINANCE_SHIFT=8-et.LUMINANCE_BITS,et.LUMINANCE_BUCKETS=1<<et.LUMINANCE_BITS,et.EMPTY=Uint8ClampedArray.from([0]);class ut extends et{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),r=e.getWidth(),l=e.getHeight();if(r>=ut.MINIMUM_DIMENSION&&l>=ut.MINIMUM_DIMENSION){const u=e.getMatrix();let h=r>>ut.BLOCK_SIZE_POWER;(r&ut.BLOCK_SIZE_MASK)!==0&&h++;let x=l>>ut.BLOCK_SIZE_POWER;(l&ut.BLOCK_SIZE_MASK)!==0&&x++;const p=ut.calculateBlackPoints(u,h,x,r,l),w=new Gt(r,l);ut.calculateThresholdForBlock(u,h,x,r,l,p,w),this.matrix=w}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ut(e)}static calculateThresholdForBlock(e,r,l,u,h,x,p){const w=h-ut.BLOCK_SIZE,C=u-ut.BLOCK_SIZE;for(let v=0;v<l;v++){let N=v<<ut.BLOCK_SIZE_POWER;N>w&&(N=w);const I=ut.cap(v,2,l-3);for(let k=0;k<r;k++){let j=k<<ut.BLOCK_SIZE_POWER;j>C&&(j=C);const V=ut.cap(k,2,r-3);let Q=0;for(let St=-2;St<=2;St++){const vt=x[I+St];Q+=vt[V-2]+vt[V-1]+vt[V]+vt[V+1]+vt[V+2]}const rt=Q/25;ut.thresholdBlock(e,j,N,rt,u,p)}}}static cap(e,r,l){return e<r?r:e>l?l:e}static thresholdBlock(e,r,l,u,h,x){for(let p=0,w=l*h+r;p<ut.BLOCK_SIZE;p++,w+=h)for(let C=0;C<ut.BLOCK_SIZE;C++)(e[w+C]&255)<=u&&x.set(r+C,l+p)}static calculateBlackPoints(e,r,l,u,h){const x=h-ut.BLOCK_SIZE,p=u-ut.BLOCK_SIZE,w=new Array(l);for(let C=0;C<l;C++){w[C]=new Int32Array(r);let v=C<<ut.BLOCK_SIZE_POWER;v>x&&(v=x);for(let N=0;N<r;N++){let I=N<<ut.BLOCK_SIZE_POWER;I>p&&(I=p);let k=0,j=255,V=0;for(let rt=0,St=v*u+I;rt<ut.BLOCK_SIZE;rt++,St+=u){for(let vt=0;vt<ut.BLOCK_SIZE;vt++){const Et=e[St+vt]&255;k+=Et,Et<j&&(j=Et),Et>V&&(V=Et)}if(V-j>ut.MIN_DYNAMIC_RANGE)for(rt++,St+=u;rt<ut.BLOCK_SIZE;rt++,St+=u)for(let vt=0;vt<ut.BLOCK_SIZE;vt++)k+=e[St+vt]&255}let Q=k>>ut.BLOCK_SIZE_POWER*2;if(V-j<=ut.MIN_DYNAMIC_RANGE&&(Q=j/2,C>0&&N>0)){const rt=(w[C-1][N]+2*w[C][N-1]+w[C-1][N-1])/4;j<rt&&(Q=rt)}w[C][N]=Q}}return w}}ut.BLOCK_SIZE_POWER=3,ut.BLOCK_SIZE=1<<ut.BLOCK_SIZE_POWER,ut.BLOCK_SIZE_MASK=ut.BLOCK_SIZE-1,ut.MINIMUM_DIMENSION=ut.BLOCK_SIZE*5,ut.MIN_DYNAMIC_RANGE=24;class Rt{constructor(e,r){this.width=e,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,r,l,u){throw new Ft("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Ft("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Ft("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let r=new Ut;for(let l=0;l<this.height;l++){const u=this.getRow(l,e);for(let h=0;h<this.width;h++){const x=u[h]&255;let p;x<64?p="#":x<128?p="+":x<192?p=".":p=" ",r.append(p)}r.append(`
`)}return r.toString()}}class qt extends Rt{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,r){const l=this.delegate.getRow(e,r),u=this.getWidth();for(let h=0;h<u;h++)l[h]=255-(l[h]&255);return l}getMatrix(){const e=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(r);for(let u=0;u<r;u++)l[u]=255-(e[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(e,r,l,u){return new qt(this.delegate.crop(e,r,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new qt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new qt(this.delegate.rotateCounterClockwise45())}}class F extends Rt{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=F.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const r=e.getContext("2d").getImageData(0,0,e.width,e.height);return F.toGrayscaleBuffer(r.data,e.width,e.height)}static toGrayscaleBuffer(e,r,l){const u=new Uint8ClampedArray(r*l);for(let h=0,x=0,p=e.length;h<p;h+=4,x++){let w;if(e[h+3]===0)w=255;else{const v=e[h],N=e[h+1],I=e[h+2];w=306*v+601*N+117*I+512>>10}u[x]=w}return u}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const l=this.getWidth(),u=e*l;return r===null?r=this.buffer.slice(u,u+l):(r.length<l&&(r=new Uint8ClampedArray(l)),r.set(this.buffer.slice(u,u+l))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,r,l,u){return super.crop(e,r,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const r=this.getTempCanvasElement(),l=r.getContext("2d"),u=e*F.DEGREE_TO_RADIANS,h=this.canvas.width,x=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*h+Math.abs(Math.sin(u))*x),w=Math.ceil(Math.abs(Math.sin(u))*h+Math.abs(Math.cos(u))*x);return r.width=p,r.height=w,l.translate(p/2,w/2),l.rotate(u),l.drawImage(this.canvas,h/-2,x/-2),this.buffer=F.makeBufferFromCanvasImageData(r),this}invert(){return new qt(this)}}F.DEGREE_TO_RADIANS=Math.PI/180;class ot{constructor(e,r,l){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ft=(globalThis||qc||self||window||void 0)&&(globalThis||qc||self||window||void 0).__awaiter||function(O,e,r,l){function u(h){return h instanceof r?h:new r(function(x){x(h)})}return new(r||(r=Promise))(function(h,x){function p(v){try{C(l.next(v))}catch(N){x(N)}}function w(v){try{C(l.throw(v))}catch(N){x(N)}}function C(v){v.done?h(v.value):u(v.value).then(p,w)}C((l=l.apply(O,e||[])).next())})};class wt{constructor(e,r=500,l){this.reader=e,this.timeBetweenScansMillis=r,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ft(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const l of e){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const h=l.deviceId||l.id,x=l.label||`Video device ${r.length+1}`,p=l.groupId,w={deviceId:h,label:x,kind:u,groupId:p};r.push(w)}return r})}getVideoInputDevices(){return ft(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new ot(r.deviceId,r.label))})}findDeviceById(e){return ft(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(l=>l.deviceId===e):null})}decodeFromInputVideoDevice(e,r){return ft(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,r)})}decodeOnceFromVideoDevice(e,r){return ft(this,void 0,void 0,function*(){this.reset();let l;e?l={deviceId:{exact:e}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,r)})}decodeOnceFromConstraints(e,r){return ft(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(l,r)})}decodeOnceFromStream(e,r){return ft(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(e,r);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(e,r,l){return ft(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,r,l)})}decodeFromVideoDevice(e,r,l){return ft(this,void 0,void 0,function*(){let u;e?u={deviceId:{exact:e}}:u={facingMode:"environment"};const h={video:u};return yield this.decodeFromConstraints(h,r,l)})}decodeFromConstraints(e,r,l){return ft(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(u,r,l)})}decodeFromStream(e,r,l){return ft(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(e,r);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,r){return ft(this,void 0,void 0,function*(){const l=this.prepareVideoElement(r);return this.addVideoSource(l,e),this.videoElement=l,this.stream=e,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(e){return new Promise((r,l)=>this.playVideoOnLoad(e,()=>r()))}playVideoOnLoad(e,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ft(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,r){const l=document.getElementById(e);if(!l)throw new _(`element with id '${e}' not found`);if(l.nodeName.toLowerCase()!==r.toLowerCase())throw new _(`element with id '${e}' must be an ${r} element`);return l}decodeFromImage(e,r){if(!e&&!r)throw new _("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)}decodeFromVideo(e,r){if(!e&&!r)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,r,l){if(e===void 0&&r===void 0)throw new _("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,l):this.decodeFromVideoElementContinuously(e,l)}decodeFromImageElement(e){if(!e)throw new _("An image element must be provided.");this.reset();const r=this.prepareImageElement(e);this.imageElement=r;let l;return this.isImageLoaded(r)?l=this.decodeOnce(r,!1,!0):l=this._decodeOnLoadImage(r),l}decodeFromVideoElement(e){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(e,r){const l=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(l,r)}_decodeFromVideoElementSetup(e){if(!e)throw new _("A video element must be provided.");this.reset();const r=this.prepareVideoElement(e);return this.videoElement=r,r}decodeFromImageUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const l=this._decodeOnLoadImage(r);return r.src=e,l}decodeFromVideoUrl(e){if(!e)throw new _("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElement(r);return r.src=e,l}decodeFromVideoUrlContinuously(e,r){if(!e)throw new _("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,r);return l.src=e,u}_decodeOnLoadImage(e){return new Promise((r,l)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(r,l),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ft(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,r){return ft(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,r)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r}prepareVideoElement(e){let r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(e,r=!0,l=!0){this._stopAsyncDecode=!1;const u=(h,x)=>{if(this._stopAsyncDecode){x(new K("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(e);h(p)}catch(p){const w=r&&p instanceof K,v=(p instanceof L||p instanceof X)&&l;if(w||v)return setTimeout(u,this._timeBetweenDecodingAttempts,h,x);x(p)}};return new Promise((h,x)=>u(h,x))}decodeContinuously(e,r){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(e);r(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){r(null,u);const h=u instanceof L||u instanceof X,x=u instanceof K;(h||x)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(e){const r=this.createBinaryBitmap(e);return this.decodeBitmap(r)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,r,l){r||(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(e,r,l=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const r=this.getCaptureCanvas(e),l=new F(r),u=new ut(l);return new D(u)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let l,u;return typeof e<"u"&&(e instanceof HTMLVideoElement?(l=e.videoWidth,u=e.videoHeight):e instanceof HTMLImageElement&&(l=e.naturalWidth||e.width,u=e.naturalHeight||e.height)),r.style.width=l+"px",r.style.height=u+"px",r.width=l,r.height=u,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class bt{constructor(e,r,l=r==null?0:8*r.length,u,h,x=P.currentTimeMillis()){this.text=e,this.rawBytes=r,this.numBits=l,this.resultPoints=u,this.format=h,this.timestamp=x,this.text=e,this.rawBytes=r,l==null?this.numBits=r==null?0:8*r.length:this.numBits=l,this.resultPoints=u,this.format=h,this.resultMetadata=null,x==null?this.timestamp=P.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){const l=new Array(r.length+e.length);P.arraycopy(r,0,l,0,r.length),P.arraycopy(e,0,l,r.length,e.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var jt;(function(O){O[O.AZTEC=0]="AZTEC",O[O.CODABAR=1]="CODABAR",O[O.CODE_39=2]="CODE_39",O[O.CODE_93=3]="CODE_93",O[O.CODE_128=4]="CODE_128",O[O.DATA_MATRIX=5]="DATA_MATRIX",O[O.EAN_8=6]="EAN_8",O[O.EAN_13=7]="EAN_13",O[O.ITF=8]="ITF",O[O.MAXICODE=9]="MAXICODE",O[O.PDF_417=10]="PDF_417",O[O.QR_CODE=11]="QR_CODE",O[O.RSS_14=12]="RSS_14",O[O.RSS_EXPANDED=13]="RSS_EXPANDED",O[O.UPC_A=14]="UPC_A",O[O.UPC_E=15]="UPC_E",O[O.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(jt||(jt={}));var At=jt,On;(function(O){O[O.OTHER=0]="OTHER",O[O.ORIENTATION=1]="ORIENTATION",O[O.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",O[O.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",O[O.ISSUE_NUMBER=4]="ISSUE_NUMBER",O[O.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",O[O.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",O[O.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",O[O.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",O[O.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",O[O.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(On||(On={}));var Qt=On;class Qn{constructor(e,r,l,u,h=-1,x=-1){this.rawBytes=e,this.text=r,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=x,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xa{exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}static addOrSubtract(e,r){return e^r}}class dn{constructor(e,r){if(r.length===0)throw new T;this.field=e;const l=r.length;if(l>1&&r[0]===0){let u=1;for(;u<l&&r[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),P.arraycopy(r,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const r=this.coefficients;let l;if(e===1){l=0;for(let x=0,p=r.length;x!==p;x++){const w=r[x];l=xa.addOrSubtract(l,w)}return l}l=r[0];const u=r.length,h=this.field;for(let x=1;x<u;x++)l=xa.addOrSubtract(h.multiply(e,l),r[x]);return l}addOrSubtract(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,l=e.coefficients;if(r.length>l.length){const x=r;r=l,l=x}let u=new Int32Array(l.length);const h=l.length-r.length;P.arraycopy(l,0,u,0,h);for(let x=h;x<l.length;x++)u[x]=xa.addOrSubtract(r[x-h],l[x]);return new dn(this.field,u)}multiply(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const r=this.coefficients,l=r.length,u=e.coefficients,h=u.length,x=new Int32Array(l+h-1),p=this.field;for(let w=0;w<l;w++){const C=r[w];for(let v=0;v<h;v++)x[w+v]=xa.addOrSubtract(x[w+v],p.multiply(C,u[v]))}return new dn(p,x)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const r=this.coefficients.length,l=this.field,u=new Int32Array(r),h=this.coefficients;for(let x=0;x<r;x++)u[x]=l.multiply(h[x],e);return new dn(l,u)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return this.field.getZero();const l=this.coefficients,u=l.length,h=new Int32Array(u+e),x=this.field;for(let p=0;p<u;p++)h[p]=x.multiply(l[p],r);return new dn(x,h)}divide(e){if(!this.field.equals(e.field))throw new T("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new T("Divide by 0");const r=this.field;let l=r.getZero(),u=this;const h=e.getCoefficient(e.getDegree()),x=r.inverse(h);for(;u.getDegree()>=e.getDegree()&&!u.isZero();){const p=u.getDegree()-e.getDegree(),w=r.multiply(u.getCoefficient(u.getDegree()),x),C=e.multiplyByMonomial(p,w),v=r.buildMonomial(p,w);l=l.addOrSubtract(v),u=u.addOrSubtract(C)}return[l,u]}toString(){let e="";for(let r=this.getDegree();r>=0;r--){let l=this.getCoefficient(r);if(l!==0){if(l<0?(e+=" - ",l=-l):e.length>0&&(e+=" + "),r===0||l!==1){const u=this.field.log(l);u===0?e+="1":u===1?e+="a":(e+="a^",e+=u)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e}}class Ga extends b{}Ga.kind="ArithmeticException";class le extends xa{constructor(e,r,l){super(),this.primitive=e,this.size=r,this.generatorBase=l;const u=new Int32Array(r);let h=1;for(let p=0;p<r;p++)u[p]=h,h*=2,h>=r&&(h^=e,h&=r-1);this.expTable=u;const x=new Int32Array(r);for(let p=0;p<r-1;p++)x[u[p]]=p;this.logTable=x,this.zero=new dn(this,Int32Array.from([0])),this.one=new dn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;const l=new Int32Array(e+1);return l[0]=r,new dn(this,l)}inverse(e){if(e===0)throw new Ga;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+at.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}le.AZTEC_DATA_12=new le(4201,4096,1),le.AZTEC_DATA_10=new le(1033,1024,1),le.AZTEC_DATA_6=new le(67,64,1),le.AZTEC_PARAM=new le(19,16,1),le.QR_CODE_FIELD_256=new le(285,256,0),le.DATA_MATRIX_FIELD_256=new le(301,256,1),le.AZTEC_DATA_8=le.DATA_MATRIX_FIELD_256,le.MAXICODE_FIELD_64=le.AZTEC_DATA_6;class Yi extends b{}Yi.kind="ReedSolomonException";class bi extends b{}bi.kind="IllegalStateException";class Ds{constructor(e){this.field=e}decode(e,r){const l=this.field,u=new dn(l,e),h=new Int32Array(r);let x=!0;for(let k=0;k<r;k++){const j=u.evaluateAt(l.exp(k+l.getGeneratorBase()));h[h.length-1-k]=j,j!==0&&(x=!1)}if(x)return;const p=new dn(l,h),w=this.runEuclideanAlgorithm(l.buildMonomial(r,1),p,r),C=w[0],v=w[1],N=this.findErrorLocations(C),I=this.findErrorMagnitudes(v,N);for(let k=0;k<N.length;k++){const j=e.length-1-l.log(N[k]);if(j<0)throw new Yi("Bad error location");e[j]=le.addOrSubtract(e[j],I[k])}}runEuclideanAlgorithm(e,r,l){if(e.getDegree()<r.getDegree()){const k=e;e=r,r=k}const u=this.field;let h=e,x=r,p=u.getZero(),w=u.getOne();for(;x.getDegree()>=(l/2|0);){let k=h,j=p;if(h=x,p=w,h.isZero())throw new Yi("r_{i-1} was zero");x=k;let V=u.getZero();const Q=h.getCoefficient(h.getDegree()),rt=u.inverse(Q);for(;x.getDegree()>=h.getDegree()&&!x.isZero();){const St=x.getDegree()-h.getDegree(),vt=u.multiply(x.getCoefficient(x.getDegree()),rt);V=V.addOrSubtract(u.buildMonomial(St,vt)),x=x.addOrSubtract(h.multiplyByMonomial(St,vt))}if(w=V.multiply(p).addOrSubtract(j),x.getDegree()>=h.getDegree())throw new bi("Division algorithm failed to reduce polynomial?")}const C=w.getCoefficient(0);if(C===0)throw new Yi("sigmaTilde(0) was zero");const v=u.inverse(C),N=w.multiplyScalar(v),I=x.multiplyScalar(v);return[N,I]}findErrorLocations(e){const r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);const l=new Int32Array(r);let u=0;const h=this.field;for(let x=1;x<h.getSize()&&u<r;x++)e.evaluateAt(x)===0&&(l[u]=h.inverse(x),u++);if(u!==r)throw new Yi("Error locator degree does not match number of roots");return l}findErrorMagnitudes(e,r){const l=r.length,u=new Int32Array(l),h=this.field;for(let x=0;x<l;x++){const p=h.inverse(r[x]);let w=1;for(let C=0;C<l;C++)if(x!==C){const v=h.multiply(r[C],p),N=(v&1)===0?v|1:v&-2;w=h.multiply(w,N)}u[x]=h.multiply(e.evaluateAt(p),h.inverse(w)),h.getGeneratorBase()!==0&&(u[x]=h.multiply(u[x],p))}return u}}var Te;(function(O){O[O.UPPER=0]="UPPER",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.DIGIT=3]="DIGIT",O[O.PUNCT=4]="PUNCT",O[O.BINARY=5]="BINARY"})(Te||(Te={}));class Me{decode(e){this.ddata=e;let r=e.getBits(),l=this.extractBits(r),u=this.correctBits(l),h=Me.convertBoolArrayToByteArray(u),x=Me.getEncodedData(u),p=new Qn(h,x,null,null);return p.setNumBits(u.length),p}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let r=e.length,l=Te.UPPER,u=Te.UPPER,h="",x=0;for(;x<r;)if(u===Te.BINARY){if(r-x<5)break;let p=Me.readCode(e,x,5);if(x+=5,p===0){if(r-x<11)break;p=Me.readCode(e,x,11)+31,x+=11}for(let w=0;w<p;w++){if(r-x<8){x=r;break}const C=Me.readCode(e,x,8);h+=_t.castAsNonUtf8Char(C),x+=8}u=l}else{let p=u===Te.DIGIT?4:5;if(r-x<p)break;let w=Me.readCode(e,x,p);x+=p;let C=Me.getCharacter(u,w);C.startsWith("CTRL_")?(l=u,u=Me.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=u)):(h+=C,u=l)}return h}static getTable(e){switch(e){case"L":return Te.LOWER;case"P":return Te.PUNCT;case"M":return Te.MIXED;case"D":return Te.DIGIT;case"B":return Te.BINARY;case"U":default:return Te.UPPER}}static getCharacter(e,r){switch(e){case Te.UPPER:return Me.UPPER_TABLE[r];case Te.LOWER:return Me.LOWER_TABLE[r];case Te.MIXED:return Me.MIXED_TABLE[r];case Te.PUNCT:return Me.PUNCT_TABLE[r];case Te.DIGIT:return Me.DIGIT_TABLE[r];default:throw new bi("Bad table")}}correctBits(e){let r,l;this.ddata.getNbLayers()<=2?(l=6,r=le.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,r=le.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,r=le.AZTEC_DATA_10):(l=12,r=le.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),h=e.length/l;if(h<u)throw new X;let x=e.length%l,p=new Int32Array(h);for(let I=0;I<h;I++,x+=l)p[I]=Me.readCode(e,x,l);try{new Ds(r).decode(p,h-u)}catch(I){throw new X(I)}let w=(1<<l)-1,C=0;for(let I=0;I<u;I++){let k=p[I];if(k===0||k===w)throw new X;(k===1||k===w-1)&&C++}let v=new Array(u*l-C),N=0;for(let I=0;I<u;I++){let k=p[I];if(k===1||k===w-1)v.fill(k>1,N,N+l-1),N+=l-1;else for(let j=l-1;j>=0;--j)v[N++]=(k&1<<j)!==0}return v}extractBits(e){let r=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(r?11:14)+l*4,h=new Int32Array(u),x=new Array(this.totalBitsInLayer(l,r));if(r)for(let p=0;p<h.length;p++)h[p]=p;else{let p=u+1+2*at.truncDivision(at.truncDivision(u,2)-1,15),w=u/2,C=at.truncDivision(p,2);for(let v=0;v<w;v++){let N=v+at.truncDivision(v,15);h[w-v-1]=C-N-1,h[w+v]=C+N+1}}for(let p=0,w=0;p<l;p++){let C=(l-p)*4+(r?9:12),v=p*2,N=u-1-v;for(let I=0;I<C;I++){let k=I*2;for(let j=0;j<2;j++)x[w+k+j]=e.get(h[v+j],h[v+I]),x[w+2*C+k+j]=e.get(h[v+I],h[N-j]),x[w+4*C+k+j]=e.get(h[N-j],h[N-I]),x[w+6*C+k+j]=e.get(h[N-I],h[v+j])}w+=C*8}return x}static readCode(e,r,l){let u=0;for(let h=r;h<r+l;h++)u<<=1,e[h]&&(u|=1);return u}static readByte(e,r){let l=e.length-r;return l>=8?Me.readCode(e,r,8):Me.readCode(e,r,l)<<8-l}static convertBoolArrayToByteArray(e){let r=new Uint8Array((e.length+7)/8);for(let l=0;l<r.length;l++)r[l]=Me.readByte(e,8*l);return r}totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}Me.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Me.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Me.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Me.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Me.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class se{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,r,l,u){const h=e-l,x=r-u;return Math.sqrt(h*h+x*x)}static sum(e){let r=0;for(let l=0,u=e.length;l!==u;l++){const h=e[l];r+=h}return r}}class Rs{static floatToIntBits(e){return e}}Rs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Nt{constructor(e,r){this.x=e,this.y=r}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Nt){const r=e;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*Rs.floatToIntBits(this.x)+Rs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const r=this.distance(e[0],e[1]),l=this.distance(e[1],e[2]),u=this.distance(e[0],e[2]);let h,x,p;if(l>=r&&l>=u?(x=e[0],h=e[1],p=e[2]):u>=l&&u>=r?(x=e[1],h=e[0],p=e[2]):(x=e[2],h=e[0],p=e[1]),this.crossProductZ(h,x,p)<0){const w=h;h=p,p=w}e[0]=h,e[1]=x,e[2]=p}static distance(e,r){return se.distance(e.x,e.y,r.x,r.y)}static crossProductZ(e,r,l){const u=r.x,h=r.y;return(l.x-u)*(e.y-h)-(l.y-h)*(e.x-u)}}class gr{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class gl extends gr{constructor(e,r,l,u,h){super(e,r),this.compact=l,this.nbDatablocks=u,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ri{constructor(e,r,l,u){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=Ri.INIT_SIZE),l==null&&(l=e.getWidth()/2|0),u==null&&(u=e.getHeight()/2|0);const h=r/2|0;if(this.leftInit=l-h,this.rightInit=l+h,this.upInit=u-h,this.downInit=u+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new K}detect(){let e=this.leftInit,r=this.rightInit,l=this.upInit,u=this.downInit,h=!1,x=!0,p=!1,w=!1,C=!1,v=!1,N=!1;const I=this.width,k=this.height;for(;x;){x=!1;let j=!0;for(;(j||!w)&&r<I;)j=this.containsBlackPoint(l,u,r,!1),j?(r++,x=!0,w=!0):w||r++;if(r>=I){h=!0;break}let V=!0;for(;(V||!C)&&u<k;)V=this.containsBlackPoint(e,r,u,!0),V?(u++,x=!0,C=!0):C||u++;if(u>=k){h=!0;break}let Q=!0;for(;(Q||!v)&&e>=0;)Q=this.containsBlackPoint(l,u,e,!1),Q?(e--,x=!0,v=!0):v||e--;if(e<0){h=!0;break}let rt=!0;for(;(rt||!N)&&l>=0;)rt=this.containsBlackPoint(e,r,l,!0),rt?(l--,x=!0,N=!0):N||l--;if(l<0){h=!0;break}x&&(p=!0)}if(!h&&p){const j=r-e;let V=null;for(let vt=1;V===null&&vt<j;vt++)V=this.getBlackPointOnSegment(e,u-vt,e+vt,u);if(V==null)throw new K;let Q=null;for(let vt=1;Q===null&&vt<j;vt++)Q=this.getBlackPointOnSegment(e,l+vt,e+vt,l);if(Q==null)throw new K;let rt=null;for(let vt=1;rt===null&&vt<j;vt++)rt=this.getBlackPointOnSegment(r,l+vt,r-vt,l);if(rt==null)throw new K;let St=null;for(let vt=1;St===null&&vt<j;vt++)St=this.getBlackPointOnSegment(r,u-vt,r-vt,u);if(St==null)throw new K;return this.centerEdges(St,V,rt,Q)}else throw new K}getBlackPointOnSegment(e,r,l,u){const h=se.round(se.distance(e,r,l,u)),x=(l-e)/h,p=(u-r)/h,w=this.image;for(let C=0;C<h;C++){const v=se.round(e+C*x),N=se.round(r+C*p);if(w.get(v,N))return new Nt(v,N)}return null}centerEdges(e,r,l,u){const h=e.getX(),x=e.getY(),p=r.getX(),w=r.getY(),C=l.getX(),v=l.getY(),N=u.getX(),I=u.getY(),k=Ri.CORR;return h<this.width/2?[new Nt(N-k,I+k),new Nt(p+k,w+k),new Nt(C-k,v-k),new Nt(h+k,x-k)]:[new Nt(N+k,I+k),new Nt(p+k,w-k),new Nt(C-k,v+k),new Nt(h-k,x-k)]}containsBlackPoint(e,r,l,u){const h=this.image;if(u){for(let x=e;x<=r;x++)if(h.get(x,l))return!0}else for(let x=e;x<=r;x++)if(h.get(l,x))return!0;return!1}}Ri.INIT_SIZE=10,Ri.CORR=1;class xl{static checkAndNudgePoints(e,r){const l=e.getWidth(),u=e.getHeight();let h=!0;for(let x=0;x<r.length&&h;x+=2){const p=Math.floor(r[x]),w=Math.floor(r[x+1]);if(p<-1||p>l||w<-1||w>u)throw new K;h=!1,p===-1?(r[x]=0,h=!0):p===l&&(r[x]=l-1,h=!0),w===-1?(r[x+1]=0,h=!0):w===u&&(r[x+1]=u-1,h=!0)}h=!0;for(let x=r.length-2;x>=0&&h;x-=2){const p=Math.floor(r[x]),w=Math.floor(r[x+1]);if(p<-1||p>l||w<-1||w>u)throw new K;h=!1,p===-1?(r[x]=0,h=!0):p===l&&(r[x]=l-1,h=!0),w===-1?(r[x+1]=0,h=!0):w===u&&(r[x+1]=u-1,h=!0)}}}class Nn{constructor(e,r,l,u,h,x,p,w,C){this.a11=e,this.a21=r,this.a31=l,this.a12=u,this.a22=h,this.a32=x,this.a13=p,this.a23=w,this.a33=C}static quadrilateralToQuadrilateral(e,r,l,u,h,x,p,w,C,v,N,I,k,j,V,Q){const rt=Nn.quadrilateralToSquare(e,r,l,u,h,x,p,w);return Nn.squareToQuadrilateral(C,v,N,I,k,j,V,Q).times(rt)}transformPoints(e){const r=e.length,l=this.a11,u=this.a12,h=this.a13,x=this.a21,p=this.a22,w=this.a23,C=this.a31,v=this.a32,N=this.a33;for(let I=0;I<r;I+=2){const k=e[I],j=e[I+1],V=h*k+w*j+N;e[I]=(l*k+x*j+C)/V,e[I+1]=(u*k+p*j+v)/V}}transformPointsWithValues(e,r){const l=this.a11,u=this.a12,h=this.a13,x=this.a21,p=this.a22,w=this.a23,C=this.a31,v=this.a32,N=this.a33,I=e.length;for(let k=0;k<I;k++){const j=e[k],V=r[k],Q=h*j+w*V+N;e[k]=(l*j+x*V+C)/Q,r[k]=(u*j+p*V+v)/Q}}static squareToQuadrilateral(e,r,l,u,h,x,p,w){const C=e-l+h-p,v=r-u+x-w;if(C===0&&v===0)return new Nn(l-e,h-l,e,u-r,x-u,r,0,0,1);{const N=l-h,I=p-h,k=u-x,j=w-x,V=N*j-I*k,Q=(C*j-I*v)/V,rt=(N*v-C*k)/V;return new Nn(l-e+Q*l,p-e+rt*p,e,u-r+Q*u,w-r+rt*w,r,Q,rt,1)}}static quadrilateralToSquare(e,r,l,u,h,x,p,w){return Nn.squareToQuadrilateral(e,r,l,u,h,x,p,w).buildAdjoint()}buildAdjoint(){return new Nn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Nn(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class kn extends xl{sampleGrid(e,r,l,u,h,x,p,w,C,v,N,I,k,j,V,Q,rt,St,vt){const Et=Nn.quadrilateralToQuadrilateral(u,h,x,p,w,C,v,N,I,k,j,V,Q,rt,St,vt);return this.sampleGridWithTransform(e,r,l,Et)}sampleGridWithTransform(e,r,l,u){if(r<=0||l<=0)throw new K;const h=new Gt(r,l),x=new Float32Array(2*r);for(let p=0;p<l;p++){const w=x.length,C=p+.5;for(let v=0;v<w;v+=2)x[v]=v/2+.5,x[v+1]=C;u.transformPoints(x),xl.checkAndNudgePoints(e,x);try{for(let v=0;v<w;v+=2)e.get(Math.floor(x[v]),Math.floor(x[v+1]))&&h.set(v/2,p)}catch{throw new K}}return h}}class In{static setGridSampler(e){In.gridSampler=e}static getInstance(){return In.gridSampler}}In.gridSampler=new kn;class be{constructor(e,r){this.x=e,this.y=r}toResultPoint(){return new Nt(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Po{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let r=this.getMatrixCenter(),l=this.getBullsEyeCorners(r);if(e){let x=l[0];l[0]=l[2],l[2]=x}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),h=this.getMatrixCornerPoints(l);return new gl(u,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new K;let r=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(l,r);let u=0;for(let x=0;x<4;x++){let p=l[(this.shift+x)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}let h=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(e,r){let l=0;e.forEach((u,h,x)=>{let p=(u>>r-2<<1)+(u&1);l=(l<<3)+p}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(at.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new K}getCorrectedParameterData(e,r){let l,u;r?(l=7,u=2):(l=10,u=4);let h=l-u,x=new Int32Array(l);for(let w=l-1;w>=0;--w)x[w]=e&15,e>>=4;try{new Ds(le.AZTEC_PARAM).decode(x,h)}catch{throw new K}let p=0;for(let w=0;w<u;w++)p=(p<<4)+x[w];return p}getBullsEyeCorners(e){let r=e,l=e,u=e,h=e,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(r,x,1,-1),I=this.getFirstDifferent(l,x,1,1),k=this.getFirstDifferent(u,x,-1,1),j=this.getFirstDifferent(h,x,-1,-1);if(this.nbCenterLayers>2){let V=this.distancePoint(j,N)*this.nbCenterLayers/(this.distancePoint(h,r)*(this.nbCenterLayers+2));if(V<.75||V>1.25||!this.isWhiteOrBlackRectangle(N,I,k,j))break}r=N,l=I,u=k,h=j,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new K;this.compact=this.nbCenterLayers===5;let p=new Nt(r.getX()+.5,r.getY()-.5),w=new Nt(l.getX()+.5,l.getY()+.5),C=new Nt(u.getX()-.5,u.getY()+.5),v=new Nt(h.getX()-.5,h.getY()-.5);return this.expandSquare([p,w,C,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,r,l,u;try{let p=new Ri(this.image).detect();e=p[0],r=p[1],l=p[2],u=p[3]}catch{let w=this.image.getWidth()/2,C=this.image.getHeight()/2;e=this.getFirstDifferent(new be(w+7,C-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new be(w+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new be(w-7,C+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new be(w-7,C-7),!1,-1,-1).toResultPoint()}let h=se.round((e.getX()+u.getX()+r.getX()+l.getX())/4),x=se.round((e.getY()+u.getY()+r.getY()+l.getY())/4);try{let p=new Ri(this.image,15,h,x).detect();e=p[0],r=p[1],l=p[2],u=p[3]}catch{e=this.getFirstDifferent(new be(h+7,x-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new be(h+7,x+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new be(h-7,x+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new be(h-7,x-7),!1,-1,-1).toResultPoint()}return h=se.round((e.getX()+u.getX()+r.getX()+l.getX())/4),x=se.round((e.getY()+u.getY()+r.getY()+l.getY())/4),new be(h,x)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,r,l,u,h){let x=In.getInstance(),p=this.getDimension(),w=p/2-this.nbCenterLayers,C=p/2+this.nbCenterLayers;return x.sampleGrid(e,p,p,w,w,C,w,C,C,w,C,r.getX(),r.getY(),l.getX(),l.getY(),u.getX(),u.getY(),h.getX(),h.getY())}sampleLine(e,r,l){let u=0,h=this.distanceResultPoint(e,r),x=h/l,p=e.getX(),w=e.getY(),C=x*(r.getX()-e.getX())/h,v=x*(r.getY()-e.getY())/h;for(let N=0;N<l;N++)this.image.get(se.round(p+N*C),se.round(w+N*v))&&(u|=1<<l-N-1);return u}isWhiteOrBlackRectangle(e,r,l,u){let h=3;e=new be(e.getX()-h,e.getY()+h),r=new be(r.getX()-h,r.getY()-h),l=new be(l.getX()+h,l.getY()-h),u=new be(u.getX()+h,u.getY()+h);let x=this.getColor(u,e);if(x===0)return!1;let p=this.getColor(e,r);return p!==x||(p=this.getColor(r,l),p!==x)?!1:(p=this.getColor(l,u),p===x)}getColor(e,r){let l=this.distancePoint(e,r),u=(r.getX()-e.getX())/l,h=(r.getY()-e.getY())/l,x=0,p=e.getX(),w=e.getY(),C=this.image.get(e.getX(),e.getY()),v=Math.ceil(l);for(let I=0;I<v;I++)p+=u,w+=h,this.image.get(se.round(p),se.round(w))!==C&&x++;let N=x/l;return N>.1&&N<.9?0:N<=.1===C?1:-1}getFirstDifferent(e,r,l,u){let h=e.getX()+l,x=e.getY()+u;for(;this.isValid(h,x)&&this.image.get(h,x)===r;)h+=l,x+=u;for(h-=l,x-=u;this.isValid(h,x)&&this.image.get(h,x)===r;)h+=l;for(h-=l;this.isValid(h,x)&&this.image.get(h,x)===r;)x+=u;return x-=u,new be(h,x)}expandSquare(e,r,l){let u=l/(2*r),h=e[0].getX()-e[2].getX(),x=e[0].getY()-e[2].getY(),p=(e[0].getX()+e[2].getX())/2,w=(e[0].getY()+e[2].getY())/2,C=new Nt(p+u*h,w+u*x),v=new Nt(p-u*h,w-u*x);h=e[1].getX()-e[3].getX(),x=e[1].getY()-e[3].getY(),p=(e[1].getX()+e[3].getX())/2,w=(e[1].getY()+e[3].getY())/2;let N=new Nt(p+u*h,w+u*x),I=new Nt(p-u*h,w-u*x);return[C,N,v,I]}isValid(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(e){let r=se.round(e.getX()),l=se.round(e.getY());return this.isValid(r,l)}distancePoint(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())}distanceResultPoint(e,r){return se.distance(e.getX(),e.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(at.truncDivision(this.nbLayers-4,8)+1)+15}}class xr{decode(e,r=null){let l=null,u=new Po(e.getBlackMatrix()),h=null,x=null;try{let v=u.detectMirror(!1);h=v.getPoints(),this.reportFoundResultPoints(r,h),x=new Me().decode(v)}catch(v){l=v}if(x==null)try{let v=u.detectMirror(!0);h=v.getPoints(),this.reportFoundResultPoints(r,h),x=new Me().decode(v)}catch(v){throw l??v}let p=new bt(x.getText(),x.getRawBytes(),x.getNumBits(),h,At.AZTEC,P.currentTimeMillis()),w=x.getByteSegments();w!=null&&p.putMetadata(Qt.BYTE_SEGMENTS,w);let C=x.getECLevel();return C!=null&&p.putMetadata(Qt.ERROR_CORRECTION_LEVEL,C),p}reportFoundResultPoints(e,r){if(e!=null){let l=e.get(Ct.NEED_RESULT_POINT_CALLBACK);l!=null&&r.forEach((u,h,x)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Iu extends wt{constructor(e=500){super(new xr,e)}}class Ue{decode(e,r){try{return this.doDecode(e,r)}catch{if(r&&r.get(Ct.TRY_HARDER)===!0&&e.isRotateSupported()){const h=e.rotateCounterClockwise(),x=this.doDecode(h,r),p=x.getResultMetadata();let w=270;p!==null&&p.get(Qt.ORIENTATION)===!0&&(w=w+p.get(Qt.ORIENTATION)%360),x.putMetadata(Qt.ORIENTATION,w);const C=x.getResultPoints();if(C!==null){const v=h.getHeight();for(let N=0;N<C.length;N++)C[N]=new Nt(v-C[N].getY()-1,C[N].getX())}return x}else throw new K}}reset(){}doDecode(e,r){const l=e.getWidth(),u=e.getHeight();let h=new mt(l);const x=r&&r.get(Ct.TRY_HARDER)===!0,p=Math.max(1,u>>(x?8:5));let w;x?w=u:w=15;const C=Math.trunc(u/2);for(let v=0;v<w;v++){const N=Math.trunc((v+1)/2),I=(v&1)===0,k=C+p*(I?N:-N);if(k<0||k>=u)break;try{h=e.getBlackRow(k,h)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(h.reverse(),r&&r.get(Ct.NEED_RESULT_POINT_CALLBACK)===!0)){const V=new Map;r.forEach((Q,rt)=>V.set(rt,Q)),V.delete(Ct.NEED_RESULT_POINT_CALLBACK),r=V}try{const V=this.decodeRow(k,h,r);if(j===1){V.putMetadata(Qt.ORIENTATION,180);const Q=V.getResultPoints();Q!==null&&(Q[0]=new Nt(l-Q[0].getX()-1,Q[0].getY()),Q[1]=new Nt(l-Q[1].getX()-1,Q[1].getY()))}return V}catch{}}}throw new K}static recordPattern(e,r,l){const u=l.length;for(let C=0;C<u;C++)l[C]=0;const h=e.getSize();if(r>=h)throw new K;let x=!e.get(r),p=0,w=r;for(;w<h;){if(e.get(w)!==x)l[p]++;else{if(++p===u)break;l[p]=1,x=!x}w++}if(!(p===u||p===u-1&&w===h))throw new K}static recordPatternInReverse(e,r,l){let u=l.length,h=e.get(r);for(;r>0&&u>=0;)e.get(--r)!==h&&(u--,h=!h);if(u>=0)throw new K;Ue.recordPattern(e,r+1,l)}static patternMatchVariance(e,r,l){const u=e.length;let h=0,x=0;for(let C=0;C<u;C++)h+=e[C],x+=r[C];if(h<x)return Number.POSITIVE_INFINITY;const p=h/x;l*=p;let w=0;for(let C=0;C<u;C++){const v=e[C],N=r[C]*p,I=v>N?v-N:N-v;if(I>l)return Number.POSITIVE_INFINITY;w+=I}return w/h}}class Tt extends Ue{static findStartPattern(e){const r=e.getSize(),l=e.getNextSet(0);let u=0,h=Int32Array.from([0,0,0,0,0,0]),x=l,p=!1;const w=6;for(let C=l;C<r;C++)if(e.get(C)!==p)h[u]++;else{if(u===w-1){let v=Tt.MAX_AVG_VARIANCE,N=-1;for(let I=Tt.CODE_START_A;I<=Tt.CODE_START_C;I++){const k=Ue.patternMatchVariance(h,Tt.CODE_PATTERNS[I],Tt.MAX_INDIVIDUAL_VARIANCE);k<v&&(v=k,N=I)}if(N>=0&&e.isRange(Math.max(0,x-(C-x)/2),x,!1))return Int32Array.from([x,C,N]);x+=h[0]+h[1],h=h.slice(2,h.length-1),h[u-1]=0,h[u]=0,u--}else u++;h[u]=1,p=!p}throw new K}static decodeCode(e,r,l){Ue.recordPattern(e,l,r);let u=Tt.MAX_AVG_VARIANCE,h=-1;for(let x=0;x<Tt.CODE_PATTERNS.length;x++){const p=Tt.CODE_PATTERNS[x],w=this.patternMatchVariance(r,p,Tt.MAX_INDIVIDUAL_VARIANCE);w<u&&(u=w,h=x)}if(h>=0)return h;throw new K}decodeRow(e,r,l){const u=l&&l.get(Ct.ASSUME_GS1)===!0,h=Tt.findStartPattern(r),x=h[2];let p=0;const w=new Uint8Array(20);w[p++]=x;let C;switch(x){case Tt.CODE_START_A:C=Tt.CODE_CODE_A;break;case Tt.CODE_START_B:C=Tt.CODE_CODE_B;break;case Tt.CODE_START_C:C=Tt.CODE_CODE_C;break;default:throw new X}let v=!1,N=!1,I="",k=h[0],j=h[1];const V=Int32Array.from([0,0,0,0,0,0]);let Q=0,rt=0,St=x,vt=0,Et=!0,Zt=!1,Xt=!1;for(;!v;){const ia=N;switch(N=!1,Q=rt,rt=Tt.decodeCode(r,V,j),w[p++]=rt,rt!==Tt.CODE_STOP&&(Et=!0),rt!==Tt.CODE_STOP&&(vt++,St+=vt*rt),k=j,j+=V.reduce((ci,qo)=>ci+qo,0),rt){case Tt.CODE_START_A:case Tt.CODE_START_B:case Tt.CODE_START_C:throw new X}switch(C){case Tt.CODE_CODE_A:if(rt<64)Xt===Zt?I+=String.fromCharCode(32+rt):I+=String.fromCharCode(32+rt+128),Xt=!1;else if(rt<96)Xt===Zt?I+=String.fromCharCode(rt-64):I+=String.fromCharCode(rt+64),Xt=!1;else switch(rt!==Tt.CODE_STOP&&(Et=!1),rt){case Tt.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_A:!Zt&&Xt?(Zt=!0,Xt=!1):Zt&&Xt?(Zt=!1,Xt=!1):Xt=!0;break;case Tt.CODE_SHIFT:N=!0,C=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_B:C=Tt.CODE_CODE_B;break;case Tt.CODE_CODE_C:C=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:v=!0;break}break;case Tt.CODE_CODE_B:if(rt<96)Xt===Zt?I+=String.fromCharCode(32+rt):I+=String.fromCharCode(32+rt+128),Xt=!1;else switch(rt!==Tt.CODE_STOP&&(Et=!1),rt){case Tt.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case Tt.CODE_FNC_2:case Tt.CODE_FNC_3:break;case Tt.CODE_FNC_4_B:!Zt&&Xt?(Zt=!0,Xt=!1):Zt&&Xt?(Zt=!1,Xt=!1):Xt=!0;break;case Tt.CODE_SHIFT:N=!0,C=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_A:C=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_C:C=Tt.CODE_CODE_C;break;case Tt.CODE_STOP:v=!0;break}break;case Tt.CODE_CODE_C:if(rt<100)rt<10&&(I+="0"),I+=rt;else switch(rt!==Tt.CODE_STOP&&(Et=!1),rt){case Tt.CODE_FNC_1:u&&(I.length===0?I+="]C1":I+="");break;case Tt.CODE_CODE_A:C=Tt.CODE_CODE_A;break;case Tt.CODE_CODE_B:C=Tt.CODE_CODE_B;break;case Tt.CODE_STOP:v=!0;break}break}ia&&(C=C===Tt.CODE_CODE_A?Tt.CODE_CODE_B:Tt.CODE_CODE_A)}const Dn=j-k;if(j=r.getNextUnset(j),!r.isRange(j,Math.min(r.getSize(),j+(j-k)/2),!1))throw new K;if(St-=vt*Q,St%103!==Q)throw new L;const ti=I.length;if(ti===0)throw new K;ti>0&&Et&&(C===Tt.CODE_CODE_C?I=I.substring(0,ti-2):I=I.substring(0,ti-1));const zn=(h[1]+h[0])/2,Ee=k+Dn/2,bn=w.length,Hn=new Uint8Array(bn);for(let ia=0;ia<bn;ia++)Hn[ia]=w[ia];const Ea=[new Nt(zn,e),new Nt(Ee,e)];return new bt(I,Hn,0,Ea,At.CODE_128,new Date().getTime())}}Tt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Tt.MAX_AVG_VARIANCE=.25,Tt.MAX_INDIVIDUAL_VARIANCE=.7,Tt.CODE_SHIFT=98,Tt.CODE_CODE_C=99,Tt.CODE_CODE_B=100,Tt.CODE_CODE_A=101,Tt.CODE_FNC_1=102,Tt.CODE_FNC_2=97,Tt.CODE_FNC_3=96,Tt.CODE_FNC_4_A=101,Tt.CODE_FNC_4_B=100,Tt.CODE_START_A=103,Tt.CODE_START_B=104,Tt.CODE_START_C=105,Tt.CODE_STOP=106;class Re extends Ue{constructor(e=!1,r=!1){super(),this.usingCheckDigit=e,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,r,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let h=Re.findAsteriskPattern(r,u),x=r.getNextSet(h[1]),p=r.getSize(),w,C;do{Re.recordPattern(r,x,u);let V=Re.toNarrowWidePattern(u);if(V<0)throw new K;w=Re.patternToChar(V),this.decodeRowResult+=w,C=x;for(let Q of u)x+=Q;x=r.getNextSet(x)}while(w!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let v=0;for(let V of u)v+=V;let N=x-C-v;if(x!==p&&N*2<v)throw new K;if(this.usingCheckDigit){let V=this.decodeRowResult.length-1,Q=0;for(let rt=0;rt<V;rt++)Q+=Re.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(rt));if(this.decodeRowResult.charAt(V)!==Re.ALPHABET_STRING.charAt(Q%43))throw new L;this.decodeRowResult=this.decodeRowResult.substring(0,V)}if(this.decodeRowResult.length===0)throw new K;let I;this.extendedMode?I=Re.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let k=(h[1]+h[0])/2,j=C+v/2;return new bt(I,null,0,[new Nt(k,e),new Nt(j,e)],At.CODE_39,new Date().getTime())}static findAsteriskPattern(e,r){let l=e.getSize(),u=e.getNextSet(0),h=0,x=u,p=!1,w=r.length;for(let C=u;C<l;C++)if(e.get(C)!==p)r[h]++;else{if(h===w-1){if(this.toNarrowWidePattern(r)===Re.ASTERISK_ENCODING&&e.isRange(Math.max(0,x-Math.floor((C-x)/2)),x,!1))return[x,C];x+=r[0]+r[1],r.copyWithin(0,2,2+h-1),r[h-1]=0,r[h]=0,h--}else h++;r[h]=1,p=!p}throw new K}static toNarrowWidePattern(e){let r=e.length,l=0,u;do{let h=2147483647;for(let w of e)w<h&&w>l&&(h=w);l=h,u=0;let x=0,p=0;for(let w=0;w<r;w++){let C=e[w];C>l&&(p|=1<<r-1-w,u++,x+=C)}if(u===3){for(let w=0;w<r&&u>0;w++){let C=e[w];if(C>l&&(u--,C*2>=x))return-1}return p}}while(u>3);return-1}static patternToChar(e){for(let r=0;r<Re.CHARACTER_ENCODINGS.length;r++)if(Re.CHARACTER_ENCODINGS[r]===e)return Re.ALPHABET_STRING.charAt(r);if(e===Re.ASTERISK_ENCODING)return"*";throw new K}static decodeExtended(e){let r=e.length,l="";for(let u=0;u<r;u++){let h=e.charAt(u);if(h==="+"||h==="$"||h==="%"||h==="/"){let x=e.charAt(u+1),p="\0";switch(h){case"+":if(x>="A"&&x<="Z")p=String.fromCharCode(x.charCodeAt(0)+32);else throw new X;break;case"$":if(x>="A"&&x<="Z")p=String.fromCharCode(x.charCodeAt(0)-64);else throw new X;break;case"%":if(x>="A"&&x<="E")p=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")p=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")p=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")p=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")p="\0";else if(x==="V")p="@";else if(x==="W")p="`";else if(x==="X"||x==="Y"||x==="Z")p="";else throw new X;break;case"/":if(x>="A"&&x<="O")p=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")p=":";else throw new X;break}l+=p,u++}else l+=h}return l}}Re.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Re.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Re.ASTERISK_ENCODING=148;class fe extends Ue{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,r,l){let u=this.decodeStart(r),h=this.decodeEnd(r),x=new Ut;fe.decodeMiddle(r,u[1],h[0],x);let p=x.toString(),w=null;l!=null&&(w=l.get(Ct.ALLOWED_LENGTHS)),w==null&&(w=fe.DEFAULT_ALLOWED_LENGTHS);let C=p.length,v=!1,N=0;for(let j of w){if(C===j){v=!0;break}j>N&&(N=j)}if(!v&&C>N&&(v=!0),!v)throw new X;const I=[new Nt(u[1],e),new Nt(h[0],e)];return new bt(p,null,0,I,At.ITF,new Date().getTime())}static decodeMiddle(e,r,l,u){let h=new Int32Array(10),x=new Int32Array(5),p=new Int32Array(5);for(h.fill(0),x.fill(0),p.fill(0);r<l;){Ue.recordPattern(e,r,h);for(let C=0;C<5;C++){let v=2*C;x[C]=h[v],p[C]=h[v+1]}let w=fe.decodeDigit(x);u.append(w.toString()),w=this.decodeDigit(p),u.append(w.toString()),h.forEach(function(C){r+=C})}}decodeStart(e){let r=fe.skipWhiteSpace(e),l=fe.findGuardPattern(e,r,fe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(e,l[0]),l}validateQuietZone(e,r){let l=this.narrowLineWidth*10;l=l<r?l:r;for(let u=r-1;l>0&&u>=0&&!e.get(u);u--)l--;if(l!==0)throw new K}static skipWhiteSpace(e){const r=e.getSize(),l=e.getNextSet(0);if(l===r)throw new K;return l}decodeEnd(e){e.reverse();try{let r=fe.skipWhiteSpace(e),l;try{l=fe.findGuardPattern(e,r,fe.END_PATTERN_REVERSED[0])}catch(h){h instanceof K&&(l=fe.findGuardPattern(e,r,fe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,l[0]);let u=l[0];return l[0]=e.getSize()-l[1],l[1]=e.getSize()-u,l}finally{e.reverse()}}static findGuardPattern(e,r,l){let u=l.length,h=new Int32Array(u),x=e.getSize(),p=!1,w=0,C=r;h.fill(0);for(let v=r;v<x;v++)if(e.get(v)!==p)h[w]++;else{if(w===u-1){if(Ue.patternMatchVariance(h,l,fe.MAX_INDIVIDUAL_VARIANCE)<fe.MAX_AVG_VARIANCE)return[C,v];C+=h[0]+h[1],P.arraycopy(h,2,h,0,w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,p=!p}throw new K}static decodeDigit(e){let r=fe.MAX_AVG_VARIANCE,l=-1,u=fe.PATTERNS.length;for(let h=0;h<u;h++){let x=fe.PATTERNS[h],p=Ue.patternMatchVariance(e,x,fe.MAX_INDIVIDUAL_VARIANCE);p<r?(r=p,l=h):p===r&&(l=-1)}if(l>=0)return l%10;throw new K}}fe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],fe.MAX_AVG_VARIANCE=.38,fe.MAX_INDIVIDUAL_VARIANCE=.5,fe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],fe.START_PATTERN=Int32Array.from([1,1,1,1]),fe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Oe extends Ue{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let r=!1,l,u=0,h=Int32Array.from([0,0,0]);for(;!r;){h=Int32Array.from([0,0,0]),l=Oe.findGuardPattern(e,u,!1,this.START_END_PATTERN,h);let x=l[0];u=l[1];let p=x-(u-x);p>=0&&(r=e.isRange(p,x,!1))}return l}static checkChecksum(e){return Oe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let l=parseInt(e.charAt(r-1),10);return Oe.getStandardUPCEANChecksum(e.substring(0,r-1))===l}static getStandardUPCEANChecksum(e){let r=e.length,l=0;for(let u=r-1;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;l+=h}l*=3;for(let u=r-2;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;l+=h}return(1e3-l)%10}static decodeEnd(e,r){return Oe.findGuardPattern(e,r,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,r,l,u){return this.findGuardPattern(e,r,l,u,new Int32Array(u.length))}static findGuardPattern(e,r,l,u,h){let x=e.getSize();r=l?e.getNextUnset(r):e.getNextSet(r);let p=0,w=r,C=u.length,v=l;for(let N=r;N<x;N++)if(e.get(N)!==v)h[p]++;else{if(p===C-1){if(Ue.patternMatchVariance(h,u,Oe.MAX_INDIVIDUAL_VARIANCE)<Oe.MAX_AVG_VARIANCE)return Int32Array.from([w,N]);w+=h[0]+h[1];let I=h.slice(2,h.length-1);for(let k=0;k<p-1;k++)h[k]=I[k];h[p-1]=0,h[p]=0,p--}else p++;h[p]=1,v=!v}throw new K}static decodeDigit(e,r,l,u){this.recordPattern(e,l,r);let h=this.MAX_AVG_VARIANCE,x=-1,p=u.length;for(let w=0;w<p;w++){let C=u[w],v=Ue.patternMatchVariance(r,C,Oe.MAX_INDIVIDUAL_VARIANCE);v<h&&(h=v,x=w)}if(x>=0)return x;throw new K}}Oe.MAX_AVG_VARIANCE=.48,Oe.MAX_INDIVIDUAL_VARIANCE=.7,Oe.START_END_PATTERN=Int32Array.from([1,1,1]),Oe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Oe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Oe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ls{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(r,l,u),x=u.toString(),p=Ls.parseExtensionString(x),w=[new Nt((l[0]+l[1])/2,e),new Nt(h,e)],C=new bt(x,null,0,w,At.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&C.putAllMetadata(p),C}decodeMiddle(e,r,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),x=r[1],p=0;for(let C=0;C<5&&x<h;C++){let v=Oe.decodeDigit(e,u,x,Oe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of u)x+=N;v>=10&&(p|=1<<4-C),C!==4&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(l.length!==5)throw new K;let w=this.determineCheckDigit(p);if(Ls.extensionChecksum(l.toString())!==w)throw new K;return x}static extensionChecksum(e){let r=e.length,l=0;for(let u=r-2;u>=0;u-=2)l+=e.charAt(u).charCodeAt(0)-48;l*=3;for(let u=r-1;u>=0;u-=2)l+=e.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(e){for(let r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new K}static parseExtensionString(e){if(e.length!==5)return null;let r=Ls.parseExtension5String(e);return r==null?null:new Map([[Qt.SUGGESTED_PRICE,r]])}static parseExtension5String(e){let r;switch(e.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let l=parseInt(e.substring(1)),u=(l/100).toString(),h=l%100,x=h<10?"0"+h:h.toString();return r+u+"."+x}}class mr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,r,l){let u=this.decodeRowStringBuffer,h=this.decodeMiddle(r,l,u),x=u.toString(),p=mr.parseExtensionString(x),w=[new Nt((l[0]+l[1])/2,e),new Nt(h,e)],C=new bt(x,null,0,w,At.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&C.putAllMetadata(p),C}decodeMiddle(e,r,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),x=r[1],p=0;for(let w=0;w<2&&x<h;w++){let C=Oe.decodeDigit(e,u,x,Oe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let v of u)x+=v;C>=10&&(p|=1<<1-w),w!==1&&(x=e.getNextSet(x),x=e.getNextUnset(x))}if(l.length!==2)throw new K;if(parseInt(l.toString())%4!==p)throw new K;return x}static parseExtensionString(e){return e.length!==2?null:new Map([[Qt.ISSUE_NUMBER,parseInt(e)]])}}class ml{static decodeRow(e,r,l){let u=Oe.findGuardPattern(r,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ls().decodeRow(e,r,u)}catch{return new mr().decodeRow(e,r,u)}}}ml.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class oe extends Oe{constructor(){super(),this.decodeRowStringBuffer="",oe.L_AND_G_PATTERNS=oe.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let r=oe.L_PATTERNS[e-10],l=new Int32Array(r.length);for(let u=0;u<r.length;u++)l[u]=r[r.length-u-1];oe.L_AND_G_PATTERNS[e]=l}}decodeRow(e,r,l){let u=oe.findStartGuardPattern(r),h=l==null?null:l.get(Ct.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Et=new Nt((u[0]+u[1])/2,e);h.foundPossibleResultPoint(Et)}let x=this.decodeMiddle(r,u,this.decodeRowStringBuffer),p=x.rowOffset,w=x.resultString;if(h!=null){const Et=new Nt(p,e);h.foundPossibleResultPoint(Et)}let C=this.decodeEnd(r,p);if(h!=null){const Et=new Nt((C[0]+C[1])/2,e);h.foundPossibleResultPoint(Et)}let v=C[1],N=v+(v-C[0]);if(N>=r.getSize()||!r.isRange(v,N,!1))throw new K;let I=w.toString();if(I.length<8)throw new X;if(!oe.checkChecksum(I))throw new L;let k=(u[1]+u[0])/2,j=(C[1]+C[0])/2,V=this.getBarcodeFormat(),Q=[new Nt(k,e),new Nt(j,e)],rt=new bt(I,null,0,Q,V,new Date().getTime()),St=0;try{let Et=ml.decodeRow(e,r,C[1]);rt.putMetadata(Qt.UPC_EAN_EXTENSION,Et.getText()),rt.putAllMetadata(Et.getResultMetadata()),rt.addResultPoints(Et.getResultPoints()),St=Et.getText().length}catch{}let vt=l==null?null:l.get(Ct.ALLOWED_EAN_EXTENSIONS);if(vt!=null){let Et=!1;for(let Zt in vt)if(St.toString()===Zt){Et=!0;break}if(!Et)throw new K}return rt}decodeEnd(e,r){return oe.findGuardPattern(e,r,!1,oe.START_END_PATTERN,new Int32Array(oe.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return oe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let r=e.length;if(r===0)return!1;let l=parseInt(e.charAt(r-1),10);return oe.getStandardUPCEANChecksum(e.substring(0,r-1))===l}static getStandardUPCEANChecksum(e){let r=e.length,l=0;for(let u=r-1;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;l+=h}l*=3;for(let u=r-2;u>=0;u-=2){let h=e.charAt(u).charCodeAt(0)-48;if(h<0||h>9)throw new X;l+=h}return(1e3-l)%10}}class ri extends oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),x=r[1],p=0;for(let C=0;C<6&&x<h;C++){let v=oe.decodeDigit(e,u,x,oe.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of u)x+=N;v>=10&&(p|=1<<5-C)}l=ri.determineFirstDigit(l,p),x=oe.findGuardPattern(e,x,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&x<h;C++){let v=oe.decodeDigit(e,u,x,oe.L_PATTERNS);l+=String.fromCharCode(48+v);for(let N of u)x+=N}return{rowOffset:x,resultString:l}}getBarcodeFormat(){return At.EAN_13}static determineFirstDigit(e,r){for(let l=0;l<10;l++)if(r===this.FIRST_DIGIT_ENCODINGS[l])return e=String.fromCharCode(48+l)+e,e;throw new K}}ri.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Uo extends oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,r,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),x=r[1];for(let w=0;w<4&&x<h;w++){let C=oe.decodeDigit(e,u,x,oe.L_PATTERNS);l+=String.fromCharCode(48+C);for(let v of u)x+=v}x=oe.findGuardPattern(e,x,!0,oe.MIDDLE_PATTERN,new Int32Array(oe.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<4&&x<h;w++){let C=oe.decodeDigit(e,u,x,oe.L_PATTERNS);l+=String.fromCharCode(48+C);for(let v of u)x+=v}return{rowOffset:x,resultString:l}}getBarcodeFormat(){return At.EAN_8}}class pl extends oe{constructor(){super(...arguments),this.ean13Reader=new ri}getBarcodeFormat(){return At.UPC_A}decode(e,r){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,r,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,r,l))}decodeMiddle(e,r,l){return this.ean13Reader.decodeMiddle(e,r,l)}maybeReturnResult(e){let r=e.getText();if(r.charAt(0)==="0"){let l=new bt(r.substring(1),null,null,e.getResultPoints(),At.UPC_A);return e.getResultMetadata()!=null&&l.putAllMetadata(e.getResultMetadata()),l}else throw new K}reset(){this.ean13Reader.reset()}}class Kn extends oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,r,l){const u=this.decodeMiddleCounters.map(C=>C);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const h=e.getSize();let x=r[1],p=0;for(let C=0;C<6&&x<h;C++){const v=Kn.decodeDigit(e,u,x,Kn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let N of u)x+=N;v>=10&&(p|=1<<5-C)}let w=Kn.determineNumSysAndCheckDigit(l,p);return{rowOffset:x,resultString:w}}decodeEnd(e,r){return Kn.findGuardPatternWithoutCounters(e,r,!0,Kn.MIDDLE_END_PATTERN)}checkChecksum(e){return oe.checkChecksum(Kn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,r){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let h=String.fromCharCode(48+l),x=String.fromCharCode(48+u);return h+e+x}throw K.getNotFoundInstance()}getBarcodeFormat(){return At.UPC_E}static convertUPCEtoUPCA(e){const r=e.slice(1,7).split("").map(h=>h.charCodeAt(0)),l=new Ut;l.append(e.charAt(0));let u=r[5];switch(u){case 0:case 1:case 2:l.appendChars(r,0,2),l.append(u),l.append("0000"),l.appendChars(r,2,3);break;case 3:l.appendChars(r,0,3),l.append("00000"),l.appendChars(r,3,2);break;case 4:l.appendChars(r,0,4),l.append("00000"),l.append(r[4]);break;default:l.appendChars(r,0,5),l.append("0000"),l.append(u);break}return e.length>=8&&l.append(e.charAt(7)),l.toString()}}Kn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Kn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Bs extends Ue{constructor(e){super();let r=e==null?null:e.get(Ct.POSSIBLE_FORMATS),l=[];o(r)?(l.push(new ri),l.push(new pl),l.push(new Uo),l.push(new Kn)):(r.indexOf(At.EAN_13)>-1&&l.push(new ri),r.indexOf(At.UPC_A)>-1&&l.push(new pl),r.indexOf(At.EAN_8)>-1&&l.push(new Uo),r.indexOf(At.UPC_E)>-1&&l.push(new Kn)),this.readers=l}decodeRow(e,r,l){for(let u of this.readers)try{const h=u.decodeRow(e,r,l),x=h.getBarcodeFormat()===At.EAN_13&&h.getText().charAt(0)==="0",p=l==null?null:l.get(Ct.POSSIBLE_FORMATS),w=p==null||p.includes(At.UPC_A);if(x&&w){const C=h.getRawBytes(),v=new bt(h.getText().substring(1),C,C?C.length:null,h.getResultPoints(),At.UPC_A);return v.putAllMetadata(h.getResultMetadata()),v}return h}catch{}throw new K}reset(){for(let e of this.readers)e.reset()}}class cn extends Ue{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,r){for(let l=0;l<r.length;l++)if(Ue.patternMatchVariance(e,r[l],cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return l;throw new K}static count(e){return se.sum(new Int32Array(e))}static increment(e,r){let l=0,u=r[0];for(let h=1;h<e.length;h++)r[h]>u&&(u=r[h],l=h);e[l]++}static decrement(e,r){let l=0,u=r[0];for(let h=1;h<e.length;h++)r[h]<u&&(u=r[h],l=h);e[l]--}static isFinderPattern(e){let r=e[0]+e[1],l=r+e[2]+e[3],u=r/l;if(u>=cn.MIN_FINDER_PATTERN_RATIO&&u<=cn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let p of e)p>x&&(x=p),p<h&&(h=p);return x<10*h}return!1}}cn.MAX_AVG_VARIANCE=.2,cn.MAX_INDIVIDUAL_VARIANCE=.45,cn.MIN_FINDER_PATTERN_RATIO=9.5/12,cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ma{constructor(e,r){this.value=e,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof ma))return!1;const r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class pr{constructor(e,r,l,u,h){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Nt(l,h)),this.resultPoints.push(new Nt(u,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof pr))return!1;const r=e;return this.value===r.value}hashCode(){return this.value}}class gn{constructor(){}static getRSSvalue(e,r,l){let u=0;for(let w of e)u+=w;let h=0,x=0,p=e.length;for(let w=0;w<p-1;w++){let C;for(C=1,x|=1<<w;C<e[w];C++,x&=~(1<<w)){let v=gn.combins(u-C-1,p-w-2);if(l&&x===0&&u-C-(p-w-1)>=p-w-1&&(v-=gn.combins(u-C-(p-w),p-w-2)),p-w-1>1){let N=0;for(let I=u-C-(p-w-2);I>r;I--)N+=gn.combins(u-C-I-1,p-w-3);v-=N*(p-1-w)}else u-C>r&&v--;h+=v}u-=C}return h}static combins(e,r){let l,u;e-r>r?(u=r,l=e-r):(u=e-r,l=r);let h=1,x=1;for(let p=e;p>l;p--)h*=p,x<=u&&(h/=x,x++);for(;x<=u;)h/=x,x++;return h}}class Sn{static buildBitArray(e){let r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);let l=12*r,u=new mt(l),h=0,p=e[0].getRightChar().getValue();for(let w=11;w>=0;--w)(p&1<<w)!=0&&u.set(h),h++;for(let w=1;w<e.length;++w){let C=e[w],v=C.getLeftChar().getValue();for(let N=11;N>=0;--N)(v&1<<N)!=0&&u.set(h),h++;if(C.getRightChar()!=null){let N=C.getRightChar().getValue();for(let I=11;I>=0;--I)(N&1<<I)!=0&&u.set(h),h++}}return u}}class qe{constructor(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gi{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Cn extends Gi{constructor(e,r){super(e),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Cn.FNC1}}Cn.FNC1="$";class pa extends Gi{constructor(e,r,l){super(e),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Jn extends Gi{constructor(e,r,l){if(super(e),r<0||r>10||l<0||l>10)throw new X;this.firstDigit=r,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Jn.FNC1}isAnyFNC1(){return this.firstDigit===Jn.FNC1||this.secondDigit===Jn.FNC1}}Jn.FNC1=10;class Mt{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new K;let r=e.substring(0,2);for(let h of Mt.TWO_DIGIT_DATA_LENGTH)if(h[0]===r)return h[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(2,h[2],e):Mt.processFixedAI(2,h[1],e);if(e.length<3)throw new K;let l=e.substring(0,3);for(let h of Mt.THREE_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(3,h[2],e):Mt.processFixedAI(3,h[1],e);for(let h of Mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===l)return h[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(4,h[2],e):Mt.processFixedAI(4,h[1],e);if(e.length<4)throw new K;let u=e.substring(0,4);for(let h of Mt.FOUR_DIGIT_DATA_LENGTH)if(h[0]===u)return h[1]===Mt.VARIABLE_LENGTH?Mt.processVariableAI(4,h[2],e):Mt.processFixedAI(4,h[1],e);throw new K}static processFixedAI(e,r,l){if(l.length<e)throw new K;let u=l.substring(0,e);if(l.length<e+r)throw new K;let h=l.substring(e,e+r),x=l.substring(e+r),p="("+u+")"+h,w=Mt.parseFieldsInGeneralPurpose(x);return w==null?p:p+w}static processVariableAI(e,r,l){let u=l.substring(0,e),h;l.length<e+r?h=l.length:h=e+r;let x=l.substring(e,h),p=l.substring(h),w="("+u+")"+x,C=Mt.parseFieldsInGeneralPurpose(p);return C==null?w:w+C}}Mt.VARIABLE_LENGTH=[],Mt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Mt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Mt.VARIABLE_LENGTH,20],["22",Mt.VARIABLE_LENGTH,29],["30",Mt.VARIABLE_LENGTH,8],["37",Mt.VARIABLE_LENGTH,8],["90",Mt.VARIABLE_LENGTH,30],["91",Mt.VARIABLE_LENGTH,30],["92",Mt.VARIABLE_LENGTH,30],["93",Mt.VARIABLE_LENGTH,30],["94",Mt.VARIABLE_LENGTH,30],["95",Mt.VARIABLE_LENGTH,30],["96",Mt.VARIABLE_LENGTH,30],["97",Mt.VARIABLE_LENGTH,3],["98",Mt.VARIABLE_LENGTH,30],["99",Mt.VARIABLE_LENGTH,30]],Mt.THREE_DIGIT_DATA_LENGTH=[["240",Mt.VARIABLE_LENGTH,30],["241",Mt.VARIABLE_LENGTH,30],["242",Mt.VARIABLE_LENGTH,6],["250",Mt.VARIABLE_LENGTH,30],["251",Mt.VARIABLE_LENGTH,30],["253",Mt.VARIABLE_LENGTH,17],["254",Mt.VARIABLE_LENGTH,20],["400",Mt.VARIABLE_LENGTH,30],["401",Mt.VARIABLE_LENGTH,30],["402",17],["403",Mt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Mt.VARIABLE_LENGTH,20],["421",Mt.VARIABLE_LENGTH,15],["422",3],["423",Mt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Mt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Mt.VARIABLE_LENGTH,15],["391",Mt.VARIABLE_LENGTH,18],["392",Mt.VARIABLE_LENGTH,15],["393",Mt.VARIABLE_LENGTH,18],["703",Mt.VARIABLE_LENGTH,30]],Mt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Mt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Mt.VARIABLE_LENGTH,20],["8003",Mt.VARIABLE_LENGTH,30],["8004",Mt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Mt.VARIABLE_LENGTH,30],["8008",Mt.VARIABLE_LENGTH,12],["8018",18],["8020",Mt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Mt.VARIABLE_LENGTH,70],["8200",Mt.VARIABLE_LENGTH,70]];class Ai{constructor(e){this.buffer=new Ut,this.information=e}decodeAllCodes(e,r){let l=r,u=null;do{let h=this.decodeGeneralPurposeField(l,u),x=Mt.parseFieldsInGeneralPurpose(h.getNewString());if(x!=null&&e.append(x),h.isRemaining()?u=""+h.getRemainingValue():u=null,l===h.getNewPosition())break;l=h.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(e,4);return h===0?new Jn(this.information.getSize(),Jn.FNC1,Jn.FNC1):new Jn(this.information.getSize(),h-1,Jn.FNC1)}let r=this.extractNumericValueFromBitArray(e,7),l=(r-8)/11,u=(r-8)%11;return new Jn(e+7,l,u)}extractNumericValueFromBitArray(e,r){return Ai.extractNumericValueFromBitArray(this.information,e,r)}static extractNumericValueFromBitArray(e,r,l){let u=0;for(let h=0;h<l;++h)e.get(r+h)&&(u|=1<<l-h-1);return u}decodeGeneralPurposeField(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new pa(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new pa(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,r;do{let l=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished()),!(l!==this.current.getPosition())&&!e)break}while(!e);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let r;return e.isSecondDigitFNC1()?r=new pa(this.current.getPosition(),this.buffer.toString()):r=new pa(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new qe(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let r=new pa(this.current.getPosition(),this.buffer.toString());return new qe(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new qe(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new pa(this.current.getPosition(),this.buffer.toString());return new qe(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new qe(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let r=new pa(this.current.getPosition(),this.buffer.toString());return new qe(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new qe(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,7);if(l>=64&&l<116)return!0;if(e+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(e,8);return u>=232&&u<253}decodeIsoIec646(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Cn(e+5,Cn.FNC1);if(r>=5&&r<15)return new Cn(e+5,"0"+(r-5));let l=this.extractNumericValueFromBitArray(e,7);if(l>=64&&l<90)return new Cn(e+7,""+(l+1));if(l>=90&&l<116)return new Cn(e+7,""+(l+7));let u=this.extractNumericValueFromBitArray(e,8),h;switch(u){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new X}return new Cn(e+8,h)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(e,6);return l>=16&&l<63}decodeAlphanumeric(e){let r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Cn(e+5,Cn.FNC1);if(r>=5&&r<15)return new Cn(e+5,"0"+(r-5));let l=this.extractNumericValueFromBitArray(e,6);if(l>=32&&l<58)return new Cn(e+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new bi("Decoding invalid alphanumeric value: "+l)}return new Cn(e+6,u)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0}}class ks{constructor(e){this.information=e,this.generalDecoder=new Ai(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class en extends ks{constructor(e){super(e)}encodeCompressedGtin(e,r){e.append("(01)");let l=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,r,l)}encodeCompressedGtinWithoutAI(e,r,l){for(let u=0;u<4;++u){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*u,10);h/100===0&&e.append("0"),h/10===0&&e.append("0"),e.append(h)}en.appendCheckDigit(e,l)}static appendCheckDigit(e,r){let l=0;for(let u=0;u<13;u++){let h=e.charAt(u+r).charCodeAt(0)-48;l+=(u&1)===0?3*h:h}l=10-l%10,l===10&&(l=0),e.append(l)}}en.GTIN_SIZE=40;class li extends en{constructor(e){super(e)}parseInformation(){let e=new Ut;e.append("(01)");let r=e.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(li.HEADER_SIZE,4);return e.append(l),this.encodeCompressedGtinWithoutAI(e,li.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(e,li.HEADER_SIZE+44)}}li.HEADER_SIZE=4;class Xi extends ks{constructor(e){super(e)}parseInformation(){let e=new Ut;return this.getGeneralDecoder().decodeAllCodes(e,Xi.HEADER_SIZE)}}Xi.HEADER_SIZE=5;class Li extends en{constructor(e){super(e)}encodeCompressedWeight(e,r,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(r,l);this.addWeightCode(e,u);let h=this.checkWeight(u),x=1e5;for(let p=0;p<5;++p)h/x===0&&e.append("0"),x/=10;e.append(h)}}class Ae extends Li{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Ae.HEADER_SIZE+Li.GTIN_SIZE+Ae.WEIGHT_SIZE)throw new K;let e=new Ut;return this.encodeCompressedGtin(e,Ae.HEADER_SIZE),this.encodeCompressedWeight(e,Ae.HEADER_SIZE+Li.GTIN_SIZE,Ae.WEIGHT_SIZE),e.toString()}}Ae.HEADER_SIZE=5,Ae.WEIGHT_SIZE=15;class zo extends Ae{constructor(e){super(e)}addWeightCode(e,r){e.append("(3103)")}checkWeight(e){return e}}class Ho extends Ae{constructor(e){super(e)}addWeightCode(e,r){r<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class _n extends en{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<_n.HEADER_SIZE+en.GTIN_SIZE)throw new K;let e=new Ut;this.encodeCompressedGtin(e,_n.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(_n.HEADER_SIZE+en.GTIN_SIZE,_n.LAST_DIGIT_SIZE);e.append("(392"),e.append(r),e.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(_n.HEADER_SIZE+en.GTIN_SIZE+_n.LAST_DIGIT_SIZE,null);return e.append(l.getNewString()),e.toString()}}_n.HEADER_SIZE=8,_n.LAST_DIGIT_SIZE=2;class Qe extends en{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qe.HEADER_SIZE+en.GTIN_SIZE)throw new K;let e=new Ut;this.encodeCompressedGtin(e,Qe.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qe.HEADER_SIZE+en.GTIN_SIZE,Qe.LAST_DIGIT_SIZE);e.append("(393"),e.append(r),e.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(Qe.HEADER_SIZE+en.GTIN_SIZE+Qe.LAST_DIGIT_SIZE,Qe.FIRST_THREE_DIGITS_SIZE);l/100==0&&e.append("0"),l/10==0&&e.append("0"),e.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(Qe.HEADER_SIZE+en.GTIN_SIZE+Qe.LAST_DIGIT_SIZE+Qe.FIRST_THREE_DIGITS_SIZE,null);return e.append(u.getNewString()),e.toString()}}Qe.HEADER_SIZE=8,Qe.LAST_DIGIT_SIZE=2,Qe.FIRST_THREE_DIGITS_SIZE=10;class Fe extends Li{constructor(e,r,l){super(e),this.dateCode=l,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Fe.HEADER_SIZE+Fe.GTIN_SIZE+Fe.WEIGHT_SIZE+Fe.DATE_SIZE)throw new K;let e=new Ut;return this.encodeCompressedGtin(e,Fe.HEADER_SIZE),this.encodeCompressedWeight(e,Fe.HEADER_SIZE+Fe.GTIN_SIZE,Fe.WEIGHT_SIZE),this.encodeCompressedDate(e,Fe.HEADER_SIZE+Fe.GTIN_SIZE+Fe.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Fe.DATE_SIZE);if(l==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let u=l%32;l/=32;let h=l%12+1;l/=12;let x=l;x/10==0&&e.append("0"),e.append(x),h/10==0&&e.append("0"),e.append(h),u/10==0&&e.append("0"),e.append(u)}addWeightCode(e,r){e.append("("),e.append(this.firstAIdigits),e.append(r/1e5),e.append(")")}checkWeight(e){return e%1e5}}Fe.HEADER_SIZE=8,Fe.WEIGHT_SIZE=20,Fe.DATE_SIZE=16;function yl(O){try{if(O.get(1))return new li(O);if(!O.get(2))return new Xi(O);switch(Ai.extractNumericValueFromBitArray(O,1,4)){case 4:return new zo(O);case 5:return new Ho(O)}switch(Ai.extractNumericValueFromBitArray(O,1,5)){case 12:return new _n(O);case 13:return new Qe(O)}switch(Ai.extractNumericValueFromBitArray(O,1,7)){case 56:return new Fe(O,"310","11");case 57:return new Fe(O,"320","11");case 58:return new Fe(O,"310","13");case 59:return new Fe(O,"320","13");case 60:return new Fe(O,"310","15");case 61:return new Fe(O,"320","15");case 62:return new Fe(O,"310","17");case 63:return new Fe(O,"320","17")}}catch(e){throw console.log(e),new bi("unknown decoder: "+O)}}class Bi{constructor(e,r,l,u){this.leftchar=e,this.rightchar=r,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,r){return e instanceof Bi?Bi.equalsOrNull(e.leftchar,r.leftchar)&&Bi.equalsOrNull(e.rightchar,r.rightchar)&&Bi.equalsOrNull(e.finderpattern,r.finderpattern):!1}static equalsOrNull(e,r){return e===null?r===null:Bi.equals(e,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class bl{constructor(e,r,l){this.pairs=e,this.rowNumber=r,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,r){return e instanceof bl?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1}checkEqualitity(e,r){if(!e||!r)return;let l;return e.forEach((u,h)=>{r.forEach(x=>{u.getLeftChar().getValue()===x.getLeftChar().getValue()&&u.getRightChar().getValue()===x.getRightChar().getValue()&&u.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(l=!0)})}),l}}class yt extends cn{constructor(e){super(...arguments),this.pairs=new Array(yt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,r,l){this.pairs.length=0,this.startFromEven=!1;try{return yt.constructResult(this.decodeRow2pairs(e,r))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,yt.constructResult(this.decodeRow2pairs(e,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,r){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,e))}catch(h){if(h instanceof K){if(!this.pairs.length)throw new K;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(e,!1),u){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new K}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return e&&(this.rows=this.rows.reverse()),r}checkRows(e,r){for(let l=r;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let x of e)this.pairs.push(x.getPairs());if(this.pairs.push(u.getPairs()),!yt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(e);h.push(u);try{return this.checkRows(h,l+1)}catch(x){this.verbose&&console.log(x)}}throw new K}static isValidSequence(e){for(let r of yt.FINDER_PATTERN_SEQUENCES){if(e.length>r.length)continue;let l=!0;for(let u=0;u<e.length;u++)if(e[u].getFinderPattern().getValue()!=r[u]){l=!1;break}if(l)return!0}return!1}storeRow(e,r){let l=0,u=!1,h=!1;for(;l<this.rows.length;){let x=this.rows[l];if(x.getRowNumber()>e){h=x.isEquivalent(this.pairs);break}u=x.isEquivalent(this.pairs),l++}h||u||yt.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new bl(this.pairs,e,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,r){for(let l of r)if(l.getPairs().length!==e.length){for(let u of l.getPairs())for(let h of e)if(Bi.equals(u,h))break}}static isPartialRow(e,r){for(let l of r){let u=!0;for(let h of e){let x=!1;for(let p of l.getPairs())if(h.equals(p)){x=!0;break}if(!x){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(e){let r=Sn.buildBitArray(e),u=yl(r).parseInformation(),h=e[0].getFinderPattern().getResultPoints(),x=e[e.length-1].getFinderPattern().getResultPoints(),p=[h[0],h[1],x[0],x[1]];return new bt(u,null,null,p,At.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),r=e.getLeftChar(),l=e.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),h=2;for(let p=1;p<this.pairs.size();++p){let w=this.pairs.get(p);u+=w.getLeftChar().getChecksumPortion(),h++;let C=w.getRightChar();C!=null&&(u+=C.getChecksumPortion(),h++)}return u%=211,211*(h-4)+u==r.getValue()}static getNextSecondBar(e,r){let l;return e.get(r)?(l=e.getNextUnset(r),l=e.getNextSet(l)):(l=e.getNextSet(r),l=e.getNextUnset(l)),l}retrieveNextPair(e,r,l){let u=r.length%2==0;this.startFromEven&&(u=!u);let h,x=!0,p=-1;do this.findNextPair(e,r,p),h=this.parseFoundFinderPattern(e,l,u),h==null?p=yt.getNextSecondBar(e,this.startEnd[0]):x=!1;while(x);let w=this.decodeDataCharacter(e,h,u,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new K;let C;try{C=this.decodeDataCharacter(e,h,u,!1)}catch(v){C=null,this.verbose&&console.log(v)}return new Bi(w,C,h,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,r,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h=e.getSize(),x;l>=0?x=l:this.isEmptyPair(r)?x=0:x=r[r.length-1].getFinderPattern().getStartEnd()[1];let p=r.length%2!=0;this.startFromEven&&(p=!p);let w=!1;for(;x<h&&(w=!e.get(x),!!w);)x++;let C=0,v=x;for(let N=x;N<h;N++)if(e.get(N)!=w)u[C]++;else{if(C==3){if(p&&yt.reverseCounters(u),yt.isFinderPattern(u)){this.startEnd[0]=v,this.startEnd[1]=N;return}p&&yt.reverseCounters(u),v+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,w=!w}throw new K}static reverseCounters(e){let r=e.length;for(let l=0;l<r/2;++l){let u=e[l];e[l]=e[r-l-1],e[r-l-1]=u}}parseFoundFinderPattern(e,r,l){let u,h,x;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!e.get(C);)C--;C++,u=this.startEnd[0]-C,h=C,x=this.startEnd[1]}else h=this.startEnd[0],x=e.getNextUnset(this.startEnd[1]+1),u=x-this.startEnd[1];let p=this.getDecodeFinderCounters();P.arraycopy(p,0,p,1,p.length-1),p[0]=u;let w;try{w=this.parseFinderValue(p,yt.FINDER_PATTERNS)}catch{return null}return new pr(w,[h,x],h,x,r)}decodeDataCharacter(e,r,l,u){let h=this.getDataCharacterCounters();for(let Ee=0;Ee<h.length;Ee++)h[Ee]=0;if(u)yt.recordPatternInReverse(e,r.getStartEnd()[0],h);else{yt.recordPattern(e,r.getStartEnd()[1],h);for(let Ee=0,bn=h.length-1;Ee<bn;Ee++,bn--){let Hn=h[Ee];h[Ee]=h[bn],h[bn]=Hn}}let x=17,p=se.sum(new Int32Array(h))/x,w=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(p-w)/w>.3)throw new K;let C=this.getOddCounts(),v=this.getEvenCounts(),N=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ee=0;Ee<h.length;Ee++){let bn=1*h[Ee]/p,Hn=bn+.5;if(Hn<1){if(bn<.3)throw new K;Hn=1}else if(Hn>8){if(bn>8.7)throw new K;Hn=8}let Ea=Ee/2;(Ee&1)==0?(C[Ea]=Hn,N[Ea]=bn-Hn):(v[Ea]=Hn,I[Ea]=bn-Hn)}this.adjustOddEvenCounts(x);let k=4*r.getValue()+(l?0:2)+(u?0:1)-1,j=0,V=0;for(let Ee=C.length-1;Ee>=0;Ee--){if(yt.isNotA1left(r,l,u)){let bn=yt.WEIGHTS[k][2*Ee];V+=C[Ee]*bn}j+=C[Ee]}let Q=0;for(let Ee=v.length-1;Ee>=0;Ee--)if(yt.isNotA1left(r,l,u)){let bn=yt.WEIGHTS[k][2*Ee+1];Q+=v[Ee]*bn}let rt=V+Q;if((j&1)!=0||j>13||j<4)throw new K;let St=(13-j)/2,vt=yt.SYMBOL_WIDEST[St],Et=9-vt,Zt=gn.getRSSvalue(C,vt,!0),Xt=gn.getRSSvalue(v,Et,!1),Dn=yt.EVEN_TOTAL_SUBSET[St],ti=yt.GSUM[St],zn=Zt*Dn+Xt+ti;return new ma(zn,rt)}static isNotA1left(e,r,l){return!(e.getValue()==0&&r&&l)}adjustOddEvenCounts(e){let r=se.sum(new Int32Array(this.getOddCounts())),l=se.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1;r>13?h=!0:r<4&&(u=!0);let x=!1,p=!1;l>13?p=!0:l<4&&(x=!0);let w=r+l-e,C=(r&1)==1,v=(l&1)==0;if(w==1)if(C){if(v)throw new K;h=!0}else{if(!v)throw new K;p=!0}else if(w==-1)if(C){if(v)throw new K;u=!0}else{if(!v)throw new K;x=!0}else if(w==0){if(C){if(!v)throw new K;r<l?(u=!0,p=!0):(h=!0,x=!0)}else if(v)throw new K}else throw new K;if(u){if(h)throw new K;yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(p)throw new K;yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.SYMBOL_WIDEST=[7,5,4,3,1],yt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],yt.GSUM=[0,348,1388,2948,3988],yt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],yt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],yt.FINDER_PAT_A=0,yt.FINDER_PAT_B=1,yt.FINDER_PAT_C=2,yt.FINDER_PAT_D=3,yt.FINDER_PAT_E=4,yt.FINDER_PAT_F=5,yt.FINDER_PATTERN_SEQUENCES=[[yt.FINDER_PAT_A,yt.FINDER_PAT_A],[yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B],[yt.FINDER_PAT_A,yt.FINDER_PAT_C,yt.FINDER_PAT_B,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_C],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_E,yt.FINDER_PAT_B,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F],[yt.FINDER_PAT_A,yt.FINDER_PAT_A,yt.FINDER_PAT_B,yt.FINDER_PAT_B,yt.FINDER_PAT_C,yt.FINDER_PAT_D,yt.FINDER_PAT_D,yt.FINDER_PAT_E,yt.FINDER_PAT_E,yt.FINDER_PAT_F,yt.FINDER_PAT_F]],yt.MAX_PAIRS=11;class yr extends ma{constructor(e,r,l){super(e,r),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class he extends cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,r,l){const u=this.decodePair(r,!1,e,l);he.addOrTally(this.possibleLeftPairs,u),r.reverse();let h=this.decodePair(r,!0,e,l);he.addOrTally(this.possibleRightPairs,h),r.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&he.checkChecksum(x,p))return he.constructResult(x,p)}throw new K}static addOrTally(e,r){if(r==null)return;let l=!1;for(let u of e)if(u.getValue()===r.getValue()){u.incrementCount(),l=!0;break}l||e.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,r){let l=4537077*e.getValue()+r.getValue(),u=new String(l).toString(),h=new Ut;for(let C=13-u.length;C>0;C--)h.append("0");h.append(u);let x=0;for(let C=0;C<13;C++){let v=h.charAt(C).charCodeAt(0)-48;x+=(C&1)===0?3*v:v}x=10-x%10,x===10&&(x=0),h.append(x.toString());let p=e.getFinderPattern().getResultPoints(),w=r.getFinderPattern().getResultPoints();return new bt(h.toString(),null,0,[p[0],p[1],w[0],w[1]],At.RSS_14,new Date().getTime())}static checkChecksum(e,r){let l=(e.getChecksumPortion()+16*r.getChecksumPortion())%79,u=9*e.getFinderPattern().getValue()+r.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(e,r,l,u){try{let h=this.findFinderPattern(e,r),x=this.parseFoundFinderPattern(e,l,r,h),p=u==null?null:u.get(Ct.NEED_RESULT_POINT_CALLBACK);if(p!=null){let v=(h[0]+h[1])/2;r&&(v=e.getSize()-1-v),p.foundPossibleResultPoint(new Nt(v,l))}let w=this.decodeDataCharacter(e,x,!0),C=this.decodeDataCharacter(e,x,!1);return new yr(1597*w.getValue()+C.getValue(),w.getChecksumPortion()+4*C.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(e,r,l){let u=this.getDataCharacterCounters();for(let Q=0;Q<u.length;Q++)u[Q]=0;if(l)Ue.recordPatternInReverse(e,r.getStartEnd()[0],u);else{Ue.recordPattern(e,r.getStartEnd()[1]+1,u);for(let Q=0,rt=u.length-1;Q<rt;Q++,rt--){let St=u[Q];u[Q]=u[rt],u[rt]=St}}let h=l?16:15,x=se.sum(new Int32Array(u))/h,p=this.getOddCounts(),w=this.getEvenCounts(),C=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors();for(let Q=0;Q<u.length;Q++){let rt=u[Q]/x,St=Math.floor(rt+.5);St<1?St=1:St>8&&(St=8);let vt=Math.floor(Q/2);(Q&1)===0?(p[vt]=St,C[vt]=rt-St):(w[vt]=St,v[vt]=rt-St)}this.adjustOddEvenCounts(l,h);let N=0,I=0;for(let Q=p.length-1;Q>=0;Q--)I*=9,I+=p[Q],N+=p[Q];let k=0,j=0;for(let Q=w.length-1;Q>=0;Q--)k*=9,k+=w[Q],j+=w[Q];let V=I+3*k;if(l){if((N&1)!==0||N>12||N<4)throw new K;let Q=(12-N)/2,rt=he.OUTSIDE_ODD_WIDEST[Q],St=9-rt,vt=gn.getRSSvalue(p,rt,!1),Et=gn.getRSSvalue(w,St,!0),Zt=he.OUTSIDE_EVEN_TOTAL_SUBSET[Q],Xt=he.OUTSIDE_GSUM[Q];return new ma(vt*Zt+Et+Xt,V)}else{if((j&1)!==0||j>10||j<4)throw new K;let Q=(10-j)/2,rt=he.INSIDE_ODD_WIDEST[Q],St=9-rt,vt=gn.getRSSvalue(p,rt,!0),Et=gn.getRSSvalue(w,St,!1),Zt=he.INSIDE_ODD_TOTAL_SUBSET[Q],Xt=he.INSIDE_GSUM[Q];return new ma(Et*Zt+vt+Xt,V)}}findFinderPattern(e,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=e.getSize(),h=!1,x=0;for(;x<u&&(h=!e.get(x),r!==h);)x++;let p=0,w=x;for(let C=x;C<u;C++)if(e.get(C)!==h)l[p]++;else{if(p===3){if(cn.isFinderPattern(l))return[w,C];w+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,h=!h}throw new K}parseFoundFinderPattern(e,r,l,u){let h=e.get(u[0]),x=u[0]-1;for(;x>=0&&h!==e.get(x);)x--;x++;const p=u[0]-x,w=this.getDecodeFinderCounters(),C=new Int32Array(w.length);P.arraycopy(w,0,C,1,w.length-1),C[0]=p;const v=this.parseFinderValue(C,he.FINDER_PATTERNS);let N=x,I=u[1];return l&&(N=e.getSize()-1-N,I=e.getSize()-1-I),new pr(v,[x,u[1]],N,I,r)}adjustOddEvenCounts(e,r){let l=se.sum(new Int32Array(this.getOddCounts())),u=se.sum(new Int32Array(this.getEvenCounts())),h=!1,x=!1,p=!1,w=!1;e?(l>12?x=!0:l<4&&(h=!0),u>12?w=!0:u<4&&(p=!0)):(l>11?x=!0:l<5&&(h=!0),u>10?w=!0:u<4&&(p=!0));let C=l+u-r,v=(l&1)===(e?1:0),N=(u&1)===1;if(C===1)if(v){if(N)throw new K;x=!0}else{if(!N)throw new K;w=!0}else if(C===-1)if(v){if(N)throw new K;h=!0}else{if(!N)throw new K;p=!0}else if(C===0){if(v){if(!N)throw new K;l<u?(h=!0,w=!0):(x=!0,p=!0)}else if(N)throw new K}else throw new K;if(h){if(x)throw new K;cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(w)throw new K;cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}he.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],he.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],he.OUTSIDE_GSUM=[0,161,961,2015,2715],he.INSIDE_GSUM=[0,336,1036,1516],he.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],he.INSIDE_ODD_WIDEST=[2,4,6,8],he.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Wi extends Ue{constructor(e,r){super(),this.readers=[],this.verbose=r===!0;const l=e?e.get(Ct.POSSIBLE_FORMATS):null,u=e&&e.get(Ct.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(At.EAN_13)||l.includes(At.UPC_A)||l.includes(At.EAN_8)||l.includes(At.UPC_E))&&this.readers.push(new Bs(e)),l.includes(At.CODE_39)&&this.readers.push(new Re(u)),l.includes(At.CODE_128)&&this.readers.push(new Tt),l.includes(At.ITF)&&this.readers.push(new fe),l.includes(At.RSS_14)&&this.readers.push(new he),l.includes(At.RSS_EXPANDED)&&this.readers.push(new yt(this.verbose))):(this.readers.push(new Bs(e)),this.readers.push(new Re),this.readers.push(new Bs(e)),this.readers.push(new Tt),this.readers.push(new fe),this.readers.push(new he),this.readers.push(new yt(this.verbose)))}decodeRow(e,r,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(e,r,l)}catch{}throw new K}reset(){this.readers.forEach(e=>e.reset())}}class jo extends wt{constructor(e=500,r){super(new Wi(r),e,r)}}class ne{constructor(e,r,l){this.ecCodewords=e,this.ecBlocks=[r],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ce{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $t{constructor(e,r,l,u,h,x){this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=h,this.ecBlocks=x;let p=0;const w=x.getECCodewords(),C=x.getECBlocks();for(let v of C)p+=v.getCount()*(v.getDataCodewords()+w);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,r){if((e&1)!==0||(r&1)!==0)throw new X;for(let l of $t.VERSIONS)if(l.symbolSizeRows===e&&l.symbolSizeColumns===r)return l;throw new X}toString(){return""+this.versionNumber}static buildVersions(){return[new $t(1,10,10,8,8,new ne(5,new ce(1,3))),new $t(2,12,12,10,10,new ne(7,new ce(1,5))),new $t(3,14,14,12,12,new ne(10,new ce(1,8))),new $t(4,16,16,14,14,new ne(12,new ce(1,12))),new $t(5,18,18,16,16,new ne(14,new ce(1,18))),new $t(6,20,20,18,18,new ne(18,new ce(1,22))),new $t(7,22,22,20,20,new ne(20,new ce(1,30))),new $t(8,24,24,22,22,new ne(24,new ce(1,36))),new $t(9,26,26,24,24,new ne(28,new ce(1,44))),new $t(10,32,32,14,14,new ne(36,new ce(1,62))),new $t(11,36,36,16,16,new ne(42,new ce(1,86))),new $t(12,40,40,18,18,new ne(48,new ce(1,114))),new $t(13,44,44,20,20,new ne(56,new ce(1,144))),new $t(14,48,48,22,22,new ne(68,new ce(1,174))),new $t(15,52,52,24,24,new ne(42,new ce(2,102))),new $t(16,64,64,14,14,new ne(56,new ce(2,140))),new $t(17,72,72,16,16,new ne(36,new ce(4,92))),new $t(18,80,80,18,18,new ne(48,new ce(4,114))),new $t(19,88,88,20,20,new ne(56,new ce(4,144))),new $t(20,96,96,22,22,new ne(68,new ce(4,174))),new $t(21,104,104,24,24,new ne(56,new ce(6,136))),new $t(22,120,120,18,18,new ne(68,new ce(6,175))),new $t(23,132,132,20,20,new ne(62,new ce(8,163))),new $t(24,144,144,22,22,new ne(62,new ce(8,156),new ce(2,155))),new $t(25,8,18,6,16,new ne(7,new ce(1,5))),new $t(26,8,32,6,14,new ne(11,new ce(1,10))),new $t(27,12,26,10,24,new ne(14,new ce(1,16))),new $t(28,12,36,10,16,new ne(18,new ce(1,22))),new $t(29,16,36,14,16,new ne(24,new ce(1,32))),new $t(30,16,48,14,22,new ne(28,new ce(1,49)))]}}$t.VERSIONS=$t.buildVersions();class Al{constructor(e){const r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new X;this.version=Al.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new Gt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const r=e.getHeight(),l=e.getWidth();return $t.getVersionForDimensions(r,l)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let r=0,l=4,u=0;const h=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let p=!1,w=!1,C=!1,v=!1;do if(l===h&&u===0&&!p)e[r++]=this.readCorner1(h,x)&255,l-=2,u+=2,p=!0;else if(l===h-2&&u===0&&(x&3)!==0&&!w)e[r++]=this.readCorner2(h,x)&255,l-=2,u+=2,w=!0;else if(l===h+4&&u===2&&(x&7)===0&&!C)e[r++]=this.readCorner3(h,x)&255,l-=2,u+=2,C=!0;else if(l===h-2&&u===0&&(x&7)===4&&!v)e[r++]=this.readCorner4(h,x)&255,l-=2,u+=2,v=!0;else{do l<h&&u>=0&&!this.readMappingMatrix.get(u,l)&&(e[r++]=this.readUtah(l,u,h,x)&255),l-=2,u+=2;while(l>=0&&u<x);l+=1,u+=3;do l>=0&&u<x&&!this.readMappingMatrix.get(u,l)&&(e[r++]=this.readUtah(l,u,h,x)&255),l+=2,u-=2;while(l<h&&u>=0);l+=3,u+=1}while(l<h||u<x);if(r!==this.version.getTotalCodewords())throw new X;return e}readModule(e,r,l,u){return e<0&&(e+=l,r+=4-(l+4&7)),r<0&&(r+=u,e+=4-(u+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)}readUtah(e,r,l,u){let h=0;return this.readModule(e-2,r-2,l,u)&&(h|=1),h<<=1,this.readModule(e-2,r-1,l,u)&&(h|=1),h<<=1,this.readModule(e-1,r-2,l,u)&&(h|=1),h<<=1,this.readModule(e-1,r-1,l,u)&&(h|=1),h<<=1,this.readModule(e-1,r,l,u)&&(h|=1),h<<=1,this.readModule(e,r-2,l,u)&&(h|=1),h<<=1,this.readModule(e,r-1,l,u)&&(h|=1),h<<=1,this.readModule(e,r,l,u)&&(h|=1),h}readCorner1(e,r){let l=0;return this.readModule(e-1,0,e,r)&&(l|=1),l<<=1,this.readModule(e-1,1,e,r)&&(l|=1),l<<=1,this.readModule(e-1,2,e,r)&&(l|=1),l<<=1,this.readModule(0,r-2,e,r)&&(l|=1),l<<=1,this.readModule(0,r-1,e,r)&&(l|=1),l<<=1,this.readModule(1,r-1,e,r)&&(l|=1),l<<=1,this.readModule(2,r-1,e,r)&&(l|=1),l<<=1,this.readModule(3,r-1,e,r)&&(l|=1),l}readCorner2(e,r){let l=0;return this.readModule(e-3,0,e,r)&&(l|=1),l<<=1,this.readModule(e-2,0,e,r)&&(l|=1),l<<=1,this.readModule(e-1,0,e,r)&&(l|=1),l<<=1,this.readModule(0,r-4,e,r)&&(l|=1),l<<=1,this.readModule(0,r-3,e,r)&&(l|=1),l<<=1,this.readModule(0,r-2,e,r)&&(l|=1),l<<=1,this.readModule(0,r-1,e,r)&&(l|=1),l<<=1,this.readModule(1,r-1,e,r)&&(l|=1),l}readCorner3(e,r){let l=0;return this.readModule(e-1,0,e,r)&&(l|=1),l<<=1,this.readModule(e-1,r-1,e,r)&&(l|=1),l<<=1,this.readModule(0,r-3,e,r)&&(l|=1),l<<=1,this.readModule(0,r-2,e,r)&&(l|=1),l<<=1,this.readModule(0,r-1,e,r)&&(l|=1),l<<=1,this.readModule(1,r-3,e,r)&&(l|=1),l<<=1,this.readModule(1,r-2,e,r)&&(l|=1),l<<=1,this.readModule(1,r-1,e,r)&&(l|=1),l}readCorner4(e,r){let l=0;return this.readModule(e-3,0,e,r)&&(l|=1),l<<=1,this.readModule(e-2,0,e,r)&&(l|=1),l<<=1,this.readModule(e-1,0,e,r)&&(l|=1),l<<=1,this.readModule(0,r-2,e,r)&&(l|=1),l<<=1,this.readModule(0,r-1,e,r)&&(l|=1),l<<=1,this.readModule(1,r-1,e,r)&&(l|=1),l<<=1,this.readModule(2,r-1,e,r)&&(l|=1),l<<=1,this.readModule(3,r-1,e,r)&&(l|=1),l}extractDataRegion(e){const r=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),x=r/u|0,p=l/h|0,w=x*u,C=p*h,v=new Gt(C,w);for(let N=0;N<x;++N){const I=N*u;for(let k=0;k<p;++k){const j=k*h;for(let V=0;V<u;++V){const Q=N*(u+2)+1+V,rt=I+V;for(let St=0;St<h;++St){const vt=k*(h+2)+1+St;if(e.get(vt,Q)){const Et=j+St;v.set(Et,rt)}}}}}return v}}class br{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r){const l=r.getECBlocks();let u=0;const h=l.getECBlocks();for(let V of h)u+=V.getCount();const x=new Array(u);let p=0;for(let V of h)for(let Q=0;Q<V.getCount();Q++){const rt=V.getDataCodewords(),St=l.getECCodewords()+rt;x[p++]=new br(rt,new Uint8Array(St))}const C=x[0].codewords.length-l.getECCodewords(),v=C-1;let N=0;for(let V=0;V<v;V++)for(let Q=0;Q<p;Q++)x[Q].codewords[V]=e[N++];const I=r.getVersionNumber()===24,k=I?8:p;for(let V=0;V<k;V++)x[V].codewords[C-1]=e[N++];const j=x[0].codewords.length;for(let V=C;V<j;V++)for(let Q=0;Q<p;Q++){const rt=I?(Q+8)%p:Q,St=I&&rt>7?V-1:V;x[rt].codewords[St]=e[N++]}if(N!==e.length)throw new T;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fn{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new T(""+e);let r=0,l=this.bitOffset,u=this.byteOffset;const h=this.bytes;if(l>0){const x=8-l,p=e<x?e:x,w=x-p,C=255>>8-p<<w;r=(h[u]&C)>>w,e-=p,l+=p,l===8&&(l=0,u++)}if(e>0){for(;e>=8;)r=r<<8|h[u]&255,u++,e-=8;if(e>0){const x=8-e,p=255>>x<<x;r=r<<e|(h[u]&p)>>x,l+=e}}return this.bitOffset=l,this.byteOffset=u,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ke;(function(O){O[O.PAD_ENCODE=0]="PAD_ENCODE",O[O.ASCII_ENCODE=1]="ASCII_ENCODE",O[O.C40_ENCODE=2]="C40_ENCODE",O[O.TEXT_ENCODE=3]="TEXT_ENCODE",O[O.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",O[O.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",O[O.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ke||(Ke={}));class Zi{static decode(e){const r=new Fn(e),l=new Ut,u=new Ut,h=new Array;let x=Ke.ASCII_ENCODE;do if(x===Ke.ASCII_ENCODE)x=this.decodeAsciiSegment(r,l,u);else{switch(x){case Ke.C40_ENCODE:this.decodeC40Segment(r,l);break;case Ke.TEXT_ENCODE:this.decodeTextSegment(r,l);break;case Ke.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,l);break;case Ke.EDIFACT_ENCODE:this.decodeEdifactSegment(r,l);break;case Ke.BASE256_ENCODE:this.decodeBase256Segment(r,l,h);break;default:throw new X}x=Ke.ASCII_ENCODE}while(x!==Ke.PAD_ENCODE&&r.available()>0);return u.length()>0&&l.append(u.toString()),new Qn(e,l.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(e,r,l){let u=!1;do{let h=e.readBits(8);if(h===0)throw new X;if(h<=128)return u&&(h+=128),r.append(String.fromCharCode(h-1)),Ke.ASCII_ENCODE;if(h===129)return Ke.PAD_ENCODE;if(h<=229){const x=h-130;x<10&&r.append("0"),r.append(""+x)}else switch(h){case 230:return Ke.C40_ENCODE;case 231:return Ke.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:r.append("[)>05"),l.insert(0,"");break;case 237:r.append("[)>06"),l.insert(0,"");break;case 238:return Ke.ANSIX12_ENCODE;case 239:return Ke.TEXT_ENCODE;case 240:return Ke.EDIFACT_ENCODE;case 241:break;default:if(h!==254||e.available()!==0)throw new X;break}}while(e.available()>0);return Ke.ASCII_ENCODE}static decodeC40Segment(e,r){let l=!1;const u=[];let h=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),u);for(let p=0;p<3;p++){const w=u[p];switch(h){case 0:if(w<3)h=w+1;else if(w<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[w];l?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):r.append(C)}else throw new X;break;case 1:l?(r.append(String.fromCharCode(w+128)),l=!1):r.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[w];l?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):r.append(C)}else switch(w){case 27:r.append("");break;case 30:l=!0;break;default:throw new X}h=0;break;case 3:l?(r.append(String.fromCharCode(w+224)),l=!1):r.append(String.fromCharCode(w+96)),h=0;break;default:throw new X}}}while(e.available()>0)}static decodeTextSegment(e,r){let l=!1,u=[],h=0;do{if(e.available()===8)return;const x=e.readBits(8);if(x===254)return;this.parseTwoBytes(x,e.readBits(8),u);for(let p=0;p<3;p++){const w=u[p];switch(h){case 0:if(w<3)h=w+1;else if(w<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[w];l?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):r.append(C)}else throw new X;break;case 1:l?(r.append(String.fromCharCode(w+128)),l=!1):r.append(String.fromCharCode(w)),h=0;break;case 2:if(w<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[w];l?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):r.append(C)}else switch(w){case 27:r.append("");break;case 30:l=!0;break;default:throw new X}h=0;break;case 3:if(w<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[w];l?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):r.append(C),h=0}else throw new X;break;default:throw new X}}}while(e.available()>0)}static decodeAnsiX12Segment(e,r){const l=[];do{if(e.available()===8)return;const u=e.readBits(8);if(u===254)return;this.parseTwoBytes(u,e.readBits(8),l);for(let h=0;h<3;h++){const x=l[h];switch(x){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(x<14)r.append(String.fromCharCode(x+44));else if(x<40)r.append(String.fromCharCode(x+51));else throw new X;break}}}while(e.available()>0)}static parseTwoBytes(e,r,l){let u=(e<<8)+r-1,h=Math.floor(u/1600);l[0]=h,u-=h*1600,h=Math.floor(u/40),l[1]=h,l[2]=u-h*40}static decodeEdifactSegment(e,r){do{if(e.available()<=16)return;for(let l=0;l<4;l++){let u=e.readBits(6);if(u===31){const h=8-e.getBitOffset();h!==8&&e.readBits(h);return}(u&32)===0&&(u|=64),r.append(String.fromCharCode(u))}}while(e.available()>0)}static decodeBase256Segment(e,r,l){let u=1+e.getByteOffset();const h=this.unrandomize255State(e.readBits(8),u++);let x;if(h===0?x=e.available()/8|0:h<250?x=h:x=250*(h-249)+this.unrandomize255State(e.readBits(8),u++),x<0)throw new X;const p=new Uint8Array(x);for(let w=0;w<x;w++){if(e.available()<8)throw new X;p[w]=this.unrandomize255State(e.readBits(8),u++)}l.push(p);try{r.append(It.decode(p,_t.ISO88591))}catch(w){throw new bi("Platform does not support required encoding: "+w.message)}}static unrandomize255State(e,r){const l=149*r%255+1,u=e-l;return u>=0?u:u+256}}Zi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Zi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Zi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Zi.TEXT_SHIFT2_SET_CHARS=Zi.C40_SHIFT2_SET_CHARS,Zi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ar{constructor(){this.rsDecoder=new Ds(le.DATA_MATRIX_FIELD_256)}decode(e){const r=new Al(e),l=r.getVersion(),u=r.readCodewords(),h=br.getDataBlocks(u,l);let x=0;for(let C of h)x+=C.getNumDataCodewords();const p=new Uint8Array(x),w=h.length;for(let C=0;C<w;C++){const v=h[C],N=v.getCodewords(),I=v.getNumDataCodewords();this.correctErrors(N,I);for(let k=0;k<I;k++)p[k*w+C]=N[k]}return Zi.decode(p)}correctErrors(e,r){const l=new Int32Array(e);try{this.rsDecoder.decode(l,e.length-r)}catch{throw new L}for(let u=0;u<r;u++)e[u]=l[u]}}class Ve{constructor(e){this.image=e,this.rectangleDetector=new Ri(this.image)}detect(){const e=this.rectangleDetector.detect();let r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new K;r=this.shiftToModuleCenter(r);const l=r[0],u=r[1],h=r[2],x=r[3];let p=this.transitionsBetween(l,x)+1,w=this.transitionsBetween(h,x)+1;(p&1)===1&&(p+=1),(w&1)===1&&(w+=1),4*p<7*w&&4*w<7*p&&(p=w=Math.max(p,w));let C=Ve.sampleGrid(this.image,l,u,h,x,p,w);return new gr(C,[l,u,h,x])}static shiftPoint(e,r,l){let u=(r.getX()-e.getX())/(l+1),h=(r.getY()-e.getY())/(l+1);return new Nt(e.getX()+u,e.getY()+h)}static moveAway(e,r,l){let u=e.getX(),h=e.getY();return u<r?u-=1:u+=1,h<l?h-=1:h+=1,new Nt(u,h)}detectSolid1(e){let r=e[0],l=e[1],u=e[3],h=e[2],x=this.transitionsBetween(r,l),p=this.transitionsBetween(l,u),w=this.transitionsBetween(u,h),C=this.transitionsBetween(h,r),v=x,N=[h,r,l,u];return v>p&&(v=p,N[0]=r,N[1]=l,N[2]=u,N[3]=h),v>w&&(v=w,N[0]=l,N[1]=u,N[2]=h,N[3]=r),v>C&&(N[0]=u,N[1]=h,N[2]=r,N[3]=l),N}detectSolid2(e){let r=e[0],l=e[1],u=e[2],h=e[3],x=this.transitionsBetween(r,h),p=Ve.shiftPoint(l,u,(x+1)*4),w=Ve.shiftPoint(u,l,(x+1)*4),C=this.transitionsBetween(p,r),v=this.transitionsBetween(w,h);return C<v?(e[0]=r,e[1]=l,e[2]=u,e[3]=h):(e[0]=l,e[1]=u,e[2]=h,e[3]=r),e}correctTopRight(e){let r=e[0],l=e[1],u=e[2],h=e[3],x=this.transitionsBetween(r,h),p=this.transitionsBetween(l,h),w=Ve.shiftPoint(r,l,(p+1)*4),C=Ve.shiftPoint(u,l,(x+1)*4);x=this.transitionsBetween(w,h),p=this.transitionsBetween(C,h);let v=new Nt(h.getX()+(u.getX()-l.getX())/(x+1),h.getY()+(u.getY()-l.getY())/(x+1)),N=new Nt(h.getX()+(r.getX()-l.getX())/(p+1),h.getY()+(r.getY()-l.getY())/(p+1));if(!this.isValid(v))return this.isValid(N)?N:null;if(!this.isValid(N))return v;let I=this.transitionsBetween(w,v)+this.transitionsBetween(C,v),k=this.transitionsBetween(w,N)+this.transitionsBetween(C,N);return I>k?v:N}shiftToModuleCenter(e){let r=e[0],l=e[1],u=e[2],h=e[3],x=this.transitionsBetween(r,h)+1,p=this.transitionsBetween(u,h)+1,w=Ve.shiftPoint(r,l,p*4),C=Ve.shiftPoint(u,l,x*4);x=this.transitionsBetween(w,h)+1,p=this.transitionsBetween(C,h)+1,(x&1)===1&&(x+=1),(p&1)===1&&(p+=1);let v=(r.getX()+l.getX()+u.getX()+h.getX())/4,N=(r.getY()+l.getY()+u.getY()+h.getY())/4;r=Ve.moveAway(r,v,N),l=Ve.moveAway(l,v,N),u=Ve.moveAway(u,v,N),h=Ve.moveAway(h,v,N);let I,k;return w=Ve.shiftPoint(r,l,p*4),w=Ve.shiftPoint(w,h,x*4),I=Ve.shiftPoint(l,r,p*4),I=Ve.shiftPoint(I,u,x*4),C=Ve.shiftPoint(u,h,p*4),C=Ve.shiftPoint(C,l,x*4),k=Ve.shiftPoint(h,u,p*4),k=Ve.shiftPoint(k,r,x*4),[w,I,C,k]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,r,l,u,h,x,p){return In.getInstance().sampleGrid(e,x,p,.5,.5,x-.5,.5,x-.5,p-.5,.5,p-.5,r.getX(),r.getY(),h.getX(),h.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(e,r){let l=Math.trunc(e.getX()),u=Math.trunc(e.getY()),h=Math.trunc(r.getX()),x=Math.trunc(r.getY()),p=Math.abs(x-u)>Math.abs(h-l);if(p){let V=l;l=u,u=V,V=h,h=x,x=V}let w=Math.abs(h-l),C=Math.abs(x-u),v=-w/2,N=u<x?1:-1,I=l<h?1:-1,k=0,j=this.image.get(p?u:l,p?l:u);for(let V=l,Q=u;V!==h;V+=I){let rt=this.image.get(p?Q:V,p?V:Q);if(rt!==j&&(k++,j=rt),v+=C,v>0){if(Q===x)break;Q+=N,v-=w}}return k}}class oi{constructor(){this.decoder=new Ar}decode(e,r=null){let l,u;if(r!=null&&r.has(Ct.PURE_BARCODE)){const C=oi.extractPureBits(e.getBlackMatrix());l=this.decoder.decode(C),u=oi.NO_POINTS}else{const C=new Ve(e.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),u=C.getPoints()}const h=l.getRawBytes(),x=new bt(l.getText(),h,8*h.length,u,At.DATA_MATRIX,P.currentTimeMillis()),p=l.getByteSegments();p!=null&&x.putMetadata(Qt.BYTE_SEGMENTS,p);const w=l.getECLevel();return w!=null&&x.putMetadata(Qt.ERROR_CORRECTION_LEVEL,w),x}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),l=e.getBottomRightOnBit();if(r==null||l==null)throw new K;const u=this.moduleSize(r,e);let h=r[1];const x=l[1];let p=r[0];const C=(l[0]-p+1)/u,v=(x-h+1)/u;if(C<=0||v<=0)throw new K;const N=u/2;h+=N,p+=N;const I=new Gt(C,v);for(let k=0;k<v;k++){const j=h+k*u;for(let V=0;V<C;V++)e.get(p+V*u,j)&&I.set(V,k)}return I}static moduleSize(e,r){const l=r.getWidth();let u=e[0];const h=e[1];for(;u<l&&r.get(u,h);)u++;if(u===l)throw new K;const x=u-e[0];if(x===0)throw new K;return x}}oi.NO_POINTS=[];class Du extends wt{constructor(e=500){super(new oi,e)}}var xn;(function(O){O[O.L=0]="L",O[O.M=1]="M",O[O.Q=2]="Q",O[O.H=3]="H"})(xn||(xn={}));class pe{constructor(e,r,l){this.value=e,this.stringValue=r,this.bits=l,pe.FOR_BITS.set(l,this),pe.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return pe.L;case"M":return pe.M;case"Q":return pe.Q;case"H":return pe.H;default:throw new _(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof pe))return!1;const r=e;return this.value===r.value}static forBits(e){if(e<0||e>=pe.FOR_BITS.size)throw new T;return pe.FOR_BITS.get(e)}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.L=new pe(xn.L,"L",1),pe.M=new pe(xn.M,"M",0),pe.Q=new pe(xn.Q,"Q",3),pe.H=new pe(xn.H,"H",2);class mn{constructor(e){this.errorCorrectionLevel=pe.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,r){return at.bitCount(e^r)}static decodeFormatInformation(e,r){const l=mn.doDecodeFormatInformation(e,r);return l!==null?l:mn.doDecodeFormatInformation(e^mn.FORMAT_INFO_MASK_QR,r^mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,r){let l=Number.MAX_SAFE_INTEGER,u=0;for(const h of mn.FORMAT_INFO_DECODE_LOOKUP){const x=h[0];if(x===e||x===r)return new mn(h[1]);let p=mn.numBitsDiffering(e,x);p<l&&(u=h[1],l=p),e!==r&&(p=mn.numBitsDiffering(r,x),p<l&&(u=h[1],l=p))}return l<=3?new mn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof mn))return!1;const r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}mn.FORMAT_INFO_MASK_QR=21522,mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class J{constructor(e,...r){this.ecCodewordsPerBlock=e,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const r=this.ecBlocks;for(const l of r)e+=l.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(e,r){this.count=e,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Lt{constructor(e,r,...l){this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=l;let u=0;const h=l[0].getECCodewordsPerBlock(),x=l[0].getECBlocks();for(const p of x)u+=p.getCount()*(p.getDataCodewords()+h);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new X;try{return this.getVersionForNumber((e-17)/4)}catch{throw new X}}static getVersionForNumber(e){if(e<1||e>40)throw new T;return Lt.VERSIONS[e-1]}static decodeVersionInformation(e){let r=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<Lt.VERSION_DECODE_INFO.length;u++){const h=Lt.VERSION_DECODE_INFO[u];if(h===e)return Lt.getVersionForNumber(u+7);const x=mn.numBitsDiffering(e,h);x<r&&(l=u+7,r=x)}return r<=3?Lt.getVersionForNumber(l):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),r=new Gt(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const h=this.alignmentPatternCenters[u]-2;for(let x=0;x<l;x++)u===0&&(x===0||x===l-1)||u===l-1&&x===0||r.setRegion(this.alignmentPatternCenters[x]-2,h,5,5)}return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r}toString(){return""+this.versionNumber}}Lt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Lt.VERSIONS=[new Lt(1,new Int32Array(0),new J(7,new B(1,19)),new J(10,new B(1,16)),new J(13,new B(1,13)),new J(17,new B(1,9))),new Lt(2,Int32Array.from([6,18]),new J(10,new B(1,34)),new J(16,new B(1,28)),new J(22,new B(1,22)),new J(28,new B(1,16))),new Lt(3,Int32Array.from([6,22]),new J(15,new B(1,55)),new J(26,new B(1,44)),new J(18,new B(2,17)),new J(22,new B(2,13))),new Lt(4,Int32Array.from([6,26]),new J(20,new B(1,80)),new J(18,new B(2,32)),new J(26,new B(2,24)),new J(16,new B(4,9))),new Lt(5,Int32Array.from([6,30]),new J(26,new B(1,108)),new J(24,new B(2,43)),new J(18,new B(2,15),new B(2,16)),new J(22,new B(2,11),new B(2,12))),new Lt(6,Int32Array.from([6,34]),new J(18,new B(2,68)),new J(16,new B(4,27)),new J(24,new B(4,19)),new J(28,new B(4,15))),new Lt(7,Int32Array.from([6,22,38]),new J(20,new B(2,78)),new J(18,new B(4,31)),new J(18,new B(2,14),new B(4,15)),new J(26,new B(4,13),new B(1,14))),new Lt(8,Int32Array.from([6,24,42]),new J(24,new B(2,97)),new J(22,new B(2,38),new B(2,39)),new J(22,new B(4,18),new B(2,19)),new J(26,new B(4,14),new B(2,15))),new Lt(9,Int32Array.from([6,26,46]),new J(30,new B(2,116)),new J(22,new B(3,36),new B(2,37)),new J(20,new B(4,16),new B(4,17)),new J(24,new B(4,12),new B(4,13))),new Lt(10,Int32Array.from([6,28,50]),new J(18,new B(2,68),new B(2,69)),new J(26,new B(4,43),new B(1,44)),new J(24,new B(6,19),new B(2,20)),new J(28,new B(6,15),new B(2,16))),new Lt(11,Int32Array.from([6,30,54]),new J(20,new B(4,81)),new J(30,new B(1,50),new B(4,51)),new J(28,new B(4,22),new B(4,23)),new J(24,new B(3,12),new B(8,13))),new Lt(12,Int32Array.from([6,32,58]),new J(24,new B(2,92),new B(2,93)),new J(22,new B(6,36),new B(2,37)),new J(26,new B(4,20),new B(6,21)),new J(28,new B(7,14),new B(4,15))),new Lt(13,Int32Array.from([6,34,62]),new J(26,new B(4,107)),new J(22,new B(8,37),new B(1,38)),new J(24,new B(8,20),new B(4,21)),new J(22,new B(12,11),new B(4,12))),new Lt(14,Int32Array.from([6,26,46,66]),new J(30,new B(3,115),new B(1,116)),new J(24,new B(4,40),new B(5,41)),new J(20,new B(11,16),new B(5,17)),new J(24,new B(11,12),new B(5,13))),new Lt(15,Int32Array.from([6,26,48,70]),new J(22,new B(5,87),new B(1,88)),new J(24,new B(5,41),new B(5,42)),new J(30,new B(5,24),new B(7,25)),new J(24,new B(11,12),new B(7,13))),new Lt(16,Int32Array.from([6,26,50,74]),new J(24,new B(5,98),new B(1,99)),new J(28,new B(7,45),new B(3,46)),new J(24,new B(15,19),new B(2,20)),new J(30,new B(3,15),new B(13,16))),new Lt(17,Int32Array.from([6,30,54,78]),new J(28,new B(1,107),new B(5,108)),new J(28,new B(10,46),new B(1,47)),new J(28,new B(1,22),new B(15,23)),new J(28,new B(2,14),new B(17,15))),new Lt(18,Int32Array.from([6,30,56,82]),new J(30,new B(5,120),new B(1,121)),new J(26,new B(9,43),new B(4,44)),new J(28,new B(17,22),new B(1,23)),new J(28,new B(2,14),new B(19,15))),new Lt(19,Int32Array.from([6,30,58,86]),new J(28,new B(3,113),new B(4,114)),new J(26,new B(3,44),new B(11,45)),new J(26,new B(17,21),new B(4,22)),new J(26,new B(9,13),new B(16,14))),new Lt(20,Int32Array.from([6,34,62,90]),new J(28,new B(3,107),new B(5,108)),new J(26,new B(3,41),new B(13,42)),new J(30,new B(15,24),new B(5,25)),new J(28,new B(15,15),new B(10,16))),new Lt(21,Int32Array.from([6,28,50,72,94]),new J(28,new B(4,116),new B(4,117)),new J(26,new B(17,42)),new J(28,new B(17,22),new B(6,23)),new J(30,new B(19,16),new B(6,17))),new Lt(22,Int32Array.from([6,26,50,74,98]),new J(28,new B(2,111),new B(7,112)),new J(28,new B(17,46)),new J(30,new B(7,24),new B(16,25)),new J(24,new B(34,13))),new Lt(23,Int32Array.from([6,30,54,78,102]),new J(30,new B(4,121),new B(5,122)),new J(28,new B(4,47),new B(14,48)),new J(30,new B(11,24),new B(14,25)),new J(30,new B(16,15),new B(14,16))),new Lt(24,Int32Array.from([6,28,54,80,106]),new J(30,new B(6,117),new B(4,118)),new J(28,new B(6,45),new B(14,46)),new J(30,new B(11,24),new B(16,25)),new J(30,new B(30,16),new B(2,17))),new Lt(25,Int32Array.from([6,32,58,84,110]),new J(26,new B(8,106),new B(4,107)),new J(28,new B(8,47),new B(13,48)),new J(30,new B(7,24),new B(22,25)),new J(30,new B(22,15),new B(13,16))),new Lt(26,Int32Array.from([6,30,58,86,114]),new J(28,new B(10,114),new B(2,115)),new J(28,new B(19,46),new B(4,47)),new J(28,new B(28,22),new B(6,23)),new J(30,new B(33,16),new B(4,17))),new Lt(27,Int32Array.from([6,34,62,90,118]),new J(30,new B(8,122),new B(4,123)),new J(28,new B(22,45),new B(3,46)),new J(30,new B(8,23),new B(26,24)),new J(30,new B(12,15),new B(28,16))),new Lt(28,Int32Array.from([6,26,50,74,98,122]),new J(30,new B(3,117),new B(10,118)),new J(28,new B(3,45),new B(23,46)),new J(30,new B(4,24),new B(31,25)),new J(30,new B(11,15),new B(31,16))),new Lt(29,Int32Array.from([6,30,54,78,102,126]),new J(30,new B(7,116),new B(7,117)),new J(28,new B(21,45),new B(7,46)),new J(30,new B(1,23),new B(37,24)),new J(30,new B(19,15),new B(26,16))),new Lt(30,Int32Array.from([6,26,52,78,104,130]),new J(30,new B(5,115),new B(10,116)),new J(28,new B(19,47),new B(10,48)),new J(30,new B(15,24),new B(25,25)),new J(30,new B(23,15),new B(25,16))),new Lt(31,Int32Array.from([6,30,56,82,108,134]),new J(30,new B(13,115),new B(3,116)),new J(28,new B(2,46),new B(29,47)),new J(30,new B(42,24),new B(1,25)),new J(30,new B(23,15),new B(28,16))),new Lt(32,Int32Array.from([6,34,60,86,112,138]),new J(30,new B(17,115)),new J(28,new B(10,46),new B(23,47)),new J(30,new B(10,24),new B(35,25)),new J(30,new B(19,15),new B(35,16))),new Lt(33,Int32Array.from([6,30,58,86,114,142]),new J(30,new B(17,115),new B(1,116)),new J(28,new B(14,46),new B(21,47)),new J(30,new B(29,24),new B(19,25)),new J(30,new B(11,15),new B(46,16))),new Lt(34,Int32Array.from([6,34,62,90,118,146]),new J(30,new B(13,115),new B(6,116)),new J(28,new B(14,46),new B(23,47)),new J(30,new B(44,24),new B(7,25)),new J(30,new B(59,16),new B(1,17))),new Lt(35,Int32Array.from([6,30,54,78,102,126,150]),new J(30,new B(12,121),new B(7,122)),new J(28,new B(12,47),new B(26,48)),new J(30,new B(39,24),new B(14,25)),new J(30,new B(22,15),new B(41,16))),new Lt(36,Int32Array.from([6,24,50,76,102,128,154]),new J(30,new B(6,121),new B(14,122)),new J(28,new B(6,47),new B(34,48)),new J(30,new B(46,24),new B(10,25)),new J(30,new B(2,15),new B(64,16))),new Lt(37,Int32Array.from([6,28,54,80,106,132,158]),new J(30,new B(17,122),new B(4,123)),new J(28,new B(29,46),new B(14,47)),new J(30,new B(49,24),new B(10,25)),new J(30,new B(24,15),new B(46,16))),new Lt(38,Int32Array.from([6,32,58,84,110,136,162]),new J(30,new B(4,122),new B(18,123)),new J(28,new B(13,46),new B(32,47)),new J(30,new B(48,24),new B(14,25)),new J(30,new B(42,15),new B(32,16))),new Lt(39,Int32Array.from([6,26,54,82,110,138,166]),new J(30,new B(20,117),new B(4,118)),new J(28,new B(40,47),new B(7,48)),new J(30,new B(43,24),new B(22,25)),new J(30,new B(10,15),new B(67,16))),new Lt(40,Int32Array.from([6,30,58,86,114,142,170]),new J(30,new B(19,118),new B(6,119)),new J(28,new B(18,47),new B(31,48)),new J(30,new B(34,24),new B(34,25)),new J(30,new B(20,15),new B(61,16)))];var nn;(function(O){O[O.DATA_MASK_000=0]="DATA_MASK_000",O[O.DATA_MASK_001=1]="DATA_MASK_001",O[O.DATA_MASK_010=2]="DATA_MASK_010",O[O.DATA_MASK_011=3]="DATA_MASK_011",O[O.DATA_MASK_100=4]="DATA_MASK_100",O[O.DATA_MASK_101=5]="DATA_MASK_101",O[O.DATA_MASK_110=6]="DATA_MASK_110",O[O.DATA_MASK_111=7]="DATA_MASK_111"})(nn||(nn={}));class pn{constructor(e,r){this.value=e,this.isMasked=r}unmaskBitMatrix(e,r){for(let l=0;l<r;l++)for(let u=0;u<r;u++)this.isMasked(l,u)&&e.flip(u,l)}}pn.values=new Map([[nn.DATA_MASK_000,new pn(nn.DATA_MASK_000,(O,e)=>(O+e&1)===0)],[nn.DATA_MASK_001,new pn(nn.DATA_MASK_001,(O,e)=>(O&1)===0)],[nn.DATA_MASK_010,new pn(nn.DATA_MASK_010,(O,e)=>e%3===0)],[nn.DATA_MASK_011,new pn(nn.DATA_MASK_011,(O,e)=>(O+e)%3===0)],[nn.DATA_MASK_100,new pn(nn.DATA_MASK_100,(O,e)=>(Math.floor(O/2)+Math.floor(e/3)&1)===0)],[nn.DATA_MASK_101,new pn(nn.DATA_MASK_101,(O,e)=>O*e%6===0)],[nn.DATA_MASK_110,new pn(nn.DATA_MASK_110,(O,e)=>O*e%6<3)],[nn.DATA_MASK_111,new pn(nn.DATA_MASK_111,(O,e)=>(O+e+O*e%3&1)===0)]]);class Ru{constructor(e){const r=e.getHeight();if(r<21||(r&3)!==1)throw new X;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let h=0;h<6;h++)e=this.copyBit(h,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let h=5;h>=0;h--)e=this.copyBit(8,h,e);const r=this.bitMatrix.getHeight();let l=0;const u=r-7;for(let h=r-1;h>=u;h--)l=this.copyBit(8,h,l);for(let h=r-8;h<r;h++)l=this.copyBit(h,8,l);if(this.parsedFormatInfo=mn.decodeFormatInformation(e,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new X}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return Lt.getVersionForNumber(r);let l=0;const u=e-11;for(let x=5;x>=0;x--)for(let p=e-9;p>=u;p--)l=this.copyBit(p,x,l);let h=Lt.decodeVersionInformation(l);if(h!==null&&h.getDimensionForVersion()===e)return this.parsedVersion=h,h;l=0;for(let x=5;x>=0;x--)for(let p=e-9;p>=u;p--)l=this.copyBit(x,p,l);if(h=Lt.decodeVersionInformation(l),h!==null&&h.getDimensionForVersion()===e)return this.parsedVersion=h,h;throw new X}copyBit(e,r,l){return(this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r))?l<<1|1:l<<1}readCodewords(){const e=this.readFormatInformation(),r=this.readVersion(),l=pn.values.get(e.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const h=r.buildFunctionPattern();let x=!0;const p=new Uint8Array(r.getTotalCodewords());let w=0,C=0,v=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let I=0;I<u;I++){const k=x?u-1-I:I;for(let j=0;j<2;j++)h.get(N-j,k)||(v++,C<<=1,this.bitMatrix.get(N-j,k)&&(C|=1),v===8&&(p[w++]=C,v=0,C=0))}x=!x}if(w!==r.getTotalCodewords())throw new X;return p}remask(){if(this.parsedFormatInfo===null)return;const e=pn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let r=0,l=e.getWidth();r<l;r++)for(let u=r+1,h=e.getHeight();u<h;u++)e.get(r,u)!==e.get(u,r)&&(e.flip(u,r),e.flip(r,u))}}class wr{constructor(e,r){this.numDataCodewords=e,this.codewords=r}static getDataBlocks(e,r,l){if(e.length!==r.getTotalCodewords())throw new T;const u=r.getECBlocksForLevel(l);let h=0;const x=u.getECBlocks();for(const j of x)h+=j.getCount();const p=new Array(h);let w=0;for(const j of x)for(let V=0;V<j.getCount();V++){const Q=j.getDataCodewords(),rt=u.getECCodewordsPerBlock()+Q;p[w++]=new wr(Q,new Uint8Array(rt))}const C=p[0].codewords.length;let v=p.length-1;for(;v>=0&&p[v].codewords.length!==C;)v--;v++;const N=C-u.getECCodewordsPerBlock();let I=0;for(let j=0;j<N;j++)for(let V=0;V<w;V++)p[V].codewords[j]=e[I++];for(let j=v;j<w;j++)p[j].codewords[N]=e[I++];const k=p[0].codewords.length;for(let j=N;j<k;j++)for(let V=0;V<w;V++){const Q=V<v?j:j+1;p[V].codewords[Q]=e[I++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(O){O[O.TERMINATOR=0]="TERMINATOR",O[O.NUMERIC=1]="NUMERIC",O[O.ALPHANUMERIC=2]="ALPHANUMERIC",O[O.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",O[O.BYTE=4]="BYTE",O[O.ECI=5]="ECI",O[O.KANJI=6]="KANJI",O[O.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",O[O.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",O[O.HANZI=9]="HANZI"})(Wn||(Wn={}));class Bt{constructor(e,r,l,u){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=l,this.bits=u,Bt.FOR_BITS.set(u,this),Bt.FOR_VALUE.set(e,this)}static forBits(e){const r=Bt.FOR_BITS.get(e);if(r===void 0)throw new T;return r}getCharacterCountBits(e){const r=e.getVersionNumber();let l;return r<=9?l=0:r<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Bt))return!1;const r=e;return this.value===r.value}toString(){return this.stringValue}}Bt.FOR_BITS=new Map,Bt.FOR_VALUE=new Map,Bt.TERMINATOR=new Bt(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Bt.NUMERIC=new Bt(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Bt.ALPHANUMERIC=new Bt(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Bt.STRUCTURED_APPEND=new Bt(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Bt.BYTE=new Bt(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Bt.ECI=new Bt(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),Bt.KANJI=new Bt(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Bt.FNC1_FIRST_POSITION=new Bt(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Bt.FNC1_SECOND_POSITION=new Bt(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Bt.HANZI=new Bt(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ze{static decode(e,r,l,u){const h=new Fn(e);let x=new Ut;const p=new Array;let w=-1,C=-1;try{let v=null,N=!1,I;do{if(h.available()<4)I=Bt.TERMINATOR;else{const k=h.readBits(4);I=Bt.forBits(k)}switch(I){case Bt.TERMINATOR:break;case Bt.FNC1_FIRST_POSITION:case Bt.FNC1_SECOND_POSITION:N=!0;break;case Bt.STRUCTURED_APPEND:if(h.available()<16)throw new X;w=h.readBits(8),C=h.readBits(8);break;case Bt.ECI:const k=ze.parseECIValue(h);if(v=nt.getCharacterSetECIByValue(k),v===null)throw new X;break;case Bt.HANZI:const j=h.readBits(4),V=h.readBits(I.getCharacterCountBits(r));j===ze.GB2312_SUBSET&&ze.decodeHanziSegment(h,x,V);break;default:const Q=h.readBits(I.getCharacterCountBits(r));switch(I){case Bt.NUMERIC:ze.decodeNumericSegment(h,x,Q);break;case Bt.ALPHANUMERIC:ze.decodeAlphanumericSegment(h,x,Q,N);break;case Bt.BYTE:ze.decodeByteSegment(h,x,Q,v,p,u);break;case Bt.KANJI:ze.decodeKanjiSegment(h,x,Q);break;default:throw new X}break}}while(I!==Bt.TERMINATOR)}catch{throw new X}return new Qn(e,x.toString(),p.length===0?null:p,l===null?null:l.toString(),w,C)}static decodeHanziSegment(e,r,l){if(l*13>e.available())throw new X;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const x=e.readBits(13);let p=x/96<<8&4294967295|x%96;p<959?p+=41377:p+=42657,u[h]=p>>8&255,u[h+1]=p&255,h+=2,l--}try{r.append(It.decode(u,_t.GB2312))}catch(x){throw new X(x)}}static decodeKanjiSegment(e,r,l){if(l*13>e.available())throw new X;const u=new Uint8Array(2*l);let h=0;for(;l>0;){const x=e.readBits(13);let p=x/192<<8&4294967295|x%192;p<7936?p+=33088:p+=49472,u[h]=p>>8,u[h+1]=p,h+=2,l--}try{r.append(It.decode(u,_t.SHIFT_JIS))}catch(x){throw new X(x)}}static decodeByteSegment(e,r,l,u,h,x){if(8*l>e.available())throw new X;const p=new Uint8Array(l);for(let C=0;C<l;C++)p[C]=e.readBits(8);let w;u===null?w=_t.guessEncoding(p,x):w=u.getName();try{r.append(It.decode(p,w))}catch(C){throw new X(C)}h.push(p)}static toAlphaNumericChar(e){if(e>=ze.ALPHANUMERIC_CHARS.length)throw new X;return ze.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,r,l,u){const h=r.length();for(;l>1;){if(e.available()<11)throw new X;const x=e.readBits(11);r.append(ze.toAlphaNumericChar(Math.floor(x/45))),r.append(ze.toAlphaNumericChar(x%45)),l-=2}if(l===1){if(e.available()<6)throw new X;r.append(ze.toAlphaNumericChar(e.readBits(6)))}if(u)for(let x=h;x<r.length();x++)r.charAt(x)==="%"&&(x<r.length()-1&&r.charAt(x+1)==="%"?r.deleteCharAt(x+1):r.setCharAt(x,""))}static decodeNumericSegment(e,r,l){for(;l>=3;){if(e.available()<10)throw new X;const u=e.readBits(10);if(u>=1e3)throw new X;r.append(ze.toAlphaNumericChar(Math.floor(u/100))),r.append(ze.toAlphaNumericChar(Math.floor(u/10)%10)),r.append(ze.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(e.available()<7)throw new X;const u=e.readBits(7);if(u>=100)throw new X;r.append(ze.toAlphaNumericChar(Math.floor(u/10))),r.append(ze.toAlphaNumericChar(u%10))}else if(l===1){if(e.available()<4)throw new X;const u=e.readBits(4);if(u>=10)throw new X;r.append(ze.toAlphaNumericChar(u))}}static parseECIValue(e){const r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){const l=e.readBits(8);return(r&63)<<8&4294967295|l}if((r&224)===192){const l=e.readBits(16);return(r&31)<<16&4294967295|l}throw new X}}ze.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ze.GB2312_SUBSET=1;class Vo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const r=e[0];e[0]=e[2],e[2]=r}}class Er{constructor(){this.rsDecoder=new Ds(le.QR_CODE_FIELD_256)}decodeBooleanArray(e,r){return this.decodeBitMatrix(Gt.parseFromBooleanArray(e),r)}decodeBitMatrix(e,r){const l=new Ru(e);let u=null;try{return this.decodeBitMatrixParser(l,r)}catch(h){u=h}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const h=this.decodeBitMatrixParser(l,r);return h.setOther(new Vo(!0)),h}catch(h){throw u!==null?u:h}}decodeBitMatrixParser(e,r){const l=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),h=e.readCodewords(),x=wr.getDataBlocks(h,l,u);let p=0;for(const v of x)p+=v.getNumDataCodewords();const w=new Uint8Array(p);let C=0;for(const v of x){const N=v.getCodewords(),I=v.getNumDataCodewords();this.correctErrors(N,I);for(let k=0;k<I;k++)w[C++]=N[k]}return ze.decode(w,l,u,r)}correctErrors(e,r){const l=new Int32Array(e);try{this.rsDecoder.decode(l,e.length-r)}catch{throw new L}for(let u=0;u<r;u++)e[u]=l[u]}}class Fs extends Nt{constructor(e,r,l){super(e,r),this.estimatedModuleSize=l}aboutEquals(e,r,l){if(Math.abs(r-this.getY())<=e&&Math.abs(l-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,r,l){const u=(this.getX()+r)/2,h=(this.getY()+e)/2,x=(this.estimatedModuleSize+l)/2;return new Fs(u,h,x)}}class Xa{constructor(e,r,l,u,h,x,p){this.image=e,this.startX=r,this.startY=l,this.width=u,this.height=h,this.moduleSize=x,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,r=this.height,l=this.width,u=e+l,h=this.startY+r/2,x=new Int32Array(3),p=this.image;for(let w=0;w<r;w++){const C=h+((w&1)===0?Math.floor((w+1)/2):-Math.floor((w+1)/2));x[0]=0,x[1]=0,x[2]=0;let v=e;for(;v<u&&!p.get(v,C);)v++;let N=0;for(;v<u;){if(p.get(v,C))if(N===1)x[1]++;else if(N===2){if(this.foundPatternCross(x)){const I=this.handlePossibleCenter(x,C,v);if(I!==null)return I}x[0]=x[2],x[1]=1,x[2]=0,N=1}else x[++N]++;else N===1&&N++,x[N]++;v++}if(this.foundPatternCross(x)){const I=this.handlePossibleCenter(x,C,u);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new K}static centerFromEnd(e,r){return r-e[2]-e[1]/2}foundPatternCross(e){const r=this.moduleSize,l=r/2;for(let u=0;u<3;u++)if(Math.abs(r-e[u])>=l)return!1;return!0}crossCheckVertical(e,r,l,u){const h=this.image,x=h.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let w=e;for(;w>=0&&h.get(r,w)&&p[1]<=l;)p[1]++,w--;if(w<0||p[1]>l)return NaN;for(;w>=0&&!h.get(r,w)&&p[0]<=l;)p[0]++,w--;if(p[0]>l)return NaN;for(w=e+1;w<x&&h.get(r,w)&&p[1]<=l;)p[1]++,w++;if(w===x||p[1]>l)return NaN;for(;w<x&&!h.get(r,w)&&p[2]<=l;)p[2]++,w++;if(p[2]>l)return NaN;const C=p[0]+p[1]+p[2];return 5*Math.abs(C-u)>=2*u?NaN:this.foundPatternCross(p)?Xa.centerFromEnd(p,w):NaN}handlePossibleCenter(e,r,l){const u=e[0]+e[1]+e[2],h=Xa.centerFromEnd(e,l),x=this.crossCheckVertical(r,h,2*e[1],u);if(!isNaN(x)){const p=(e[0]+e[1]+e[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(p,x,h))return C.combineEstimate(x,h,p);const w=new Fs(h,x,p);this.possibleCenters.push(w),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(w)}return null}}class qi extends Nt{constructor(e,r,l,u){super(e,r),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,r,l){if(Math.abs(r-this.getY())<=e&&Math.abs(l-this.getX())<=e){const u=Math.abs(e-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(e,r,l){const u=this.count+1,h=(this.count*this.getX()+r)/u,x=(this.count*this.getY()+e)/u,p=(this.count*this.estimatedModuleSize+l)/u;return new qi(h,x,p,u)}}class Wa{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class an{constructor(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const r=e!=null&&e.get(Ct.TRY_HARDER)!==void 0,l=e!=null&&e.get(Ct.PURE_BARCODE)!==void 0,u=this.image,h=u.getHeight(),x=u.getWidth();let p=Math.floor(3*h/(4*an.MAX_MODULES));(p<an.MIN_SKIP||r)&&(p=an.MIN_SKIP);let w=!1;const C=new Int32Array(5);for(let N=p-1;N<h&&!w;N+=p){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let I=0;for(let k=0;k<x;k++)if(u.get(k,N))(I&1)===1&&I++,C[I]++;else if((I&1)===0)if(I===4)if(an.foundPatternCross(C)){if(this.handlePossibleCenter(C,N,k,l)===!0)if(p=2,this.hasSkipped===!0)w=this.haveMultiplyConfirmedCenters();else{const V=this.findRowSkip();V>C[2]&&(N+=V-C[2]-p,k=x-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,I=3;continue}I=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,I=3;else C[++I]++;else C[I]++;an.foundPatternCross(C)&&this.handlePossibleCenter(C,N,x,l)===!0&&(p=C[0],this.hasSkipped&&(w=this.haveMultiplyConfirmedCenters()))}const v=this.selectBestPatterns();return Nt.orderBestPatterns(v),new Wa(v)}static centerFromEnd(e,r){return r-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let r=0;for(let h=0;h<5;h++){const x=e[h];if(x===0)return!1;r+=x}if(r<7)return!1;const l=r/7,u=l/2;return Math.abs(l-e[0])<u&&Math.abs(l-e[1])<u&&Math.abs(3*l-e[2])<3*u&&Math.abs(l-e[3])<u&&Math.abs(l-e[4])<u}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,r,l,u){const h=this.getCrossCheckStateCount();let x=0;const p=this.image;for(;e>=x&&r>=x&&p.get(r-x,e-x);)h[2]++,x++;if(e<x||r<x)return!1;for(;e>=x&&r>=x&&!p.get(r-x,e-x)&&h[1]<=l;)h[1]++,x++;if(e<x||r<x||h[1]>l)return!1;for(;e>=x&&r>=x&&p.get(r-x,e-x)&&h[0]<=l;)h[0]++,x++;if(h[0]>l)return!1;const w=p.getHeight(),C=p.getWidth();for(x=1;e+x<w&&r+x<C&&p.get(r+x,e+x);)h[2]++,x++;if(e+x>=w||r+x>=C)return!1;for(;e+x<w&&r+x<C&&!p.get(r+x,e+x)&&h[3]<l;)h[3]++,x++;if(e+x>=w||r+x>=C||h[3]>=l)return!1;for(;e+x<w&&r+x<C&&p.get(r+x,e+x)&&h[4]<l;)h[4]++,x++;if(h[4]>=l)return!1;const v=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(v-u)<2*u&&an.foundPatternCross(h)}crossCheckVertical(e,r,l,u){const h=this.image,x=h.getHeight(),p=this.getCrossCheckStateCount();let w=e;for(;w>=0&&h.get(r,w);)p[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(r,w)&&p[1]<=l;)p[1]++,w--;if(w<0||p[1]>l)return NaN;for(;w>=0&&h.get(r,w)&&p[0]<=l;)p[0]++,w--;if(p[0]>l)return NaN;for(w=e+1;w<x&&h.get(r,w);)p[2]++,w++;if(w===x)return NaN;for(;w<x&&!h.get(r,w)&&p[3]<l;)p[3]++,w++;if(w===x||p[3]>=l)return NaN;for(;w<x&&h.get(r,w)&&p[4]<l;)p[4]++,w++;if(p[4]>=l)return NaN;const C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-u)>=2*u?NaN:an.foundPatternCross(p)?an.centerFromEnd(p,w):NaN}crossCheckHorizontal(e,r,l,u){const h=this.image,x=h.getWidth(),p=this.getCrossCheckStateCount();let w=e;for(;w>=0&&h.get(w,r);)p[2]++,w--;if(w<0)return NaN;for(;w>=0&&!h.get(w,r)&&p[1]<=l;)p[1]++,w--;if(w<0||p[1]>l)return NaN;for(;w>=0&&h.get(w,r)&&p[0]<=l;)p[0]++,w--;if(p[0]>l)return NaN;for(w=e+1;w<x&&h.get(w,r);)p[2]++,w++;if(w===x)return NaN;for(;w<x&&!h.get(w,r)&&p[3]<l;)p[3]++,w++;if(w===x||p[3]>=l)return NaN;for(;w<x&&h.get(w,r)&&p[4]<l;)p[4]++,w++;if(p[4]>=l)return NaN;const C=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(C-u)>=u?NaN:an.foundPatternCross(p)?an.centerFromEnd(p,w):NaN}handlePossibleCenter(e,r,l,u){const h=e[0]+e[1]+e[2]+e[3]+e[4];let x=an.centerFromEnd(e,l),p=this.crossCheckVertical(r,Math.floor(x),e[2],h);if(!isNaN(p)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(p),e[2],h),!isNaN(x)&&(!u||this.crossCheckDiagonal(Math.floor(p),Math.floor(x),e[2],h)))){const w=h/7;let C=!1;const v=this.possibleCenters;for(let N=0,I=v.length;N<I;N++){const k=v[N];if(k.aboutEquals(w,p,x)){v[N]=k.combineEstimate(p,x,w),C=!0;break}}if(!C){const N=new qi(x,p,w);v.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const l of this.possibleCenters)if(l.getCount()>=an.CENTER_QUORUM)if(r==null)r=l;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-l.getX())-Math.abs(r.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,r=0;const l=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=an.CENTER_QUORUM&&(e++,r+=x.getEstimatedModuleSize());if(e<3)return!1;const u=r/l;let h=0;for(const x of this.possibleCenters)h+=Math.abs(x.getEstimatedModuleSize()-u);return h<=.05*r}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new K;const r=this.possibleCenters;let l;if(e>3){let u=0,h=0;for(const w of this.possibleCenters){const C=w.getEstimatedModuleSize();u+=C,h+=C*C}l=u/e;let x=Math.sqrt(h/e-l*l);r.sort((w,C)=>{const v=Math.abs(C.getEstimatedModuleSize()-l),N=Math.abs(w.getEstimatedModuleSize()-l);return v<N?-1:v>N?1:0});const p=Math.max(.2*l,x);for(let w=0;w<r.length&&r.length>3;w++){const C=r[w];Math.abs(C.getEstimatedModuleSize()-l)>p&&(r.splice(w,1),w--)}}if(r.length>3){let u=0;for(const h of r)u+=h.getEstimatedModuleSize();l=u/r.length,r.sort((h,x)=>{if(x.getCount()===h.getCount()){const p=Math.abs(x.getEstimatedModuleSize()-l),w=Math.abs(h.getEstimatedModuleSize()-l);return p<w?1:p>w?-1:0}else return x.getCount()-h.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}an.CENTER_QUORUM=2,an.MIN_SKIP=3,an.MAX_MODULES=57;class ya{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(Ct.NEED_RESULT_POINT_CALLBACK);const l=new an(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(l)}processFinderPatternInfo(e){const r=e.getTopLeft(),l=e.getTopRight(),u=e.getBottomLeft(),h=this.calculateModuleSize(r,l,u);if(h<1)throw new K("No pattern found in proccess finder.");const x=ya.computeDimension(r,l,u,h),p=Lt.getProvisionalVersionForDimension(x),w=p.getDimensionForVersion()-7;let C=null;if(p.getAlignmentPatternCenters().length>0){const k=l.getX()-r.getX()+u.getX(),j=l.getY()-r.getY()+u.getY(),V=1-3/w,Q=Math.floor(r.getX()+V*(k-r.getX())),rt=Math.floor(r.getY()+V*(j-r.getY()));for(let St=4;St<=16;St<<=1)try{C=this.findAlignmentInRegion(h,Q,rt,St);break}catch(vt){if(!(vt instanceof K))throw vt}}const v=ya.createTransform(r,l,u,C,x),N=ya.sampleGrid(this.image,v,x);let I;return C===null?I=[u,r,l]:I=[u,r,l,C],new gr(N,I)}static createTransform(e,r,l,u,h){const x=h-3.5;let p,w,C,v;return u!==null?(p=u.getX(),w=u.getY(),C=x-3,v=C):(p=r.getX()-e.getX()+l.getX(),w=r.getY()-e.getY()+l.getY(),C=x,v=x),Nn.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,C,v,3.5,x,e.getX(),e.getY(),r.getX(),r.getY(),p,w,l.getX(),l.getY())}static sampleGrid(e,r,l){return In.getInstance().sampleGridWithTransform(e,l,l,r)}static computeDimension(e,r,l,u){const h=se.round(Nt.distance(e,r)/u),x=se.round(Nt.distance(e,l)/u);let p=Math.floor((h+x)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new K("Dimensions could be not found.")}return p}calculateModuleSize(e,r,l){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,l))/2}calculateModuleSizeOneWay(e,r){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(e,r,l,u){let h=this.sizeOfBlackWhiteBlackRun(e,r,l,u),x=1,p=e-(l-e);p<0?(x=e/(e-p),p=0):p>=this.image.getWidth()&&(x=(this.image.getWidth()-1-e)/(p-e),p=this.image.getWidth()-1);let w=Math.floor(r-(u-r)*x);return x=1,w<0?(x=r/(r-w),w=0):w>=this.image.getHeight()&&(x=(this.image.getHeight()-1-r)/(w-r),w=this.image.getHeight()-1),p=Math.floor(e+(p-e)*x),h+=this.sizeOfBlackWhiteBlackRun(e,r,p,w),h-1}sizeOfBlackWhiteBlackRun(e,r,l,u){const h=Math.abs(u-r)>Math.abs(l-e);if(h){let k=e;e=r,r=k,k=l,l=u,u=k}const x=Math.abs(l-e),p=Math.abs(u-r);let w=-x/2;const C=e<l?1:-1,v=r<u?1:-1;let N=0;const I=l+C;for(let k=e,j=r;k!==I;k+=C){const V=h?j:k,Q=h?k:j;if(N===1===this.image.get(V,Q)){if(N===2)return se.distance(k,j,e,r);N++}if(w+=p,w>0){if(j===u)break;j+=v,w-=x}}return N===2?se.distance(l+C,u,e,r):NaN}findAlignmentInRegion(e,r,l,u){const h=Math.floor(u*e),x=Math.max(0,r-h),p=Math.min(this.image.getWidth()-1,r+h);if(p-x<e*3)throw new K("Alignment top exceeds estimated module size.");const w=Math.max(0,l-h),C=Math.min(this.image.getHeight()-1,l+h);if(C-w<e*3)throw new K("Alignment bottom exceeds estimated module size.");return new Xa(this.image,x,w,p-x,C-w,e,this.resultPointCallback).find()}}class ki{constructor(){this.decoder=new Er}getDecoder(){return this.decoder}decode(e,r){let l,u;if(r!=null&&r.get(Ct.PURE_BARCODE)!==void 0){const w=ki.extractPureBits(e.getBlackMatrix());l=this.decoder.decodeBitMatrix(w,r),u=ki.NO_POINTS}else{const w=new ya(e.getBlackMatrix()).detect(r);l=this.decoder.decodeBitMatrix(w.getBits(),r),u=w.getPoints()}l.getOther()instanceof Vo&&l.getOther().applyMirroredCorrection(u);const h=new bt(l.getText(),l.getRawBytes(),void 0,u,At.QR_CODE,void 0),x=l.getByteSegments();x!==null&&h.putMetadata(Qt.BYTE_SEGMENTS,x);const p=l.getECLevel();return p!==null&&h.putMetadata(Qt.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(h.putMetadata(Qt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),h.putMetadata(Qt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),h}reset(){}static extractPureBits(e){const r=e.getTopLeftOnBit(),l=e.getBottomRightOnBit();if(r===null||l===null)throw new K;const u=this.moduleSize(r,e);let h=r[1],x=l[1],p=r[0],w=l[0];if(p>=w||h>=x)throw new K;if(x-h!==w-p&&(w=p+(x-h),w>=e.getWidth()))throw new K;const C=Math.round((w-p+1)/u),v=Math.round((x-h+1)/u);if(C<=0||v<=0)throw new K;if(v!==C)throw new K;const N=Math.floor(u/2);h+=N,p+=N;const I=p+Math.floor((C-1)*u)-w;if(I>0){if(I>N)throw new K;p-=I}const k=h+Math.floor((v-1)*u)-x;if(k>0){if(k>N)throw new K;h-=k}const j=new Gt(C,v);for(let V=0;V<v;V++){const Q=h+Math.floor(V*u);for(let rt=0;rt<C;rt++)e.get(p+Math.floor(rt*u),Q)&&j.set(rt,V)}return j}static moduleSize(e,r){const l=r.getHeight(),u=r.getWidth();let h=e[0],x=e[1],p=!0,w=0;for(;h<u&&x<l;){if(p!==r.get(h,x)){if(++w===5)break;p=!p}h++,x++}if(h===u||x===l)throw new K;return(h-e[0])/7}}ki.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(e){return se.sum(e)}static toIntArray(e){if(e==null||!e.length)return Pt.EMPTY_INT_ARRAY;const r=new Int32Array(e.length);let l=0;for(const u of e)r[l++]=u;return r}static getCodeword(e){const r=q.binarySearch(Pt.SYMBOL_TABLE,e&262143);return r<0?-1:(Pt.CODEWORD_TABLE[r]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Fi{constructor(e,r){this.bits=e,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Wt{static detectMultiple(e,r,l){let u=e.getBlackMatrix(),h=Wt.detect(l,u);return h.length||(u=u.clone(),u.rotate180(),h=Wt.detect(l,u)),new Fi(u,h)}static detect(e,r){const l=new Array;let u=0,h=0,x=!1;for(;u<r.getHeight();){const p=Wt.findVertices(r,u,h);if(p[0]==null&&p[3]==null){if(!x)break;x=!1,h=0;for(const w of l)w[1]!=null&&(u=Math.trunc(Math.max(u,w[1].getY()))),w[3]!=null&&(u=Math.max(u,Math.trunc(w[3].getY())));u+=Wt.ROW_STEP;continue}if(x=!0,l.push(p),!e)break;p[2]!=null?(h=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(h=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}return l}static findVertices(e,r,l){const u=e.getHeight(),h=e.getWidth(),x=new Array(8);return Wt.copyToResult(x,Wt.findRowsWithPattern(e,u,h,r,l,Wt.START_PATTERN),Wt.INDEXES_START_PATTERN),x[4]!=null&&(l=Math.trunc(x[4].getX()),r=Math.trunc(x[4].getY())),Wt.copyToResult(x,Wt.findRowsWithPattern(e,u,h,r,l,Wt.STOP_PATTERN),Wt.INDEXES_STOP_PATTERN),x}static copyToResult(e,r,l){for(let u=0;u<l.length;u++)e[l[u]]=r[u]}static findRowsWithPattern(e,r,l,u,h,x){const p=new Array(4);let w=!1;const C=new Int32Array(x.length);for(;u<r;u+=Wt.ROW_STEP){let N=Wt.findGuardPattern(e,h,u,l,!1,x,C);if(N!=null){for(;u>0;){const I=Wt.findGuardPattern(e,h,--u,l,!1,x,C);if(I!=null)N=I;else{u++;break}}p[0]=new Nt(N[0],u),p[1]=new Nt(N[1],u),w=!0;break}}let v=u+1;if(w){let N=0,I=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;v<r;v++){const k=Wt.findGuardPattern(e,I[0],v,l,!1,x,C);if(k!=null&&Math.abs(I[0]-k[0])<Wt.MAX_PATTERN_DRIFT&&Math.abs(I[1]-k[1])<Wt.MAX_PATTERN_DRIFT)I=k,N=0;else{if(N>Wt.SKIPPED_ROW_COUNT_MAX)break;N++}}v-=N+1,p[2]=new Nt(I[0],v),p[3]=new Nt(I[1],v)}return v-u<Wt.BARCODE_MIN_HEIGHT&&q.fill(p,null),p}static findGuardPattern(e,r,l,u,h,x,p){q.fillWithin(p,0,p.length,0);let w=r,C=0;for(;e.get(w,l)&&w>0&&C++<Wt.MAX_PIXEL_DRIFT;)w--;let v=w,N=0,I=x.length;for(let k=h;v<u;v++)if(e.get(v,l)!==k)p[N]++;else{if(N===I-1){if(Wt.patternMatchVariance(p,x,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE)return new Int32Array([w,v]);w+=p[0]+p[1],P.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,k=!k}return N===I-1&&Wt.patternMatchVariance(p,x,Wt.MAX_INDIVIDUAL_VARIANCE)<Wt.MAX_AVG_VARIANCE?new Int32Array([w,v-1]):null}static patternMatchVariance(e,r,l){let u=e.length,h=0,x=0;for(let C=0;C<u;C++)h+=e[C],x+=r[C];if(h<x)return 1/0;let p=h/x;l*=p;let w=0;for(let C=0;C<u;C++){let v=e[C],N=r[C]*p,I=v>N?v-N:N-v;if(I>l)return 1/0;w+=I}return w/h}}Wt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Wt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Wt.MAX_AVG_VARIANCE=.42,Wt.MAX_INDIVIDUAL_VARIANCE=.8,Wt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Wt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Wt.MAX_PIXEL_DRIFT=3,Wt.MAX_PATTERN_DRIFT=5,Wt.SKIPPED_ROW_COUNT_MAX=25,Wt.ROW_STEP=5,Wt.BARCODE_MIN_HEIGHT=10;class Xe{constructor(e,r){if(r.length===0)throw new T;this.field=e;let l=r.length;if(l>1&&r[0]===0){let u=1;for(;u<l&&r[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),P.arraycopy(r,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let u=0;for(let h of this.coefficients)u=this.field.add(u,h);return u}let r=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)r=this.field.add(this.field.multiply(e,r),this.coefficients[u]);return r}add(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,l=e.coefficients;if(r.length>l.length){let x=r;r=l,l=x}let u=new Int32Array(l.length),h=l.length-r.length;P.arraycopy(l,0,u,0,h);for(let x=h;x<l.length;x++)u[x]=this.field.add(r[x-h],l[x]);return new Xe(this.field,u)}subtract(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Xe?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Xe(this.field,new Int32Array([0]));let r=this.coefficients,l=r.length,u=e.coefficients,h=u.length,x=new Int32Array(l+h-1);for(let p=0;p<l;p++){let w=r[p];for(let C=0;C<h;C++)x[p+C]=this.field.add(x[p+C],this.field.multiply(w,u[C]))}return new Xe(this.field,x)}negative(){let e=this.coefficients.length,r=new Int32Array(e);for(let l=0;l<e;l++)r[l]=this.field.subtract(0,this.coefficients[l]);return new Xe(this.field,r)}multiplyScalar(e){if(e===0)return new Xe(this.field,new Int32Array([0]));if(e===1)return this;let r=this.coefficients.length,l=new Int32Array(r);for(let u=0;u<r;u++)l[u]=this.field.multiply(this.coefficients[u],e);return new Xe(this.field,l)}multiplyByMonomial(e,r){if(e<0)throw new T;if(r===0)return new Xe(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+e);for(let h=0;h<l;h++)u[h]=this.field.multiply(this.coefficients[h],r);return new Xe(this.field,u)}toString(){let e=new Ut;for(let r=this.getDegree();r>=0;r--){let l=this.getCoefficient(r);l!==0&&(l<0?(e.append(" - "),l=-l):e.length()>0&&e.append(" + "),(r===0||l!==1)&&e.append(l),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()}}class Qi{add(e,r){return(e+r)%this.modulus}subtract(e,r){return(this.modulus+e-r)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new T;return this.logTable[e]}inverse(e){if(e===0)throw new Ga;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ps extends Qi{constructor(e,r){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let l=1;for(let u=0;u<e;u++)this.expTable[u]=l,l=l*r%e;for(let u=0;u<e-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Xe(this,new Int32Array([0])),this.one=new Xe(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,r){if(e<0)throw new T;if(r===0)return this.zero;let l=new Int32Array(e+1);return l[0]=r,new Xe(this,l)}}Ps.PDF417_GF=new Ps(Pt.NUMBER_OF_CODEWORDS,3);class Us{constructor(){this.field=Ps.PDF417_GF}decode(e,r,l){let u=new Xe(this.field,e),h=new Int32Array(r),x=!1;for(let j=r;j>0;j--){let V=u.evaluateAt(this.field.exp(j));h[r-j]=V,V!==0&&(x=!0)}if(!x)return 0;let p=this.field.getOne();if(l!=null)for(const j of l){let V=this.field.exp(e.length-1-j),Q=new Xe(this.field,new Int32Array([this.field.subtract(0,V),1]));p=p.multiply(Q)}let w=new Xe(this.field,h),C=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),w,r),v=C[0],N=C[1],I=this.findErrorLocations(v),k=this.findErrorMagnitudes(N,v,I);for(let j=0;j<I.length;j++){let V=e.length-1-this.field.log(I[j]);if(V<0)throw L.getChecksumInstance();e[V]=this.field.subtract(e[V],k[j])}return I.length}runEuclideanAlgorithm(e,r,l){if(e.getDegree()<r.getDegree()){let I=e;e=r,r=I}let u=e,h=r,x=this.field.getZero(),p=this.field.getOne();for(;h.getDegree()>=Math.round(l/2);){let I=u,k=x;if(u=h,x=p,u.isZero())throw L.getChecksumInstance();h=I;let j=this.field.getZero(),V=u.getCoefficient(u.getDegree()),Q=this.field.inverse(V);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){let rt=h.getDegree()-u.getDegree(),St=this.field.multiply(h.getCoefficient(h.getDegree()),Q);j=j.add(this.field.buildMonomial(rt,St)),h=h.subtract(u.multiplyByMonomial(rt,St))}p=j.multiply(x).subtract(k).negative()}let w=p.getCoefficient(0);if(w===0)throw L.getChecksumInstance();let C=this.field.inverse(w),v=p.multiply(C),N=h.multiply(C);return[v,N]}findErrorLocations(e){let r=e.getDegree(),l=new Int32Array(r),u=0;for(let h=1;h<this.field.getSize()&&u<r;h++)e.evaluateAt(h)===0&&(l[u]=this.field.inverse(h),u++);if(u!==r)throw L.getChecksumInstance();return l}findErrorMagnitudes(e,r,l){let u=r.getDegree(),h=new Int32Array(u);for(let C=1;C<=u;C++)h[u-C]=this.field.multiply(C,r.getCoefficient(C));let x=new Xe(this.field,h),p=l.length,w=new Int32Array(p);for(let C=0;C<p;C++){let v=this.field.inverse(l[C]),N=this.field.subtract(0,e.evaluateAt(v)),I=this.field.inverse(x.evaluateAt(v));w[C]=this.field.multiply(N,I)}return w}}class Ki{constructor(e,r,l,u,h){e instanceof Ki?this.constructor_2(e):this.constructor_1(e,r,l,u,h)}constructor_1(e,r,l,u,h){const x=r==null||l==null,p=u==null||h==null;if(x&&p)throw new K;x?(r=new Nt(0,u.getY()),l=new Nt(0,h.getY())):p&&(u=new Nt(e.getWidth()-1,r.getY()),h=new Nt(e.getWidth()-1,l.getY())),this.image=e,this.topLeft=r,this.bottomLeft=l,this.topRight=u,this.bottomRight=h,this.minX=Math.trunc(Math.min(r.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),h.getX())),this.minY=Math.trunc(Math.min(r.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),h.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,r){return e==null?r:r==null?e:new Ki(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(e,r,l){let u=this.topLeft,h=this.bottomLeft,x=this.topRight,p=this.bottomRight;if(e>0){let w=l?this.topLeft:this.topRight,C=Math.trunc(w.getY()-e);C<0&&(C=0);let v=new Nt(w.getX(),C);l?u=v:x=v}if(r>0){let w=l?this.bottomLeft:this.bottomRight,C=Math.trunc(w.getY()+r);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let v=new Nt(w.getX(),C);l?h=v:p=v}return new Ki(this.image,u,h,x,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Sr{constructor(e,r,l,u){this.columnCount=e,this.errorCorrectionLevel=u,this.rowCountUpperPart=r,this.rowCountLowerPart=l,this.rowCount=r+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ji{constructor(){this.buffer=""}static form(e,r){let l=-1;function u(x,p,w,C,v,N){if(x==="%%")return"%";if(r[++l]===void 0)return;x=C?parseInt(C.substr(1)):void 0;let I=v?parseInt(v.substr(1)):void 0,k;switch(N){case"s":k=r[l];break;case"c":k=r[l][0];break;case"f":k=parseFloat(r[l]).toFixed(x);break;case"p":k=parseFloat(r[l]).toPrecision(x);break;case"e":k=parseFloat(r[l]).toExponential(x);break;case"x":k=parseInt(r[l]).toString(I||16);break;case"d":k=parseFloat(parseInt(r[l],I||10).toPrecision(x)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let j=parseInt(w),V=w&&w[0]+""=="0"?"0":" ";for(;k.length<j;)k=p!==void 0?k+V:V+k;return k}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(h,u)}format(e,...r){this.buffer+=Ji.form(e,r)}toString(){return this.buffer}}class Za{constructor(e){this.boundingBox=new Ki(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let r=this.getCodeword(e);if(r!=null)return r;for(let l=1;l<Za.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(e)-l;if(u>=0&&(r=this.codewords[u],r!=null)||(u=this.imageRowToCodewordIndex(e)+l,u<this.codewords.length&&(r=this.codewords[u],r!=null)))return r}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ji;let r=0;for(const l of this.codewords){if(l==null){e.format("%3d:    |   %n",r++);continue}e.format("%3d: %3d|%3d%n",r++,l.getRowNumber(),l.getValue())}return e.toString()}}Za.MAX_NEARBY_DISTANCE=5;class un{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)}getValue(){let e=-1,r=new Array;for(const[l,u]of this.values.entries()){const h={getKey:()=>l,getValue:()=>u};h.getValue()>e?(e=h.getValue(),r=[],r.push(h.getKey())):h.getValue()===e&&r.push(h.getKey())}return Pt.toIntArray(r)}getConfidence(e){return this.values.get(e)}}class $i extends Za{constructor(e,r){super(e),this._isLeft=r}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,e);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=-1,C=1,v=0;for(let N=x;N<p;N++){if(r[N]==null)continue;let I=r[N],k=I.getRowNumber()-w;if(k===0)v++;else if(k===1)C=Math.max(C,v),v=1,w=I.getRowNumber();else if(k<0||I.getRowNumber()>=e.getRowCount()||k>N)r[N]=null;else{let j;C>2?j=(C-2)*k:j=k;let V=j>=N;for(let Q=1;Q<=j&&!V;Q++)V=r[N-Q]!=null;V?r[N]=null:(w=I.getRowNumber(),v=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let r=new Int32Array(e.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=r.length)continue;r[u]++}return r}adjustIncompleteIndicatorColumnRowNumbers(e){let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),u=this._isLeft?r.getBottomLeft():r.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),x=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),w=-1;for(let C=h;C<x;C++){if(p[C]==null)continue;let v=p[C];v.setRowNumberAsRowIndicatorColumn();let N=v.getRowNumber()-w;N===0||(N===1?w=v.getRowNumber():v.getRowNumber()>=e.getRowCount()?p[C]=null:w=v.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),r=new un,l=new un,u=new un,h=new un;for(let p of e){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let w=p.getValue()%30,C=p.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(w*3+1);break;case 1:h.setValue(w/3),u.setValue(w%3);break;case 2:r.setValue(w+1);break}}if(r.getValue().length===0||l.getValue().length===0||u.getValue().length===0||h.getValue().length===0||r.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let x=new Sr(r.getValue()[0],l.getValue()[0],u.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(e,x),x}removeIncorrectCodewords(e,r){for(let l=0;l<e.length;l++){let u=e[l];if(e[l]==null)continue;let h=u.getValue()%30,x=u.getRowNumber();if(x>r.getRowCount()){e[l]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:h*3+1!==r.getRowCountUpperPart()&&(e[l]=null);break;case 1:(Math.trunc(h/3)!==r.getErrorCorrectionLevel()||h%3!==r.getRowCountLowerPart())&&(e[l]=null);break;case 2:h+1!==r.getColumnCount()&&(e[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ta{constructor(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Pt.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let l=this.detectionResultColumns[r].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(r,u,l))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<e.length;l++)if(e[l]!=null&&r[l]!=null&&e[l].getRowNumber()===r[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let h=this.detectionResultColumns[u].getCodewords()[l];h!=null&&(h.setRowNumber(e[l].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<r.length;l++){if(r[l]==null)continue;let u=r[l].getRowNumber(),h=0;for(let x=this.barcodeColumnCount+1;x>0&&h<this.ADJUST_ROW_NUMBER_SKIP;x--){let p=this.detectionResultColumns[x].getCodewords()[l];p!=null&&(h=ta.adjustRowNumberIfValid(u,h,p),p.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,r=this.detectionResultColumns[0].getCodewords();for(let l=0;l<r.length;l++){if(r[l]==null)continue;let u=r[l].getRowNumber(),h=0;for(let x=1;x<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;x++){let p=this.detectionResultColumns[x].getCodewords()[l];p!=null&&(h=ta.adjustRowNumberIfValid(u,h,p),p.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,r,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(e)?(l.setRowNumber(e),r=0):++r),r}adjustRowNumbers(e,r,l){if(!this.detectionResultColumns[e-1])return;let u=l[r],h=this.detectionResultColumns[e-1].getCodewords(),x=h;this.detectionResultColumns[e+1]!=null&&(x=this.detectionResultColumns[e+1].getCodewords());let p=new Array(14);p[2]=h[r],p[3]=x[r],r>0&&(p[0]=l[r-1],p[4]=h[r-1],p[5]=x[r-1]),r>1&&(p[8]=l[r-2],p[10]=h[r-2],p[11]=x[r-2]),r<l.length-1&&(p[1]=l[r+1],p[6]=h[r+1],p[7]=x[r+1]),r<l.length-2&&(p[9]=l[r+2],p[12]=h[r+2],p[13]=x[r+2]);for(let w of p)if(ta.adjustRowNumber(u,w))return}static adjustRowNumber(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,r){this.detectionResultColumns[e]=r}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Ji;for(let l=0;l<e.getCodewords().length;l++){r.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){r.format("    |   ");continue}let h=this.detectionResultColumns[u].getCodewords()[l];if(h==null){r.format("    |   ");continue}r.format(" %3d|%3d",h.getRowNumber(),h.getValue())}r.format("%n")}return r.toString()}}class Pi{constructor(e,r,l,u){this.rowNumber=Pi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Pi.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Pi.BARCODE_ROW_UNKNOWN=-1;class Pn{static initialize(){for(let e=0;e<Pt.SYMBOL_TABLE.length;e++){let r=Pt.SYMBOL_TABLE[e],l=r&1;for(let u=0;u<Pt.BARS_IN_MODULE;u++){let h=0;for(;(r&1)===l;)h+=1,r>>=1;l=r&1,Pn.RATIOS_TABLE[e]||(Pn.RATIOS_TABLE[e]=new Array(Pt.BARS_IN_MODULE)),Pn.RATIOS_TABLE[e][Pt.BARS_IN_MODULE-u-1]=Math.fround(h/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let r=Pn.getDecodedCodewordValue(Pn.sampleBitCounts(e));return r!==-1?r:Pn.getClosestDecodedValue(e)}static sampleBitCounts(e){let r=se.sum(e),l=new Int32Array(Pt.BARS_IN_MODULE),u=0,h=0;for(let x=0;x<Pt.MODULES_IN_CODEWORD;x++){let p=r/(2*Pt.MODULES_IN_CODEWORD)+x*r/Pt.MODULES_IN_CODEWORD;h+e[u]<=p&&(h+=e[u],u++),l[u]++}return l}static getDecodedCodewordValue(e){let r=Pn.getBitValue(e);return Pt.getCodeword(r)===-1?-1:r}static getBitValue(e){let r=0;for(let l=0;l<e.length;l++)for(let u=0;u<e[l];u++)r=r<<1|(l%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(e){let r=se.sum(e),l=new Array(Pt.BARS_IN_MODULE);if(r>1)for(let x=0;x<l.length;x++)l[x]=Math.fround(e[x]/r);let u=Rs.MAX_VALUE,h=-1;this.bSymbolTableReady||Pn.initialize();for(let x=0;x<Pn.RATIOS_TABLE.length;x++){let p=0,w=Pn.RATIOS_TABLE[x];for(let C=0;C<Pt.BARS_IN_MODULE;C++){let v=Math.fround(w[C]-l[C]);if(p+=Math.fround(v*v),p>=u)break}p<u&&(u=p,h=Pt.SYMBOL_TABLE[x])}return h}}Pn.bSymbolTableReady=!1,Pn.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(O=>new Array(Pt.BARS_IN_MODULE));class Cr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class _r{static parseLong(e,r=void 0){return parseInt(e,r)}}class qa extends b{}qa.kind="NullPointerException";class vr{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,r,l){if(e==null)throw new qa;if(r<0||r>e.length||l<0||r+l>e.length||r+l<0)throw new U;if(l===0)return;for(let u=0;u<l;u++)this.write(e[r+u])}flush(){}close(){}}class Yo extends b{}class Lu extends vr{constructor(e=32){if(super(),this.count=0,e<0)throw new T("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let l=this.buf.length<<1;if(l-e<0&&(l=e),l<0){if(e<0)throw new Yo;l=at.MAX_VALUE}this.buf=q.copyOfUint8Array(this.buf,l)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,r,l){if(r<0||r>e.length||l<0||r+l-e.length>0)throw new U;this.ensureCapacity(this.count+l),P.arraycopy(e,r,this.buf,this.count,l),this.count+=l}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return q.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var ye;(function(O){O[O.ALPHA=0]="ALPHA",O[O.LOWER=1]="LOWER",O[O.MIXED=2]="MIXED",O[O.PUNCT=3]="PUNCT",O[O.ALPHA_SHIFT=4]="ALPHA_SHIFT",O[O.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ye||(ye={}));function Go(){if(typeof window<"u")return window.BigInt||null;if(typeof qc<"u")return qc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Qa;function ea(O){if(typeof Qa>"u"&&(Qa=Go()),Qa===null)throw new Error("BigInt is not supported!");return Qa(O)}function Bu(){let O=[];O[0]=ea(1);let e=ea(900);O[1]=e;for(let r=2;r<16;r++)O[r]=O[r-1]*e;return O}class ct{static decode(e,r){let l=new Ut(""),u=nt.ISO8859_1;l.enableDecoding(u);let h=1,x=e[h++],p=new Cr;for(;h<e[0];){switch(x){case ct.TEXT_COMPACTION_MODE_LATCH:h=ct.textCompaction(e,h,l);break;case ct.BYTE_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH_6:h=ct.byteCompaction(x,e,u,h,l);break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(e[h++]);break;case ct.NUMERIC_COMPACTION_MODE_LATCH:h=ct.numericCompaction(e,h,l);break;case ct.ECI_CHARSET:nt.getCharacterSetECIByValue(e[h++]);break;case ct.ECI_GENERAL_PURPOSE:h+=2;break;case ct.ECI_USER_DEFINED:h++;break;case ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=ct.decodeMacroBlock(e,h,p);break;case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ct.MACRO_PDF417_TERMINATOR:throw new X;default:h--,h=ct.textCompaction(e,h,l);break}if(h<e.length)x=e[h++];else throw X.getFormatInstance()}if(l.length()===0)throw X.getFormatInstance();let w=new Qn(null,l.toString(),null,r);return w.setOther(p),w}static decodeMacroBlock(e,r,l){if(r+ct.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw X.getFormatInstance();let u=new Int32Array(ct.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<ct.NUMBER_OF_SEQUENCE_CODEWORDS;p++,r++)u[p]=e[r];l.setSegmentIndex(at.parseInt(ct.decodeBase900toBase10(u,ct.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new Ut;r=ct.textCompaction(e,r,h),l.setFileId(h.toString());let x=-1;for(e[r]===ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=r+1);r<e[0];)switch(e[r]){case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case ct.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new Ut;r=ct.textCompaction(e,r+1,p),l.setFileName(p.toString());break;case ct.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let w=new Ut;r=ct.textCompaction(e,r+1,w),l.setSender(w.toString());break;case ct.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new Ut;r=ct.textCompaction(e,r+1,C),l.setAddressee(C.toString());break;case ct.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let v=new Ut;r=ct.numericCompaction(e,r+1,v),l.setSegmentCount(at.parseInt(v.toString()));break;case ct.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new Ut;r=ct.numericCompaction(e,r+1,N),l.setTimestamp(_r.parseLong(N.toString()));break;case ct.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new Ut;r=ct.numericCompaction(e,r+1,I),l.setChecksum(at.parseInt(I.toString()));break;case ct.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new Ut;r=ct.numericCompaction(e,r+1,k),l.setFileSize(_r.parseLong(k.toString()));break;default:throw X.getFormatInstance()}break;case ct.MACRO_PDF417_TERMINATOR:r++,l.setLastSegment(!0);break;default:throw X.getFormatInstance()}if(x!==-1){let p=r-x;l.isLastSegment()&&p--,l.setOptionalData(q.copyOfRange(e,x,x+p))}return r}static textCompaction(e,r,l){let u=new Int32Array((e[0]-r)*2),h=new Int32Array((e[0]-r)*2),x=0,p=!1;for(;r<e[0]&&!p;){let w=e[r++];if(w<ct.TEXT_COMPACTION_MODE_LATCH)u[x]=w/30,u[x+1]=w%30,x+=2;else switch(w){case ct.TEXT_COMPACTION_MODE_LATCH:u[x++]=ct.TEXT_COMPACTION_MODE_LATCH;break;case ct.BYTE_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH_6:case ct.NUMERIC_COMPACTION_MODE_LATCH:case ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ct.MACRO_PDF417_TERMINATOR:r--,p=!0;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[x]=ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,w=e[r++],h[x]=w,x++;break}}return ct.decodeTextCompaction(u,h,x,l),r}static decodeTextCompaction(e,r,l,u){let h=ye.ALPHA,x=ye.ALPHA,p=0;for(;p<l;){let w=e[p],C="";switch(h){case ye.ALPHA:if(w<26)C=String.fromCharCode(65+w);else switch(w){case 26:C=" ";break;case ct.LL:h=ye.LOWER;break;case ct.ML:h=ye.MIXED;break;case ct.PS:x=h,h=ye.PUNCT_SHIFT;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[p]);break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break;case ye.LOWER:if(w<26)C=String.fromCharCode(97+w);else switch(w){case 26:C=" ";break;case ct.AS:x=h,h=ye.ALPHA_SHIFT;break;case ct.ML:h=ye.MIXED;break;case ct.PS:x=h,h=ye.PUNCT_SHIFT;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[p]);break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break;case ye.MIXED:if(w<ct.PL)C=ct.MIXED_CHARS[w];else switch(w){case ct.PL:h=ye.PUNCT;break;case 26:C=" ";break;case ct.LL:h=ye.LOWER;break;case ct.AL:h=ye.ALPHA;break;case ct.PS:x=h,h=ye.PUNCT_SHIFT;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[p]);break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break;case ye.PUNCT:if(w<ct.PAL)C=ct.PUNCT_CHARS[w];else switch(w){case ct.PAL:h=ye.ALPHA;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[p]);break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break;case ye.ALPHA_SHIFT:if(h=x,w<26)C=String.fromCharCode(65+w);else switch(w){case 26:C=" ";break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break;case ye.PUNCT_SHIFT:if(h=x,w<ct.PAL)C=ct.PUNCT_CHARS[w];else switch(w){case ct.PAL:h=ye.ALPHA;break;case ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(r[p]);break;case ct.TEXT_COMPACTION_MODE_LATCH:h=ye.ALPHA;break}break}C!==""&&u.append(C),p++}}static byteCompaction(e,r,l,u,h){let x=new Lu,p=0,w=0,C=!1;switch(e){case ct.BYTE_COMPACTION_MODE_LATCH:let v=new Int32Array(6),N=r[u++];for(;u<r[0]&&!C;)switch(v[p++]=N,w=900*w+N,N=r[u++],N){case ct.TEXT_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH:case ct.NUMERIC_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH_6:case ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ct.MACRO_PDF417_TERMINATOR:u--,C=!0;break;default:if(p%5===0&&p>0){for(let I=0;I<6;++I)x.write(Number(ea(w)>>ea(8*(5-I))));w=0,p=0}break}u===r[0]&&N<ct.TEXT_COMPACTION_MODE_LATCH&&(v[p++]=N);for(let I=0;I<p;I++)x.write(v[I]);break;case ct.BYTE_COMPACTION_MODE_LATCH_6:for(;u<r[0]&&!C;){let I=r[u++];if(I<ct.TEXT_COMPACTION_MODE_LATCH)p++,w=900*w+I;else switch(I){case ct.TEXT_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH:case ct.NUMERIC_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH_6:case ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ct.MACRO_PDF417_TERMINATOR:u--,C=!0;break}if(p%5===0&&p>0){for(let k=0;k<6;++k)x.write(Number(ea(w)>>ea(8*(5-k))));w=0,p=0}}break}return h.append(It.decode(x.toByteArray(),l)),u}static numericCompaction(e,r,l){let u=0,h=!1,x=new Int32Array(ct.MAX_NUMERIC_CODEWORDS);for(;r<e[0]&&!h;){let p=e[r++];if(r===e[0]&&(h=!0),p<ct.TEXT_COMPACTION_MODE_LATCH)x[u]=p,u++;else switch(p){case ct.TEXT_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH:case ct.BYTE_COMPACTION_MODE_LATCH_6:case ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ct.MACRO_PDF417_TERMINATOR:r--,h=!0;break}(u%ct.MAX_NUMERIC_CODEWORDS===0||p===ct.NUMERIC_COMPACTION_MODE_LATCH||h)&&u>0&&(l.append(ct.decodeBase900toBase10(x,u)),u=0)}return r}static decodeBase900toBase10(e,r){let l=ea(0);for(let h=0;h<r;h++)l+=ct.EXP900[r-h-1]*ea(e[h]);let u=l.toString();if(u.charAt(0)!=="1")throw new X;return u.substring(1)}}ct.TEXT_COMPACTION_MODE_LATCH=900,ct.BYTE_COMPACTION_MODE_LATCH=901,ct.NUMERIC_COMPACTION_MODE_LATCH=902,ct.BYTE_COMPACTION_MODE_LATCH_6=924,ct.ECI_USER_DEFINED=925,ct.ECI_GENERAL_PURPOSE=926,ct.ECI_CHARSET=927,ct.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ct.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ct.MACRO_PDF417_TERMINATOR=922,ct.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ct.MAX_NUMERIC_CODEWORDS=15,ct.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ct.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ct.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ct.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ct.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ct.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ct.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ct.PL=25,ct.LL=27,ct.AS=27,ct.ML=28,ct.AL=28,ct.PS=29,ct.PAL=29,ct.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ct.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ct.EXP900=Go()?Bu():[],ct.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Kt{constructor(){}static decode(e,r,l,u,h,x,p){let w=new Ki(e,r,l,u,h),C=null,v=null,N;for(let j=!0;;j=!1){if(r!=null&&(C=Kt.getRowIndicatorColumn(e,w,r,!0,x,p)),u!=null&&(v=Kt.getRowIndicatorColumn(e,w,u,!1,x,p)),N=Kt.merge(C,v),N==null)throw K.getNotFoundInstance();let V=N.getBoundingBox();if(j&&V!=null&&(V.getMinY()<w.getMinY()||V.getMaxY()>w.getMaxY()))w=V;else break}N.setBoundingBox(w);let I=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,C),N.setDetectionResultColumn(I,v);let k=C!=null;for(let j=1;j<=I;j++){let V=k?j:I-j;if(N.getDetectionResultColumn(V)!==void 0)continue;let Q;V===0||V===I?Q=new $i(w,V===0):Q=new Za(w),N.setDetectionResultColumn(V,Q);let rt=-1,St=rt;for(let vt=w.getMinY();vt<=w.getMaxY();vt++){if(rt=Kt.getStartColumn(N,V,vt,k),rt<0||rt>w.getMaxX()){if(St===-1)continue;rt=St}let Et=Kt.detectCodeword(e,w.getMinX(),w.getMaxX(),k,rt,vt,x,p);Et!=null&&(Q.setCodeword(vt,Et),St=rt,x=Math.min(x,Et.getWidth()),p=Math.max(p,Et.getWidth()))}}return Kt.createDecoderResult(N)}static merge(e,r){if(e==null&&r==null)return null;let l=Kt.getBarcodeMetadata(e,r);if(l==null)return null;let u=Ki.merge(Kt.adjustBoundingBox(e),Kt.adjustBoundingBox(r));return new ta(l,u)}static adjustBoundingBox(e){if(e==null)return null;let r=e.getRowHeights();if(r==null)return null;let l=Kt.getMax(r),u=0;for(let p of r)if(u+=l-p,p>0)break;let h=e.getCodewords();for(let p=0;u>0&&h[p]==null;p++)u--;let x=0;for(let p=r.length-1;p>=0&&(x+=l-r[p],!(r[p]>0));p--);for(let p=h.length-1;x>0&&h[p]==null;p--)x--;return e.getBoundingBox().addMissingRows(u,x,e.isLeft())}static getMax(e){let r=-1;for(let l of e)r=Math.max(r,l);return r}static getBarcodeMetadata(e,r){let l;if(e==null||(l=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let u;return r==null||(u=r.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(e,r,l,u,h,x){let p=new $i(r,u);for(let w=0;w<2;w++){let C=w===0?1:-1,v=Math.trunc(Math.trunc(l.getX()));for(let N=Math.trunc(Math.trunc(l.getY()));N<=r.getMaxY()&&N>=r.getMinY();N+=C){let I=Kt.detectCodeword(e,0,e.getWidth(),u,v,N,h,x);I!=null&&(p.setCodeword(N,I),u?v=I.getStartX():v=I.getEndX())}}return p}static adjustCodewordCount(e,r){let l=r[0][1],u=l.getValue(),h=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Kt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(u.length===0){if(h<1||h>Pt.MAX_CODEWORDS_IN_BARCODE)throw K.getNotFoundInstance();l.setValue(h)}else u[0]!==h&&l.setValue(h)}static createDecoderResult(e){let r=Kt.createBarcodeMatrix(e);Kt.adjustCodewordCount(e,r);let l=new Array,u=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),h=[],x=new Array;for(let w=0;w<e.getBarcodeRowCount();w++)for(let C=0;C<e.getBarcodeColumnCount();C++){let v=r[w][C+1].getValue(),N=w*e.getBarcodeColumnCount()+C;v.length===0?l.push(N):v.length===1?u[N]=v[0]:(x.push(N),h.push(v))}let p=new Array(h.length);for(let w=0;w<p.length;w++)p[w]=h[w];return Kt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),u,Pt.toIntArray(l),Pt.toIntArray(x),p)}static createDecoderResultFromAmbiguousValues(e,r,l,u,h){let x=new Int32Array(u.length),p=100;for(;p-- >0;){for(let w=0;w<x.length;w++)r[u[w]]=h[w][x[w]];try{return Kt.decodeCodewords(r,e,l)}catch(w){if(!(w instanceof L))throw w}if(x.length===0)throw L.getChecksumInstance();for(let w=0;w<x.length;w++)if(x[w]<h[w].length-1){x[w]++;break}else if(x[w]=0,w===x.length-1)throw L.getChecksumInstance()}throw L.getChecksumInstance()}static createBarcodeMatrix(e){let r=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let u=0;u<r.length;u++)for(let h=0;h<r[u].length;h++)r[u][h]=new un;let l=0;for(let u of e.getDetectionResultColumns()){if(u!=null){for(let h of u.getCodewords())if(h!=null){let x=h.getRowNumber();if(x>=0){if(x>=r.length)continue;r[x][l].setValue(h.getValue())}}}l++}return r}static isValidBarcodeColumn(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1}static getStartColumn(e,r,l,u){let h=u?1:-1,x=null;if(Kt.isValidBarcodeColumn(e,r-h)&&(x=e.getDetectionResultColumn(r-h).getCodeword(l)),x!=null)return u?x.getEndX():x.getStartX();if(x=e.getDetectionResultColumn(r).getCodewordNearby(l),x!=null)return u?x.getStartX():x.getEndX();if(Kt.isValidBarcodeColumn(e,r-h)&&(x=e.getDetectionResultColumn(r-h).getCodewordNearby(l)),x!=null)return u?x.getEndX():x.getStartX();let p=0;for(;Kt.isValidBarcodeColumn(e,r-h);){r-=h;for(let w of e.getDetectionResultColumn(r).getCodewords())if(w!=null)return(u?w.getEndX():w.getStartX())+h*p*(w.getEndX()-w.getStartX());p++}return u?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,r,l,u,h,x,p,w){h=Kt.adjustCodewordStartColumn(e,r,l,u,h,x);let C=Kt.getModuleBitCount(e,r,l,u,h,x);if(C==null)return null;let v,N=se.sum(C);if(u)v=h+N;else{for(let j=0;j<C.length/2;j++){let V=C[j];C[j]=C[C.length-1-j],C[C.length-1-j]=V}v=h,h=v-N}if(!Kt.checkCodewordSkew(N,p,w))return null;let I=Pn.getDecodedValue(C),k=Pt.getCodeword(I);return k===-1?null:new Pi(h,v,Kt.getCodewordBucketNumber(I),k)}static getModuleBitCount(e,r,l,u,h,x){let p=h,w=new Int32Array(8),C=0,v=u?1:-1,N=u;for(;(u?p<l:p>=r)&&C<w.length;)e.get(p,x)===N?(w[C]++,p+=v):(C++,N=!N);return C===w.length||p===(u?l:r)&&C===w.length-1?w:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,r,l,u,h,x){let p=h,w=u?-1:1;for(let C=0;C<2;C++){for(;(u?p>=r:p<l)&&u===e.get(p,x);){if(Math.abs(h-p)>Kt.CODEWORD_SKEW_SIZE)return h;p+=w}w=-w,u=!u}return p}static checkCodewordSkew(e,r,l){return r-Kt.CODEWORD_SKEW_SIZE<=e&&e<=l+Kt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,r,l){if(e.length===0)throw X.getFormatInstance();let u=1<<r+1,h=Kt.correctErrors(e,l,u);Kt.verifyCodewordCount(e,u);let x=ct.decode(e,""+r);return x.setErrorsCorrected(h),x.setErasures(l.length),x}static correctErrors(e,r,l){if(r!=null&&r.length>l/2+Kt.MAX_ERRORS||l<0||l>Kt.MAX_EC_CODEWORDS)throw L.getChecksumInstance();return Kt.errorCorrection.decode(e,l,r)}static verifyCodewordCount(e,r){if(e.length<4)throw X.getFormatInstance();let l=e[0];if(l>e.length)throw X.getFormatInstance();if(l===0)if(r<e.length)e[0]=e.length-r;else throw X.getFormatInstance()}static getBitCountForCodeword(e){let r=new Int32Array(8),l=0,u=r.length-1;for(;!((e&1)!==l&&(l=e&1,u--,u<0));)r[u]++,e>>=1;return r}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Kt.getCodewordBucketNumber(Kt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let r=new Ji;for(let l=0;l<e.length;l++){r.format("Row %2d: ",l);for(let u=0;u<e[l].length;u++){let h=e[l][u];h.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}r.format("%n")}return r.toString()}}Kt.CODEWORD_SKEW_SIZE=2,Kt.MAX_ERRORS=3,Kt.MAX_EC_CODEWORDS=512,Kt.errorCorrection=new Us;class yn{decode(e,r=null){let l=yn.decode(e,r,!1);if(l==null||l.length===0||l[0]==null)throw K.getNotFoundInstance();return l[0]}decodeMultiple(e,r=null){try{return yn.decode(e,r,!0)}catch(l){throw l instanceof X||l instanceof L?K.getNotFoundInstance():l}}static decode(e,r,l){const u=new Array,h=Wt.detectMultiple(e,r,l);for(const x of h.getPoints()){const p=Kt.decode(h.getBits(),x[4],x[5],x[6],x[7],yn.getMinCodewordWidth(x),yn.getMaxCodewordWidth(x)),w=new bt(p.getText(),p.getRawBytes(),void 0,x,At.PDF_417);w.putMetadata(Qt.ERROR_CORRECTION_LEVEL,p.getECLevel());const C=p.getOther();C!=null&&w.putMetadata(Qt.PDF417_EXTRA_METADATA,C),u.push(w)}return u.map(x=>x)}static getMaxWidth(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMinWidth(e,r){return e==null||r==null?at.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(yn.getMaxWidth(e[0],e[4]),yn.getMaxWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(yn.getMaxWidth(e[1],e[5]),yn.getMaxWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(yn.getMinWidth(e[0],e[4]),yn.getMinWidth(e[6],e[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(yn.getMinWidth(e[1],e[5]),yn.getMinWidth(e[7],e[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class zs extends b{}zs.kind="ReaderException";class Xo{constructor(e,r){this.verbose=e===!0,r&&this.setHints(r)}decode(e,r){return r&&this.setHints(r),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!o(e)&&e.get(Ct.TRY_HARDER)===!0,l=o(e)?null:e.get(Ct.POSSIBLE_FORMATS),u=new Array;if(!o(l)){const h=l.some(x=>x===At.UPC_A||x===At.UPC_E||x===At.EAN_13||x===At.EAN_8||x===At.CODABAR||x===At.CODE_39||x===At.CODE_93||x===At.CODE_128||x===At.ITF||x===At.RSS_14||x===At.RSS_EXPANDED);h&&!r&&u.push(new Wi(e,this.verbose)),l.includes(At.QR_CODE)&&u.push(new ki),l.includes(At.DATA_MATRIX)&&u.push(new oi),l.includes(At.AZTEC)&&u.push(new xr),l.includes(At.PDF_417)&&u.push(new yn),h&&r&&u.push(new Wi(e,this.verbose))}u.length===0&&(r||u.push(new Wi(e,this.verbose)),u.push(new ki),u.push(new oi),u.push(new xr),u.push(new yn),r&&u.push(new Wi(e,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new zs("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(l){if(l instanceof zs)continue}throw new K("No MultiFormat Readers were able to detect the code.")}}class ku extends wt{constructor(e=null,r=500){const l=new Xo;l.setHints(e),super(l,r)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Fu extends wt{constructor(e=500){super(new yn,e)}}class Pu extends wt{constructor(e=500){super(new ki,e)}}var Hs;(function(O){O[O.ERROR_CORRECTION=0]="ERROR_CORRECTION",O[O.CHARACTER_SET=1]="CHARACTER_SET",O[O.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",O[O.MIN_SIZE=3]="MIN_SIZE",O[O.MAX_SIZE=4]="MAX_SIZE",O[O.MARGIN=5]="MARGIN",O[O.PDF417_COMPACT=6]="PDF417_COMPACT",O[O.PDF417_COMPACTION=7]="PDF417_COMPACTION",O[O.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",O[O.AZTEC_LAYERS=9]="AZTEC_LAYERS",O[O.QR_VERSION=10]="QR_VERSION"})(Hs||(Hs={}));var sn=Hs;class wl{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new dn(e,Int32Array.from([1])))}buildGenerator(e){const r=this.cachedGenerators;if(e>=r.length){let l=r[r.length-1];const u=this.field;for(let h=r.length;h<=e;h++){const x=l.multiply(new dn(u,Int32Array.from([1,u.exp(h-1+u.getGeneratorBase())])));r.push(x),l=x}}return r[e]}encode(e,r){if(r===0)throw new T("No error correction bytes");const l=e.length-r;if(l<=0)throw new T("No data bytes provided");const u=this.buildGenerator(r),h=new Int32Array(l);P.arraycopy(e,0,h,0,l);let x=new dn(this.field,h);x=x.multiplyByMonomial(r,1);const w=x.divide(u)[1].getCoefficients(),C=r-w.length;for(let v=0;v<C;v++)e[l+v]=0;P.arraycopy(w,0,e,l+C,w.length)}}class Ye{constructor(){}static applyMaskPenaltyRule1(e){return Ye.applyMaskPenaltyRule1Internal(e,!0)+Ye.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let r=0;const l=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let x=0;x<h-1;x++){const p=l[x];for(let w=0;w<u-1;w++){const C=p[w];C===p[w+1]&&C===l[x+1][w]&&C===l[x+1][w+1]&&r++}}return Ye.N2*r}static applyMaskPenaltyRule3(e){let r=0;const l=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let x=0;x<h;x++)for(let p=0;p<u;p++){const w=l[x];p+6<u&&w[p]===1&&w[p+1]===0&&w[p+2]===1&&w[p+3]===1&&w[p+4]===1&&w[p+5]===0&&w[p+6]===1&&(Ye.isWhiteHorizontal(w,p-4,p)||Ye.isWhiteHorizontal(w,p+7,p+11))&&r++,x+6<h&&l[x][p]===1&&l[x+1][p]===0&&l[x+2][p]===1&&l[x+3][p]===1&&l[x+4][p]===1&&l[x+5][p]===0&&l[x+6][p]===1&&(Ye.isWhiteVertical(l,p,x-4,x)||Ye.isWhiteVertical(l,p,x+7,x+11))&&r++}return r*Ye.N3}static isWhiteHorizontal(e,r,l){r=Math.max(r,0),l=Math.min(l,e.length);for(let u=r;u<l;u++)if(e[u]===1)return!1;return!0}static isWhiteVertical(e,r,l,u){l=Math.max(l,0),u=Math.min(u,e.length);for(let h=l;h<u;h++)if(e[h][r]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let r=0;const l=e.getArray(),u=e.getWidth(),h=e.getHeight();for(let w=0;w<h;w++){const C=l[w];for(let v=0;v<u;v++)C[v]===1&&r++}const x=e.getHeight()*e.getWidth();return Math.floor(Math.abs(r*2-x)*10/x)*Ye.N4}static getDataMaskBit(e,r,l){let u,h;switch(e){case 0:u=l+r&1;break;case 1:u=l&1;break;case 2:u=r%3;break;case 3:u=(l+r)%3;break;case 4:u=Math.floor(l/2)+Math.floor(r/3)&1;break;case 5:h=l*r,u=(h&1)+h%3;break;case 6:h=l*r,u=(h&1)+h%3&1;break;case 7:h=l*r,u=h%3+(l+r&1)&1;break;default:throw new T("Invalid mask pattern: "+e)}return u===0}static applyMaskPenaltyRule1Internal(e,r){let l=0;const u=r?e.getHeight():e.getWidth(),h=r?e.getWidth():e.getHeight(),x=e.getArray();for(let p=0;p<u;p++){let w=0,C=-1;for(let v=0;v<h;v++){const N=r?x[p][v]:x[v][p];N===C?w++:(w>=5&&(l+=Ye.N1+(w-5)),w=1,C=N)}w>=5&&(l+=Ye.N1+(w-5))}return l}}Ye.N1=3,Ye.N2=3,Ye.N3=40,Ye.N4=10;class js{constructor(e,r){this.width=e,this.height=r;const l=new Array(r);for(let u=0;u!==r;u++)l[u]=new Uint8Array(e);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(e,r){return this.bytes[r][e]}getArray(){return this.bytes}setNumber(e,r,l){this.bytes[r][e]=l}setBoolean(e,r,l){this.bytes[r][e]=l?1:0}clear(e){for(const r of this.bytes)q.fill(r,e)}equals(e){if(!(e instanceof js))return!1;const r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(let l=0,u=this.height;l<u;++l){const h=this.bytes[l],x=r.bytes[l];for(let p=0,w=this.width;p<w;++p)if(h[p]!==x[p])return!1}return!0}toString(){const e=new Ut;for(let r=0,l=this.height;r<l;++r){const u=this.bytes[r];for(let h=0,x=this.width;h<x;++h)switch(u[h]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class ba{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Ut;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<ba.NUM_MASK_PATTERNS}}ba.NUM_MASK_PATTERNS=8;class we extends b{}we.kind="WriterException";class zt{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,r,l,u,h){zt.clearMatrix(h),zt.embedBasicPatterns(l,h),zt.embedTypeInfo(r,u,h),zt.maybeEmbedVersionInfo(l,h),zt.embedDataBits(e,u,h)}static embedBasicPatterns(e,r){zt.embedPositionDetectionPatternsAndSeparators(r),zt.embedDarkDotAtLeftBottomCorner(r),zt.maybeEmbedPositionAdjustmentPatterns(e,r),zt.embedTimingPatterns(r)}static embedTypeInfo(e,r,l){const u=new mt;zt.makeTypeInfoBits(e,r,u);for(let h=0,x=u.getSize();h<x;++h){const p=u.get(u.getSize()-1-h),w=zt.TYPE_INFO_COORDINATES[h],C=w[0],v=w[1];if(l.setBoolean(C,v,p),h<8){const N=l.getWidth()-h-1;l.setBoolean(N,8,p)}else{const I=l.getHeight()-7+(h-8);l.setBoolean(8,I,p)}}}static maybeEmbedVersionInfo(e,r){if(e.getVersionNumber()<7)return;const l=new mt;zt.makeVersionInfoBits(e,l);let u=17;for(let h=0;h<6;++h)for(let x=0;x<3;++x){const p=l.get(u);u--,r.setBoolean(h,r.getHeight()-11+x,p),r.setBoolean(r.getHeight()-11+x,h,p)}}static embedDataBits(e,r,l){let u=0,h=-1,x=l.getWidth()-1,p=l.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);p>=0&&p<l.getHeight();){for(let w=0;w<2;++w){const C=x-w;if(!zt.isEmpty(l.get(C,p)))continue;let v;u<e.getSize()?(v=e.get(u),++u):v=!1,r!==255&&Ye.getDataMaskBit(r,C,p)&&(v=!v),l.setBoolean(C,p,v)}p+=h}h=-h,p+=h,x-=2}if(u!==e.getSize())throw new we("Not all bits consumed: "+u+"/"+e.getSize())}static findMSBSet(e){return 32-at.numberOfLeadingZeros(e)}static calculateBCHCode(e,r){if(r===0)throw new T("0 polynomial");const l=zt.findMSBSet(r);for(e<<=l-1;zt.findMSBSet(e)>=l;)e^=r<<zt.findMSBSet(e)-l;return e}static makeTypeInfoBits(e,r,l){if(!ba.isValidMaskPattern(r))throw new we("Invalid mask pattern");const u=e.getBits()<<3|r;l.appendBits(u,5);const h=zt.calculateBCHCode(u,zt.TYPE_INFO_POLY);l.appendBits(h,10);const x=new mt;if(x.appendBits(zt.TYPE_INFO_MASK_PATTERN,15),l.xor(x),l.getSize()!==15)throw new we("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(e,r){r.appendBits(e.getVersionNumber(),6);const l=zt.calculateBCHCode(e.getVersionNumber(),zt.VERSION_INFO_POLY);if(r.appendBits(l,12),r.getSize()!==18)throw new we("should not happen but we got: "+r.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let r=8;r<e.getWidth()-8;++r){const l=(r+1)%2;zt.isEmpty(e.get(r,6))&&e.setNumber(r,6,l),zt.isEmpty(e.get(6,r))&&e.setNumber(6,r,l)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new we;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,r,l){for(let u=0;u<8;++u){if(!zt.isEmpty(l.get(e+u,r)))throw new we;l.setNumber(e+u,r,0)}}static embedVerticalSeparationPattern(e,r,l){for(let u=0;u<7;++u){if(!zt.isEmpty(l.get(e,r+u)))throw new we;l.setNumber(e,r+u,0)}}static embedPositionAdjustmentPattern(e,r,l){for(let u=0;u<5;++u){const h=zt.POSITION_ADJUSTMENT_PATTERN[u];for(let x=0;x<5;++x)l.setNumber(e+x,r+u,h[x])}}static embedPositionDetectionPattern(e,r,l){for(let u=0;u<7;++u){const h=zt.POSITION_DETECTION_PATTERN[u];for(let x=0;x<7;++x)l.setNumber(e+x,r+u,h[x])}}static embedPositionDetectionPatternsAndSeparators(e){const r=zt.POSITION_DETECTION_PATTERN[0].length;zt.embedPositionDetectionPattern(0,0,e),zt.embedPositionDetectionPattern(e.getWidth()-r,0,e),zt.embedPositionDetectionPattern(0,e.getWidth()-r,e);const l=8;zt.embedHorizontalSeparationPattern(0,l-1,e),zt.embedHorizontalSeparationPattern(e.getWidth()-l,l-1,e),zt.embedHorizontalSeparationPattern(0,e.getWidth()-l,e);const u=7;zt.embedVerticalSeparationPattern(u,0,e),zt.embedVerticalSeparationPattern(e.getHeight()-u-1,0,e),zt.embedVerticalSeparationPattern(u,e.getHeight()-u,e)}static maybeEmbedPositionAdjustmentPatterns(e,r){if(e.getVersionNumber()<2)return;const l=e.getVersionNumber()-1,u=zt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let h=0,x=u.length;h!==x;h++){const p=u[h];if(p>=0)for(let w=0;w!==x;w++){const C=u[w];C>=0&&zt.isEmpty(r.get(C,p))&&zt.embedPositionAdjustmentPattern(C-2,p-2,r)}}}}zt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),zt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),zt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),zt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),zt.VERSION_INFO_POLY=7973,zt.TYPE_INFO_POLY=1335,zt.TYPE_INFO_MASK_PATTERN=21522;class Uu{constructor(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Le{constructor(){}static calculateMaskPenalty(e){return Ye.applyMaskPenaltyRule1(e)+Ye.applyMaskPenaltyRule2(e)+Ye.applyMaskPenaltyRule3(e)+Ye.applyMaskPenaltyRule4(e)}static encode(e,r,l=null){let u=Le.DEFAULT_BYTE_MODE_ENCODING;const h=l!==null&&l.get(sn.CHARACTER_SET)!==void 0;h&&(u=l.get(sn.CHARACTER_SET).toString());const x=this.chooseMode(e,u),p=new mt;if(x===Bt.BYTE&&(h||Le.DEFAULT_BYTE_MODE_ENCODING!==u)){const vt=nt.getCharacterSetECIByName(u);vt!==void 0&&this.appendECI(vt,p)}this.appendModeInfo(x,p);const w=new mt;this.appendBytes(e,x,w,u);let C;if(l!==null&&l.get(sn.QR_VERSION)!==void 0){const vt=Number.parseInt(l.get(sn.QR_VERSION).toString(),10);C=Lt.getVersionForNumber(vt);const Et=this.calculateBitsNeeded(x,p,w,C);if(!this.willFit(Et,C,r))throw new we("Data too big for requested version")}else C=this.recommendVersion(r,x,p,w);const v=new mt;v.appendBitArray(p);const N=x===Bt.BYTE?w.getSizeInBytes():e.length;this.appendLengthInfo(N,C,x,v),v.appendBitArray(w);const I=C.getECBlocksForLevel(r),k=C.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(k,v);const j=this.interleaveWithECBytes(v,C.getTotalCodewords(),k,I.getNumBlocks()),V=new ba;V.setECLevel(r),V.setMode(x),V.setVersion(C);const Q=C.getDimensionForVersion(),rt=new js(Q,Q),St=this.chooseMaskPattern(j,r,C,rt);return V.setMaskPattern(St),zt.buildMatrix(j,r,C,St,rt),V.setMatrix(rt),V}static recommendVersion(e,r,l,u){const h=this.calculateBitsNeeded(r,l,u,Lt.getVersionForNumber(1)),x=this.chooseVersion(h,e),p=this.calculateBitsNeeded(r,l,u,x);return this.chooseVersion(p,e)}static calculateBitsNeeded(e,r,l,u){return r.getSize()+e.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(e){return e<Le.ALPHANUMERIC_TABLE.length?Le.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,r=null){if(nt.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Bt.KANJI;let l=!1,u=!1;for(let h=0,x=e.length;h<x;++h){const p=e.charAt(h);if(Le.isDigit(p))l=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)u=!0;else return Bt.BYTE}return u?Bt.ALPHANUMERIC:l?Bt.NUMERIC:Bt.BYTE}static isOnlyDoubleByteKanji(e){let r;try{r=It.encode(e,nt.SJIS)}catch{return!1}const l=r.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const h=r[u]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(e,r,l,u){let h=Number.MAX_SAFE_INTEGER,x=-1;for(let p=0;p<ba.NUM_MASK_PATTERNS;p++){zt.buildMatrix(e,r,l,p,u);let w=this.calculateMaskPenalty(u);w<h&&(h=w,x=p)}return x}static chooseVersion(e,r){for(let l=1;l<=40;l++){const u=Lt.getVersionForNumber(l);if(Le.willFit(e,u,r))return u}throw new we("Data too big")}static willFit(e,r,l){const u=r.getTotalCodewords(),x=r.getECBlocksForLevel(l).getTotalECCodewords(),p=u-x,w=(e+7)/8;return p>=w}static terminateBits(e,r){const l=e*8;if(r.getSize()>l)throw new we("data bits cannot fit in the QR Code"+r.getSize()+" > "+l);for(let x=0;x<4&&r.getSize()<l;++x)r.appendBit(!1);const u=r.getSize()&7;if(u>0)for(let x=u;x<8;x++)r.appendBit(!1);const h=e-r.getSizeInBytes();for(let x=0;x<h;++x)r.appendBits((x&1)===0?236:17,8);if(r.getSize()!==l)throw new we("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,r,l,u,h,x){if(u>=l)throw new we("Block ID too large");const p=e%l,w=l-p,C=Math.floor(e/l),v=C+1,N=Math.floor(r/l),I=N+1,k=C-N,j=v-I;if(k!==j)throw new we("EC bytes mismatch");if(l!==w+p)throw new we("RS blocks mismatch");if(e!==(N+k)*w+(I+j)*p)throw new we("Total bytes mismatch");u<w?(h[0]=N,x[0]=k):(h[0]=I,x[0]=j)}static interleaveWithECBytes(e,r,l,u){if(e.getSizeInBytes()!==l)throw new we("Number of bits and data bytes does not match");let h=0,x=0,p=0;const w=new Array;for(let v=0;v<u;++v){const N=new Int32Array(1),I=new Int32Array(1);Le.getNumDataBytesAndNumECBytesForBlockID(r,l,u,v,N,I);const k=N[0],j=new Uint8Array(k);e.toBytes(8*h,j,0,k);const V=Le.generateECBytes(j,I[0]);w.push(new Uu(j,V)),x=Math.max(x,k),p=Math.max(p,V.length),h+=N[0]}if(l!==h)throw new we("Data bytes does not match offset");const C=new mt;for(let v=0;v<x;++v)for(const N of w){const I=N.getDataBytes();v<I.length&&C.appendBits(I[v],8)}for(let v=0;v<p;++v)for(const N of w){const I=N.getErrorCorrectionBytes();v<I.length&&C.appendBits(I[v],8)}if(r!==C.getSizeInBytes())throw new we("Interleaving error: "+r+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(e,r){const l=e.length,u=new Int32Array(l+r);for(let x=0;x<l;x++)u[x]=e[x]&255;new wl(le.QR_CODE_FIELD_256).encode(u,r);const h=new Uint8Array(r);for(let x=0;x<r;x++)h[x]=u[l+x];return h}static appendModeInfo(e,r){r.appendBits(e.getBits(),4)}static appendLengthInfo(e,r,l,u){const h=l.getCharacterCountBits(r);if(e>=1<<h)throw new we(e+" is bigger than "+((1<<h)-1));u.appendBits(e,h)}static appendBytes(e,r,l,u){switch(r){case Bt.NUMERIC:Le.appendNumericBytes(e,l);break;case Bt.ALPHANUMERIC:Le.appendAlphanumericBytes(e,l);break;case Bt.BYTE:Le.append8BitBytes(e,l,u);break;case Bt.KANJI:Le.appendKanjiBytes(e,l);break;default:throw new we("Invalid mode: "+r)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const r=Le.getDigit(e);return r>=0&&r<=9}static appendNumericBytes(e,r){const l=e.length;let u=0;for(;u<l;){const h=Le.getDigit(e.charAt(u));if(u+2<l){const x=Le.getDigit(e.charAt(u+1)),p=Le.getDigit(e.charAt(u+2));r.appendBits(h*100+x*10+p,10),u+=3}else if(u+1<l){const x=Le.getDigit(e.charAt(u+1));r.appendBits(h*10+x,7),u+=2}else r.appendBits(h,4),u++}}static appendAlphanumericBytes(e,r){const l=e.length;let u=0;for(;u<l;){const h=Le.getAlphanumericCode(e.charCodeAt(u));if(h===-1)throw new we;if(u+1<l){const x=Le.getAlphanumericCode(e.charCodeAt(u+1));if(x===-1)throw new we;r.appendBits(h*45+x,11),u+=2}else r.appendBits(h,6),u++}}static append8BitBytes(e,r,l){let u;try{u=It.encode(e,l)}catch(h){throw new we(h)}for(let h=0,x=u.length;h!==x;h++){const p=u[h];r.appendBits(p,8)}}static appendKanjiBytes(e,r){let l;try{l=It.encode(e,nt.SJIS)}catch(h){throw new we(h)}const u=l.length;for(let h=0;h<u;h+=2){const x=l[h]&255,p=l[h+1]&255,w=x<<8&4294967295|p;let C=-1;if(w>=33088&&w<=40956?C=w-33088:w>=57408&&w<=60351&&(C=w-49472),C===-1)throw new we("Invalid byte sequence");const v=(C>>8)*192+(C&255);r.appendBits(v,13)}}static appendECI(e,r){r.appendBits(Bt.ECI.getBits(),4),r.appendBits(e.getValue(),8)}}Le.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Le.DEFAULT_BYTE_MODE_ENCODING=nt.UTF8.getName();class Aa{write(e,r,l,u=null){if(e.length===0)throw new T("Found empty contents");if(r<0||l<0)throw new T("Requested dimensions are too small: "+r+"x"+l);let h=pe.L,x=Aa.QUIET_ZONE_SIZE;u!==null&&(u.get(sn.ERROR_CORRECTION)!==void 0&&(h=pe.fromString(u.get(sn.ERROR_CORRECTION).toString())),u.get(sn.MARGIN)!==void 0&&(x=Number.parseInt(u.get(sn.MARGIN).toString(),10)));const p=Le.encode(e,h,u);return this.renderResult(p,r,l,x)}writeToDom(e,r,l,u,h=null){typeof e=="string"&&(e=document.querySelector(e));const x=this.write(r,l,u,h);e&&e.appendChild(x)}renderResult(e,r,l,u){const h=e.getMatrix();if(h===null)throw new bi;const x=h.getWidth(),p=h.getHeight(),w=x+u*2,C=p+u*2,v=Math.max(r,w),N=Math.max(l,C),I=Math.min(Math.floor(v/w),Math.floor(N/C)),k=Math.floor((v-x*I)/2),j=Math.floor((N-p*I)/2),V=this.createSVGElement(v,N);for(let Q=0,rt=j;Q<p;Q++,rt+=I)for(let St=0,vt=k;St<x;St++,vt+=I)if(h.get(St,Q)===1){const Et=this.createSvgRectElement(vt,rt,I,I);V.appendChild(Et)}return V}createSVGElement(e,r){const l=document.createElementNS(Aa.SVG_NS,"svg");return l.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width",r.toString()),l}createSvgRectElement(e,r,l,u){const h=document.createElementNS(Aa.SVG_NS,"rect");return h.setAttributeNS(null,"x",e.toString()),h.setAttributeNS(null,"y",r.toString()),h.setAttributeNS(null,"height",l.toString()),h.setAttributeNS(null,"width",u.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Aa.QUIET_ZONE_SIZE=4,Aa.SVG_NS="http://www.w3.org/2000/svg";class Ka{encode(e,r,l,u,h){if(e.length===0)throw new T("Found empty contents");if(r!==At.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(l<0||u<0)throw new T(`Requested dimensions are too small: ${l}x${u}`);let x=pe.L,p=Ka.QUIET_ZONE_SIZE;h!==null&&(h.get(sn.ERROR_CORRECTION)!==void 0&&(x=pe.fromString(h.get(sn.ERROR_CORRECTION).toString())),h.get(sn.MARGIN)!==void 0&&(p=Number.parseInt(h.get(sn.MARGIN).toString(),10)));const w=Le.encode(e,x,h);return Ka.renderResult(w,l,u,p)}static renderResult(e,r,l,u){const h=e.getMatrix();if(h===null)throw new bi;const x=h.getWidth(),p=h.getHeight(),w=x+u*2,C=p+u*2,v=Math.max(r,w),N=Math.max(l,C),I=Math.min(Math.floor(v/w),Math.floor(N/C)),k=Math.floor((v-x*I)/2),j=Math.floor((N-p*I)/2),V=new Gt(v,N);for(let Q=0,rt=j;Q<p;Q++,rt+=I)for(let St=0,vt=k;St<x;St++,vt+=I)h.get(St,Q)===1&&V.setRegion(vt,rt,I,I);return V}}Ka.QUIET_ZONE_SIZE=4;class zu{encode(e,r,l,u,h){let x;switch(r){case At.QR_CODE:x=new Ka;break;default:throw new T("No encoder available for format "+r)}return x.encode(e,r,l,u,h)}}class wi extends Rt{constructor(e,r,l,u,h,x,p,w){if(super(x,p),this.yuvData=e,this.dataWidth=r,this.dataHeight=l,this.left=u,this.top=h,u+x>r||h+p>l)throw new T("Crop rectangle does not fit within image data.");w&&this.reverseHorizontal(x,p)}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const l=this.getWidth();(r==null||r.length<l)&&(r=new Uint8ClampedArray(l));const u=(e+this.top)*this.dataWidth+this.left;return P.arraycopy(this.yuvData,u,r,0,l),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.yuvData;const l=e*r,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return P.arraycopy(this.yuvData,h,u,0,l),u;for(let x=0;x<r;x++){const p=x*e;P.arraycopy(this.yuvData,h,u,p,e),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,r,l,u){return new wi(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+r,l,u,!1)}renderThumbnail(){const e=this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(e*r),u=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let x=0;x<r;x++){const p=x*e;for(let w=0;w<e;w++){const C=u[h+w*wi.THUMBNAIL_SCALE_FACTOR]&255;l[p+w]=4278190080|C*65793}h+=this.dataWidth*wi.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/wi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/wi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,r){const l=this.yuvData;for(let u=0,h=this.top*this.dataWidth+this.left;u<r;u++,h+=this.dataWidth){const x=h+e/2;for(let p=h,w=h+e-1;p<x;p++,w--){const C=l[p];l[p]=l[w],l[w]=C}}}invert(){return new qt(this)}}wi.THUMBNAIL_SCALE_FACTOR=2;class Vs extends Rt{constructor(e,r,l,u,h,x,p){if(super(r,l),this.dataWidth=u,this.dataHeight=h,this.left=x,this.top=p,e.BYTES_PER_ELEMENT===4){const w=r*l,C=new Uint8ClampedArray(w);for(let v=0;v<w;v++){const N=e[v],I=N>>16&255,k=N>>7&510,j=N&255;C[v]=(I+k+j)/4&255}this.luminances=C}else this.luminances=e;if(u===void 0&&(this.dataWidth=r),h===void 0&&(this.dataHeight=l),x===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+l>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(e,r){if(e<0||e>=this.getHeight())throw new T("Requested row is outside the image: "+e);const l=this.getWidth();(r==null||r.length<l)&&(r=new Uint8ClampedArray(l));const u=(e+this.top)*this.dataWidth+this.left;return P.arraycopy(this.luminances,u,r,0,l),r}getMatrix(){const e=this.getWidth(),r=this.getHeight();if(e===this.dataWidth&&r===this.dataHeight)return this.luminances;const l=e*r,u=new Uint8ClampedArray(l);let h=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return P.arraycopy(this.luminances,h,u,0,l),u;for(let x=0;x<r;x++){const p=x*e;P.arraycopy(this.luminances,h,u,p,e),h+=this.dataWidth}return u}isCropSupported(){return!0}crop(e,r,l,u){return new Vs(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+e,this.top+r)}invert(){return new qt(this)}}class Ja extends nt{static forName(e){return this.getCharacterSetECIByName(e)}}class El{}El.ISO_8859_1=nt.ISO8859_1;class Sl{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Cl{static singletonList(e){return[e]}static min(e,r){return e.sort(r)[0]}}class Wo{constructor(e){this.previous=e}getPrevious(){return this.previous}}class wa extends Wo{constructor(e,r,l){super(e),this.value=r,this.bitCount=l}appendTo(e,r){e.appendBits(this.value,this.bitCount)}add(e,r){return new wa(this,e,r)}addBinaryShift(e,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new wa(this,e,r)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+at.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Tr extends wa{constructor(e,r,l){super(e,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=l}appendTo(e,r){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):l===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(r[this.binaryShiftStart+l],8)}addBinaryShift(e,r){return new Tr(this,e,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $a(O,e,r){return new Tr(O,e,r)}function Ys(O,e,r){return new wa(O,e,r)}const Hu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],na=0,Gs=1,Zn=2,ts=3,Un=4,ju=new wa(null,0,0),es=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Zo(O){for(let e of O)q.fill(e,-1);return O[na][Un]=0,O[Gs][Un]=0,O[Gs][na]=28,O[ts][Un]=0,O[Zn][Un]=0,O[Zn][na]=15,O}const _l=Zo(q.createInt32Array(6,6));class $n{constructor(e,r,l,u){this.token=e,this.mode=r,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,r){let l=this.bitCount,u=this.token;if(e!==this.mode){let x=es[this.mode][e];u=Ys(u,x&65535,x>>16),l+=x>>16}let h=e===Zn?4:5;return u=Ys(u,r,h),new $n(u,e,0,l+h)}shiftAndAppend(e,r){let l=this.token,u=this.mode===Zn?4:5;return l=Ys(l,_l[this.mode][e],u),l=Ys(l,r,5),new $n(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(e){let r=this.token,l=this.mode,u=this.bitCount;if(this.mode===Un||this.mode===Zn){let p=es[l][na];r=Ys(r,p&65535,p>>16),u+=p>>16,l=na}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new $n(r,l,this.binaryShiftByteCount+1,u+h);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(e+1)),x}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=$a(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new $n(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let r=this.bitCount+(es[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=$n.calculateBinaryShiftCost(e)-$n.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount}toBitArray(e){let r=[];for(let u=this.endBinaryShift(e.length).token;u!==null;u=u.getPrevious())r.unshift(u);let l=new mt;for(const u of r)u.appendTo(l,e);return l}toString(){return _t.format("%s bits=%d bytes=%d",Hu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}$n.INITIAL_STATE=new $n(ju,na,0,0);function vl(O){const e=_t.getCharCode(" "),r=_t.getCharCode("."),l=_t.getCharCode(",");O[na][e]=1;const u=_t.getCharCode("Z"),h=_t.getCharCode("A");for(let I=h;I<=u;I++)O[na][I]=I-h+2;O[Gs][e]=1;const x=_t.getCharCode("z"),p=_t.getCharCode("a");for(let I=p;I<=x;I++)O[Gs][I]=I-p+2;O[Zn][e]=1;const w=_t.getCharCode("9"),C=_t.getCharCode("0");for(let I=C;I<=w;I++)O[Zn][I]=I-C+2;O[Zn][l]=12,O[Zn][r]=13;const v=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<v.length;I++)O[ts][_t.getCharCode(v[I])]=I;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<N.length;I++)_t.getCharCode(N[I])>0&&(O[Un][_t.getCharCode(N[I])]=I);return O}const Mr=vl(q.createInt32Array(5,256));class ns{constructor(e){this.text=e}encode(){const e=_t.getCharCode(" "),r=_t.getCharCode(`
`);let l=Cl.singletonList($n.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let x,p=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case _t.getCharCode("\r"):x=p===r?2:0;break;case _t.getCharCode("."):x=p===e?3:0;break;case _t.getCharCode(","):x=p===e?4:0;break;case _t.getCharCode(":"):x=p===e?5:0;break;default:x=0}x>0?(l=ns.updateStateListForPair(l,h,x),h++):l=this.updateStateListForChar(l,h)}return Cl.min(l,(h,x)=>h.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,r){const l=[];for(let u of e)this.updateStateForChar(u,r,l);return ns.simplifyStates(l)}updateStateForChar(e,r,l){let u=this.text[r]&255,h=Mr[e.getMode()][u]>0,x=null;for(let p=0;p<=Un;p++){let w=Mr[p][u];if(w>0){if(x==null&&(x=e.endBinaryShift(r)),!h||p===e.getMode()||p===Zn){const C=x.latchAndAppend(p,w);l.push(C)}if(!h&&_l[e.getMode()][p]>=0){const C=x.shiftAndAppend(p,w);l.push(C)}}}if(e.getBinaryShiftByteCount()>0||Mr[e.getMode()][u]===0){let p=e.addBinaryShiftChar(r);l.push(p)}}static updateStateListForPair(e,r,l){const u=[];for(let h of e)this.updateStateForPair(h,r,l,u);return this.simplifyStates(u)}static updateStateForPair(e,r,l,u){let h=e.endBinaryShift(r);if(u.push(h.latchAndAppend(Un,l)),e.getMode()!==Un&&u.push(h.shiftAndAppend(Un,l)),l===3||l===4){let x=h.latchAndAppend(Zn,16-l).latchAndAppend(Zn,1);u.push(x)}if(e.getBinaryShiftByteCount()>0){let x=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);u.push(x)}}static simplifyStates(e){let r=[];for(const l of e){let u=!0;for(const h of r){if(h.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(h)&&(r=r.filter(x=>x!==h))}u&&r.push(l)}return r}}class re{constructor(){}static encodeBytes(e){return re.encode(e,re.DEFAULT_EC_PERCENT,re.DEFAULT_AZTEC_LAYERS)}static encode(e,r,l){let u=new ns(e).encode(),h=at.truncDivision(u.getSize()*r,100)+11,x=u.getSize()+h,p,w,C,v,N;if(l!==re.DEFAULT_AZTEC_LAYERS){if(p=l<0,w=Math.abs(l),w>(p?re.MAX_NB_BITS_COMPACT:re.MAX_NB_BITS))throw new T(_t.format("Illegal value %s for layers",l));C=re.totalBitsInLayer(w,p),v=re.WORD_SIZE[w];let Et=C-C%v;if(N=re.stuffBits(u,v),N.getSize()+h>Et)throw new T("Data to large for user specified layer");if(p&&N.getSize()>v*64)throw new T("Data to large for user specified layer")}else{v=0,N=null;for(let Et=0;;Et++){if(Et>re.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(p=Et<=3,w=p?Et+1:Et,C=re.totalBitsInLayer(w,p),x>C)continue;(N==null||v!==re.WORD_SIZE[w])&&(v=re.WORD_SIZE[w],N=re.stuffBits(u,v));let Zt=C-C%v;if(!(p&&N.getSize()>v*64)&&N.getSize()+h<=Zt)break}}let I=re.generateCheckWords(N,C,v),k=N.getSize()/v,j=re.generateModeMessage(p,w,k),V=(p?11:14)+w*4,Q=new Int32Array(V),rt;if(p){rt=V;for(let Et=0;Et<Q.length;Et++)Q[Et]=Et}else{rt=V+1+2*at.truncDivision(at.truncDivision(V,2)-1,15);let Et=at.truncDivision(V,2),Zt=at.truncDivision(rt,2);for(let Xt=0;Xt<Et;Xt++){let Dn=Xt+at.truncDivision(Xt,15);Q[Et-Xt-1]=Zt-Dn-1,Q[Et+Xt]=Zt+Dn+1}}let St=new Gt(rt);for(let Et=0,Zt=0;Et<w;Et++){let Xt=(w-Et)*4+(p?9:12);for(let Dn=0;Dn<Xt;Dn++){let ti=Dn*2;for(let zn=0;zn<2;zn++)I.get(Zt+ti+zn)&&St.set(Q[Et*2+zn],Q[Et*2+Dn]),I.get(Zt+Xt*2+ti+zn)&&St.set(Q[Et*2+Dn],Q[V-1-Et*2-zn]),I.get(Zt+Xt*4+ti+zn)&&St.set(Q[V-1-Et*2-zn],Q[V-1-Et*2-Dn]),I.get(Zt+Xt*6+ti+zn)&&St.set(Q[V-1-Et*2-Dn],Q[Et*2+zn])}Zt+=Xt*8}if(re.drawModeMessage(St,p,rt,j),p)re.drawBullsEye(St,at.truncDivision(rt,2),5);else{re.drawBullsEye(St,at.truncDivision(rt,2),7);for(let Et=0,Zt=0;Et<at.truncDivision(V,2)-1;Et+=15,Zt+=16)for(let Xt=at.truncDivision(rt,2)&1;Xt<rt;Xt+=2)St.set(at.truncDivision(rt,2)-Zt,Xt),St.set(at.truncDivision(rt,2)+Zt,Xt),St.set(Xt,at.truncDivision(rt,2)-Zt),St.set(Xt,at.truncDivision(rt,2)+Zt)}let vt=new Sl;return vt.setCompact(p),vt.setSize(rt),vt.setLayers(w),vt.setCodeWords(k),vt.setMatrix(St),vt}static drawBullsEye(e,r,l){for(let u=0;u<l;u+=2)for(let h=r-u;h<=r+u;h++)e.set(h,r-u),e.set(h,r+u),e.set(r-u,h),e.set(r+u,h);e.set(r-l,r-l),e.set(r-l+1,r-l),e.set(r-l,r-l+1),e.set(r+l,r-l),e.set(r+l,r-l+1),e.set(r+l,r+l-1)}static generateModeMessage(e,r,l){let u=new mt;return e?(u.appendBits(r-1,2),u.appendBits(l-1,6),u=re.generateCheckWords(u,28,4)):(u.appendBits(r-1,5),u.appendBits(l-1,11),u=re.generateCheckWords(u,40,4)),u}static drawModeMessage(e,r,l,u){let h=at.truncDivision(l,2);if(r)for(let x=0;x<7;x++){let p=h-3+x;u.get(x)&&e.set(p,h-5),u.get(x+7)&&e.set(h+5,p),u.get(20-x)&&e.set(p,h+5),u.get(27-x)&&e.set(h-5,p)}else for(let x=0;x<10;x++){let p=h-5+x+at.truncDivision(x,5);u.get(x)&&e.set(p,h-7),u.get(x+10)&&e.set(h+7,p),u.get(29-x)&&e.set(p,h+7),u.get(39-x)&&e.set(h-7,p)}}static generateCheckWords(e,r,l){let u=e.getSize()/l,h=new wl(re.getGF(l)),x=at.truncDivision(r,l),p=re.bitsToWords(e,l,x);h.encode(p,x-u);let w=r%l,C=new mt;C.appendBits(0,w);for(const v of Array.from(p))C.appendBits(v,l);return C}static bitsToWords(e,r,l){let u=new Int32Array(l),h,x;for(h=0,x=e.getSize()/r;h<x;h++){let p=0;for(let w=0;w<r;w++)p|=e.get(h*r+w)?1<<r-w-1:0;u[h]=p}return u}static getGF(e){switch(e){case 4:return le.AZTEC_PARAM;case 6:return le.AZTEC_DATA_6;case 8:return le.AZTEC_DATA_8;case 10:return le.AZTEC_DATA_10;case 12:return le.AZTEC_DATA_12;default:throw new T("Unsupported word size "+e)}}static stuffBits(e,r){let l=new mt,u=e.getSize(),h=(1<<r)-2;for(let x=0;x<u;x+=r){let p=0;for(let w=0;w<r;w++)(x+w>=u||e.get(x+w))&&(p|=1<<r-1-w);(p&h)===h?(l.appendBits(p&h,r),x--):(p&h)===0?(l.appendBits(p|1,r),x--):l.appendBits(p,r)}return l}static totalBitsInLayer(e,r){return((r?88:112)+16*e)*e}}re.DEFAULT_EC_PERCENT=33,re.DEFAULT_AZTEC_LAYERS=0,re.MAX_NB_BITS=32,re.MAX_NB_BITS_COMPACT=4,re.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Or{encode(e,r,l,u){return this.encodeWithHints(e,r,l,u,null)}encodeWithHints(e,r,l,u,h){let x=El.ISO_8859_1,p=re.DEFAULT_EC_PERCENT,w=re.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(sn.CHARACTER_SET)&&(x=Ja.forName(h.get(sn.CHARACTER_SET).toString())),h.has(sn.ERROR_CORRECTION)&&(p=at.parseInt(h.get(sn.ERROR_CORRECTION).toString())),h.has(sn.AZTEC_LAYERS)&&(w=at.parseInt(h.get(sn.AZTEC_LAYERS).toString()))),Or.encodeLayers(e,r,l,u,x,p,w)}static encodeLayers(e,r,l,u,h,x,p){if(r!==At.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let w=re.encode(_t.getBytes(e,h),x,p);return Or.renderResult(w,l,u)}static renderResult(e,r,l){let u=e.getMatrix();if(u==null)throw new bi;let h=u.getWidth(),x=u.getHeight(),p=Math.max(r,h),w=Math.max(l,x),C=Math.min(p/h,w/x),v=(p-h*C)/2,N=(w-x*C)/2,I=new Gt(p,w);for(let k=0,j=N;k<x;k++,j+=C)for(let V=0,Q=v;V<h;V++,Q+=C)u.get(V,k)&&I.setRegion(Q,j,C,C);return I}}i.AbstractExpandedDecoder=ks,i.ArgumentException=_,i.ArithmeticException=Ga,i.AztecCode=Sl,i.AztecCodeReader=xr,i.AztecCodeWriter=Or,i.AztecDecoder=Me,i.AztecDetector=Po,i.AztecDetectorResult=gl,i.AztecEncoder=re,i.AztecHighLevelEncoder=ns,i.AztecPoint=be,i.BarcodeFormat=At,i.Binarizer=H,i.BinaryBitmap=D,i.BitArray=mt,i.BitMatrix=Gt,i.BitSource=Fn,i.BrowserAztecCodeReader=Iu,i.BrowserBarcodeReader=jo,i.BrowserCodeReader=wt,i.BrowserDatamatrixCodeReader=Du,i.BrowserMultiFormatReader=ku,i.BrowserPDF417Reader=Fu,i.BrowserQRCodeReader=Pu,i.BrowserQRCodeSvgWriter=Aa,i.CharacterSetECI=nt,i.ChecksumException=L,i.Code128Reader=Tt,i.Code39Reader=Re,i.DataMatrixDecodedBitStreamParser=Zi,i.DataMatrixReader=oi,i.DecodeHintType=Ct,i.DecoderResult=Qn,i.DefaultGridSampler=kn,i.DetectorResult=gr,i.EAN13Reader=ri,i.EncodeHintType=sn,i.Exception=b,i.FormatException=X,i.GenericGF=le,i.GenericGFPoly=dn,i.GlobalHistogramBinarizer=et,i.GridSampler=xl,i.GridSamplerInstance=In,i.HTMLCanvasElementLuminanceSource=F,i.HybridBinarizer=ut,i.ITFReader=fe,i.IllegalArgumentException=T,i.IllegalStateException=bi,i.InvertedLuminanceSource=qt,i.LuminanceSource=Rt,i.MathUtils=se,i.MultiFormatOneDReader=Wi,i.MultiFormatReader=Xo,i.MultiFormatWriter=zu,i.NotFoundException=K,i.OneDReader=Ue,i.PDF417DecodedBitStreamParser=ct,i.PDF417DecoderErrorCorrection=Us,i.PDF417Reader=yn,i.PDF417ResultMetadata=Cr,i.PerspectiveTransform=Nn,i.PlanarYUVLuminanceSource=wi,i.QRCodeByteMatrix=js,i.QRCodeDataMask=pn,i.QRCodeDecodedBitStreamParser=ze,i.QRCodeDecoderErrorCorrectionLevel=pe,i.QRCodeDecoderFormatInformation=mn,i.QRCodeEncoder=Le,i.QRCodeEncoderQRCode=ba,i.QRCodeMaskUtil=Ye,i.QRCodeMatrixUtil=zt,i.QRCodeMode=Bt,i.QRCodeReader=ki,i.QRCodeVersion=Lt,i.QRCodeWriter=Ka,i.RGBLuminanceSource=Vs,i.RSS14Reader=he,i.RSSExpandedReader=yt,i.ReaderException=zs,i.ReedSolomonDecoder=Ds,i.ReedSolomonEncoder=wl,i.ReedSolomonException=Yi,i.Result=bt,i.ResultMetadataType=Qt,i.ResultPoint=Nt,i.StringUtils=_t,i.UnsupportedOperationException=Ft,i.VideoInputDevice=ot,i.WhiteRectangleDetector=Ri,i.WriterException=we,i.ZXingArrays=q,i.ZXingCharset=Ja,i.ZXingInteger=at,i.ZXingStandardCharsets=El,i.ZXingStringBuilder=Ut,i.ZXingStringEncoding=It,i.ZXingSystem=P,i.createAbstractExpandedDecoder=yl,Object.defineProperty(i,"__esModule",{value:!0})}))})(wo,wo.exports)),wo.exports}var He=Ab();const wb=sx(He),Eb=Lp({__proto__:null,default:wb},[He]);var kg=(function(){function s(n,i,o){if(this.formatMap=new Map([[Ot.QR_CODE,He.BarcodeFormat.QR_CODE],[Ot.AZTEC,He.BarcodeFormat.AZTEC],[Ot.CODABAR,He.BarcodeFormat.CODABAR],[Ot.CODE_39,He.BarcodeFormat.CODE_39],[Ot.CODE_93,He.BarcodeFormat.CODE_93],[Ot.CODE_128,He.BarcodeFormat.CODE_128],[Ot.DATA_MATRIX,He.BarcodeFormat.DATA_MATRIX],[Ot.MAXICODE,He.BarcodeFormat.MAXICODE],[Ot.ITF,He.BarcodeFormat.ITF],[Ot.EAN_13,He.BarcodeFormat.EAN_13],[Ot.EAN_8,He.BarcodeFormat.EAN_8],[Ot.PDF_417,He.BarcodeFormat.PDF_417],[Ot.RSS_14,He.BarcodeFormat.RSS_14],[Ot.RSS_EXPANDED,He.BarcodeFormat.RSS_EXPANDED],[Ot.UPC_A,He.BarcodeFormat.UPC_A],[Ot.UPC_E,He.BarcodeFormat.UPC_E],[Ot.UPC_EAN_EXTENSION,He.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Eb)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=o;var f=this.createZXingFormats(n),d=new Map;d.set(He.DecodeHintType.POSSIBLE_FORMATS,f),d.set(He.DecodeHintType.TRY_HARDER,!1),this.hints=d}return s.prototype.decodeAsync=function(n){var i=this;return new Promise(function(o,f){try{o(i.decode(n))}catch(d){f(d)}})},s.prototype.decode=function(n){var i=new He.MultiFormatReader(this.verbose,this.hints),o=new He.HTMLCanvasElementLuminanceSource(n),f=new He.BinaryBitmap(new He.HybridBinarizer(o)),d=i.decode(f);return{text:d.text,format:Cx.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,o,f){n.set(i,o)}),n},s.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},s.prototype.createZXingFormats=function(n){for(var i=[],o=0,f=n;o<f.length;o++){var d=f[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s})(),Sb=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},Cb=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Fg=(function(){function s(n,i,o){if(this.formatMap=new Map([[Ot.QR_CODE,"qr_code"],[Ot.AZTEC,"aztec"],[Ot.CODABAR,"codabar"],[Ot.CODE_39,"code_39"],[Ot.CODE_93,"code_93"],[Ot.CODE_128,"code_128"],[Ot.DATA_MATRIX,"data_matrix"],[Ot.ITF,"itf"],[Ot.EAN_13,"ean_13"],[Ot.EAN_8,"ean_8"],[Ot.PDF_417,"pdf417"],[Ot.UPC_A,"upc_a"],[Ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=o;var f=this.createBarcodeDetectorFormats(n);if(this.detector=new BarcodeDetector(f),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var n=new BarcodeDetector({formats:["qr_code"]});return typeof n<"u"},s.prototype.decodeAsync=function(n){return Sb(this,void 0,void 0,function(){var i,o;return Cb(this,function(f){switch(f.label){case 0:return[4,this.detector.detect(n)];case 1:if(i=f.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(i),[2,{text:o.rawValue,format:Cx.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(n){for(var i=null,o=0,f=0,d=n;f<d.length;f++){var m=d[f],A=m.boundingBox.width*m.boundingBox.height;A>o&&(o=A,i=m)}if(!i)throw"No largest barcode found";return i},s.prototype.createBarcodeDetectorFormats=function(n){for(var i=[],o=0,f=n;o<f.length;o++){var d=f[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},s.prototype.toHtml5QrcodeSupportedFormats=function(n){if(!this.reverseFormatMap.has(n))throw"reverseFormatMap doesn't have ".concat(n);return this.reverseFormatMap.get(n)},s.prototype.createReverseFormatMap=function(){var n=new Map;return this.formatMap.forEach(function(i,o,f){n.set(i,o)}),n},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s})(),Pg=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},Ug=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},_b=(function(){function s(n,i,o,f){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,i&&Fg.isSupported()?(this.primaryDecoder=new Fg(n,o,f),this.secondaryDecoder=new kg(n,o,f)):this.primaryDecoder=new kg(n,o,f)}return s.prototype.decodeAsync=function(n){return Pg(this,void 0,void 0,function(){var i;return Ug(this,function(o){switch(o.label){case 0:i=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(n)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(n){return Pg(this,void 0,void 0,function(){var i,o;return Ug(this,function(f){switch(f.label){case 0:i=performance.now(),f.label=1;case 1:return f.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(n)];case 2:return[2,f.sent()];case 3:if(o=f.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(n)];throw o;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(n){if(this.verbose){var i=performance.now()-n;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var n=0,i=0,o=this.executionResults;i<o.length;i++){var f=o[i];n+=f}var d=n/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s})(),ld=(function(){var s=function(n,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,f){o.__proto__=f}||function(o,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(o[d]=f[d])},s(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");s(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})(),mu=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},pu=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Mx=(function(){function s(n,i){this.name=n,this.track=i}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(n){var i={};i[this.name]=n;var o={advanced:[i]};return this.track.applyConstraints(o)},s.prototype.value=function(){var n=this.track.getSettings();if(this.name in n){var i=n[this.name];return i}return null},s})(),vb=(function(s){ld(n,s);function n(i,o){return s.call(this,i,o)||this}return n.prototype.min=function(){return this.getCapabilities().min},n.prototype.max=function(){return this.getCapabilities().max},n.prototype.step=function(){return this.getCapabilities().step},n.prototype.apply=function(i){var o={};o[this.name]=i;var f={advanced:[o]};return this.track.applyConstraints(f)},n.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),o=i[this.name];return{min:o.min,max:o.max,step:o.step}},n.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},n})(Mx),Tb=(function(s){ld(n,s);function n(i){return s.call(this,"zoom",i)||this}return n})(vb),Mb=(function(s){ld(n,s);function n(i){return s.call(this,"torch",i)||this}return n})(Mx),Ob=(function(){function s(n){this.track=n}return s.prototype.zoomFeature=function(){return new Tb(this.track)},s.prototype.torchFeature=function(){return new Mb(this.track)},s})(),Nb=(function(){function s(n,i,o){this.isClosed=!1,this.parentElement=n,this.mediaStream=i,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),n.append(this.surface)}return s.prototype.createVideoElement=function(n){var i=document.createElement("video");return i.style.width="".concat(n,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},s.prototype.setupSurface=function(){var n=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var o=n.surface.clientWidth,f=n.surface.clientHeight;n.callbacks.onRenderSurfaceReady(o,f),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(n,i,o,f){return mu(this,void 0,void 0,function(){var d,m;return pu(this,function(A){switch(A.label){case 0:return d=new s(n,i,f),o.aspectRatio?(m={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:A.sent(),A.label=2;case 2:return d.setupSurface(),[2,d]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(n){this.failIfClosed();var i=this,o=function(){setTimeout(n,200),i.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(n){return mu(this,void 0,void 0,function(){return pu(this,function(i){if("aspectRatio"in n)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(n)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var n=this;return new Promise(function(i,o){var f=n.mediaStream.getVideoTracks(),d=f.length,m=0;n.mediaStream.getVideoTracks().forEach(function(A){n.mediaStream.removeTrack(A),A.stop(),++m,m>=d&&(n.isClosed=!0,n.parentElement.removeChild(n.surface),i())})})},s.prototype.getCapabilities=function(){return new Ob(this.getFirstTrackOrFail())},s})(),Ib=(function(){function s(n){this.mediaStream=n}return s.prototype.render=function(n,i,o){return mu(this,void 0,void 0,function(){return pu(this,function(f){return[2,Nb.create(n,this.mediaStream,i,o)]})})},s.create=function(n){return mu(this,void 0,void 0,function(){var i,o;return pu(this,function(f){switch(f.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:n},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return o=f.sent(),[2,new s(o)]}})})},s})(),zg=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},Hg=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Db=(function(){function s(){}return s.failIfNotSupported=function(){return zg(this,void 0,void 0,function(){return Hg(this,function(n){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(n){return zg(this,void 0,void 0,function(){return Hg(this,function(i){return[2,Ib.create(n)]})})},s})(),Rb=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},Lb=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Bb=(function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var n=MediaStreamTrack;return MediaStreamTrack&&n.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var n=il.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(n=il.insecureContextCameraQueryError()),Promise.reject(n)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var n=location.host.split(":")[0];return n==="127.0.0.1"||n==="localhost"},s.getCamerasFromMediaDevices=function(){return Rb(this,void 0,void 0,function(){var n,i,o,f,d,m,A;return Lb(this,function(E){switch(E.label){case 0:return n=function(b){for(var _=b.getVideoTracks(),T=0,D=_;T<D.length;T++){var L=D[T];L.enabled=!1,L.stop(),b.removeTrack(L)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=E.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=E.sent(),f=[],d=0,m=o;d<m.length;d++)A=m[d],A.kind==="videoinput"&&f.push({id:A.deviceId,label:A.label});return n(i),[2,f]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(n,i){var o=function(d){for(var m=[],A=0,E=d;A<E.length;A++){var b=E[A];b.kind==="video"&&m.push({id:b.id,label:b.label})}n(m)},f=MediaStreamTrack;f.getSources(o)})},s})(),tn;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(tn||(tn={}));var kb=(function(){function s(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return s.prototype.directTransition=function(n){this.failIfTransitionOngoing(),this.validateTransition(n),this.state=n},s.prototype.startTransition=function(n){return this.failIfTransitionOngoing(),this.validateTransition(n),this.onGoingTransactionNewState=n,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var n=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(n)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(n){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(n,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},s.prototype.failIfNewStateIs=function(n,i){for(var o=0,f=i;o<f.length;o++){var d=f[o];if(n===d)throw"Cannot transition from ".concat(this.state," to ").concat(n)}},s})(),Fb=(function(){function s(n){this.stateManager=n}return s.prototype.startTransition=function(n){return this.stateManager.startTransition(n)},s.prototype.directTransition=function(n){this.stateManager.directTransition(n)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},s})(),Pb=(function(){function s(){}return s.create=function(){return new Fb(new kb)},s})(),Ub=(function(){var s=function(n,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,f){o.__proto__=f}||function(o,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(o[d]=f[d])},s(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");s(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}})(),mi=(function(s){Ub(n,s);function n(){return s!==null&&s.apply(this,arguments)||this}return n.DEFAULT_WIDTH=300,n.DEFAULT_WIDTH_OFFSET=2,n.FILE_SCAN_MIN_HEIGHT=300,n.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,n.MIN_QR_BOX_SIZE=50,n.SHADED_LEFT=1,n.SHADED_RIGHT=2,n.SHADED_TOP=3,n.SHADED_BOTTOM=4,n.SHADED_REGION_ELEMENT_ID="qr-shaded-region",n.VERBOSE=!1,n.BORDER_SHADER_DEFAULT_COLOR="#ffffff",n.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",n})(Hi),zb=(function(){function s(n,i){this.logger=i,this.fps=mi.SCAN_DEFAULT_FPS,n?(n.fps&&(this.fps=n.fps),this.disableFlip=n.disableFlip===!0,this.qrbox=n.qrbox,this.aspectRatio=n.aspectRatio,this.videoConstraints=n.videoConstraints):this.disableFlip=mi.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Tx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!fa(this.qrbox)},s.create=function(n,i){return new s(n,i)},s})(),jg=(function(){function s(n,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.elementId=n,this.verbose=!1;var o;typeof i=="boolean"?this.verbose=i===!0:i&&(o=i,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new vx(this.verbose),this.qrcode=new _b(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Pb.create()}return s.prototype.start=function(n,i,o,f){var d=this;if(!n)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;f?m=f:m=this.verbose?this.logger.log:function(){};var A=zb.create(i,this.logger);this.clearElement();var E=!1;A.videoConstraints&&(A.isMediaStreamConstraintsValid()?E=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var b=E,_=document.getElementById(this.elementId);_.clientWidth?_.clientWidth:mi.DEFAULT_WIDTH,_.style.position="relative",this.shouldScan=!0,this.element=_;var T=this,D=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(L,H){var P=b?A.videoConstraints:T.createVideoConstraints(n);if(!P){D.cancel(),H("videoConstraints should be defined");return}var U={};(!b||A.aspectRatio)&&(U.aspectRatio=A.aspectRatio);var Z={onRenderSurfaceReady:function(q,at){T.setupUi(q,at,A),T.isScanning=!0,T.foreverScan(A,o,m)}};Db.failIfNotSupported().then(function(q){q.create(P).then(function(at){return at.render(d.element,U,Z).then(function(mt){T.renderedCamera=mt,D.execute(),L(null)}).catch(function(mt){D.cancel(),H(mt)})}).catch(function(at){D.cancel(),H(il.errorGettingUserMedia(at))})}).catch(function(q){D.cancel(),H(il.cameraStreamingNotSupported())})})},s.prototype.pause=function(n){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(fa(n)||n!==!0)&&(n=!1),n&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var n=this,i=function(){n.stateManagerProxy.directTransition(tn.SCANNING),n.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var n=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(n.element){var d=document.getElementById(mi.SHADED_REGION_ELEMENT_ID);d&&n.element.removeChild(d)}},f=this;return this.renderedCamera.close().then(function(){return f.renderedCamera=null,f.element&&(f.element.removeChild(f.canvasElement),f.canvasElement=null),o(),f.qrRegion&&(f.qrRegion=null),f.context&&(f.context=null),i.execute(),f.hidePausedState(),f.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(n,i){return this.scanFileV2(n,i).then(function(o){return o.decodedText})},s.prototype.scanFileV2=function(n,i){var o=this;if(!n||!(n instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(fa(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(f,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(n);var m=new Image;m.onload=function(){var A=m.width,E=m.height,b=document.getElementById(o.elementId),_=b.clientWidth?b.clientWidth:mi.DEFAULT_WIDTH,T=Math.max(b.clientHeight?b.clientHeight:E,mi.FILE_SCAN_MIN_HEIGHT),D=o.computeCanvasDrawConfig(A,E,_,T);if(i){var L=o.createCanvasElement(_,T,"qr-canvas-visible");L.style.display="inline-block",b.appendChild(L);var H=L.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=_,H.canvas.height=T,H.drawImage(m,0,0,A,E,D.x,D.y,D.width,D.height)}var P=mi.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(m.width,D.width),Z=Math.max(m.height,D.height),q=U+2*P,at=Z+2*P,mt=o.createCanvasElement(q,at);b.appendChild(mt);var xt=mt.getContext("2d");if(!xt)throw"Unable to get 2d context from canvas";xt.canvas.width=q,xt.canvas.height=at,xt.drawImage(m,0,0,A,E,P,P,U,Z);try{o.qrcode.decodeRobustlyAsync(mt).then(function(Ct){f(Rg.createFromQrcodeResult(Ct))}).catch(d)}catch(Ct){d("QR code parse error, error = ".concat(Ct))}},m.onerror=d,m.onabort=d,m.onstalled=d,m.onsuspend=d,m.src=URL.createObjectURL(n)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return Bb.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(n){if(n){if(!Tx.isMediaStreamConstraintsValid(n,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(n)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(n){var i=[Ot.QR_CODE,Ot.AZTEC,Ot.CODABAR,Ot.CODE_39,Ot.CODE_93,Ot.CODE_128,Ot.DATA_MATRIX,Ot.MAXICODE,Ot.ITF,Ot.EAN_13,Ot.EAN_8,Ot.PDF_417,Ot.RSS_14,Ot.RSS_EXPANDED,Ot.UPC_A,Ot.UPC_E,Ot.UPC_EAN_EXTENSION];if(!n||typeof n=="boolean"||!n.formatsToSupport)return i;if(!Array.isArray(n.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(n.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],f=0,d=n.formatsToSupport;f<d.length;f++){var m=d[f];pb(m)?o.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},s.prototype.getUseBarCodeDetectorIfSupported=function(n){if(fa(n))return!0;if(!fa(n.useBarCodeDetectorIfSupported))return n.useBarCodeDetectorIfSupported!==!1;if(fa(n.experimentalFeatures))return!0;var i=n.experimentalFeatures;return fa(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(n,i,o){var f=this,d=o.qrbox;this.validateQrboxConfig(d);var m=this.toQrdimensions(n,i,d),A=function(b){if(b<mi.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(mi.MIN_QR_BOX_SIZE,"px.")},E=function(b){return b>n&&(f.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),b=n),b};A(m.width),A(m.height),m.width=E(m.width)},s.prototype.validateQrboxConfig=function(n){if(typeof n!="number"&&typeof n!="function"&&(n.width===void 0||n.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(n,i,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(n,i)}catch(f){throw new Error("qrbox config was passed as a function but it failed with unknown error"+f)}return o},s.prototype.setupUi=function(n,i,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(n,i,o);var f=fa(o.qrbox)?{width:n,height:i}:o.qrbox;this.validateQrboxConfig(f);var d=this.toQrdimensions(n,i,f);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=o.isShadedBoxEnabled()&&d.height<=i,A={x:0,y:0,width:n,height:i},E=m?this.getShadedRegionBounds(n,i,d):A,b=this.createCanvasElement(E.width,E.height),_={willReadFrequently:!0},T=b.getContext("2d",_);T.canvas.width=E.width,T.canvas.height=E.height,this.element.append(b),m&&this.possiblyInsertShadingElement(this.element,n,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=E,this.context=T,this.canvasElement=b},s.prototype.createScannerPausedUiElement=function(n){var i=document.createElement("div");i.innerText=il.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",n.appendChild(i),this.scannerPausedUiElement=i},s.prototype.scanContext=function(n,i){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(f){return n(f.text,Rg.createFromQrcodeResult(f)),o.possiblyUpdateShaders(!0),!0}).catch(function(f){o.possiblyUpdateShaders(!1);var d=il.codeParseError(f);return i(d,_x.createFrom(d)),!1})},s.prototype.foreverScan=function(n,i,o){var f=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),m=d.videoWidth/d.clientWidth,A=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var E=this.qrRegion.width*m,b=this.qrRegion.height*A,_=this.qrRegion.x*m,T=this.qrRegion.y*A;this.context.drawImage(d,_,T,E,b,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){f.foreverScanTimeout=setTimeout(function(){f.foreverScan(n,i,o)},f.getTimeoutFps(n.fps))};this.scanContext(i,o).then(function(L){!L&&n.disableFlip!==!0?(f.context.translate(f.context.canvas.width,0),f.context.scale(-1,1),f.scanContext(i,o).finally(function(){D()})):D()}).catch(function(L){f.logger.logError("Error happend while scanning context",L),D()})}},s.prototype.createVideoConstraints=function(n){if(typeof n=="string")return{deviceId:{exact:n}};if(typeof n=="object"){var i="facingMode",o="deviceId",f={user:!0,environment:!0},d="exact",m=function(H){if(H in f)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(H,"'")},A=Object.keys(n);if(A.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(A.length," keys");var E=Object.keys(n)[0];if(E!==i&&E!==o)throw"Only '".concat(i,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(E===i){var b=n.facingMode;if(typeof b=="string"){if(m(b))return{facingMode:b}}else if(typeof b=="object")if(d in b){if(m(b["".concat(d)]))return{facingMode:{exact:b["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var _=typeof b;throw"Invalid type of 'facingMode' = ".concat(_)}}else{var T=n.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(d in T)return{deviceId:{exact:T["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var D=typeof T;throw"Invalid type of 'deviceId' = ".concat(D)}}}var L=typeof n;throw"Invalid type of 'cameraIdOrConfig' = ".concat(L)},s.prototype.computeCanvasDrawConfig=function(n,i,o,f){if(n<=o&&i<=f){var d=(o-n)/2,m=(f-i)/2;return{x:d,y:m,width:n,height:i}}else{var A=n,E=i;return n>o&&(i=o/n*i,n=o),i>f&&(n=f/i*n,i=f),this.logger.log("Image downsampled from "+"".concat(A,"X").concat(E)+" to ".concat(n,"X").concat(i,".")),this.computeCanvasDrawConfig(n,i,o,f)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var n=document.getElementById(this.elementId);n&&(n.innerHTML="")},s.prototype.possiblyUpdateShaders=function(n){this.qrMatch!==n&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=n?mi.BORDER_SHADER_MATCH_COLOR:mi.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=n)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(n,i,o){var f=n,d=i,m=document.createElement("canvas");return m.style.width="".concat(f,"px"),m.style.height="".concat(d,"px"),m.style.display="none",m.id=fa(o)?"qr-canvas":o,m},s.prototype.getShadedRegionBounds=function(n,i,o){if(o.width>n||o.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(n-o.width)/2,y:(i-o.height)/2,width:o.width,height:o.height}},s.prototype.possiblyInsertShadingElement=function(n,i,o,f){if(!(i-f.width<1||o-f.height<1)){var d=document.createElement("div");d.style.position="absolute";var m=(i-f.width)/2,A=(o-f.height)/2;if(d.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(mi.SHADED_REGION_ELEMENT_ID),i-f.width<11||o-f.height<11)this.hasBorderShaders=!1;else{var E=5,b=40;this.insertShaderBorders(d,b,E,-E,null,0,!0),this.insertShaderBorders(d,b,E,-E,null,0,!1),this.insertShaderBorders(d,b,E,null,-E,0,!0),this.insertShaderBorders(d,b,E,null,-E,0,!1),this.insertShaderBorders(d,E,b+E,-E,null,-E,!0),this.insertShaderBorders(d,E,b+E,null,-E,-E,!0),this.insertShaderBorders(d,E,b+E,-E,null,-E,!1),this.insertShaderBorders(d,E,b+E,null,-E,-E,!1),this.hasBorderShaders=!0}n.append(d)}},s.prototype.insertShaderBorders=function(n,i,o,f,d,m,A){var E=document.createElement("div");E.style.position="absolute",E.style.backgroundColor=mi.BORDER_SHADER_DEFAULT_COLOR,E.style.width="".concat(i,"px"),E.style.height="".concat(o,"px"),f!==null&&(E.style.top="".concat(f,"px")),d!==null&&(E.style.bottom="".concat(d,"px")),A?E.style.left="".concat(m,"px"):E.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(E),n.appendChild(E)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(n){return 1e3/n},s})(),od="data:image/svg+xml;base64,",Hb=od+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",jb=od+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Vg=od+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Vb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Yg=(function(){function s(){}return s.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},s})(),Yb=(function(){function s(){this.data=Yg.createDefault();var n=localStorage.getItem(s.LOCAL_STORAGE_KEY);n?this.data=JSON.parse(n):this.reset()}return s.prototype.hasCameraPermissions=function(){return this.data.hasPermission},s.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},s.prototype.setHasPermission=function(n){this.data.hasPermission=n,this.flush()},s.prototype.setLastUsedCameraId=function(n){this.data.lastUsedCameraId=n,this.flush()},s.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},s.prototype.reset=function(){this.data=Yg.createDefault(),this.flush()},s.prototype.flush=function(){localStorage.setItem(s.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},s.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",s})(),Gb=(function(){function s(){this.infoDiv=document.createElement("div")}return s.prototype.renderInto=function(n){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Lg.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var o=document.createElement("br"),f=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(f);var d=document.createElement("a");d.innerText=Lg.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),n.appendChild(this.infoDiv)},s.prototype.show=function(){this.infoDiv.style.display="block"},s.prototype.hide=function(){this.infoDiv.style.display="none"},s})(),Xb=(function(){function s(n,i){this.isShowingInfoIcon=!0,this.onTapIn=n,this.onTapOut=i,this.infoIcon=document.createElement("img")}return s.prototype.renderInto=function(n){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Vg,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return i.onHoverIn()},this.infoIcon.onmouseout=function(o){return i.onHoverOut()},this.infoIcon.onclick=function(o){return i.onClick()},n.appendChild(this.infoIcon)},s.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},s.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},s.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Vb,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Vg,this.infoIcon.style.opacity="0.6")},s})(),Wb=(function(){function s(){var n=this;this.infoDiv=new Gb,this.infoIcon=new Xb(function(){n.infoDiv.show()},function(){n.infoDiv.hide()})}return s.prototype.renderInto=function(n){this.infoDiv.renderInto(n),this.infoIcon.renderInto(n)},s})(),Zb=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},qb=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Gg=(function(){function s(){}return s.hasPermissions=function(){return Zb(this,void 0,void 0,function(){var n,i,o,f;return qb(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(n=d.sent(),i=0,o=n;i<o.length;i++)if(f=o[i],f.kind==="videoinput"&&f.label)return[2,!0];return[2,!1]}})})},s})(),Cs=(function(){function s(n){this.supportedScanTypes=this.validateAndReturnScanTypes(n)}return s.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},s.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},s.prototype.isCameraScanRequired=function(){for(var n=0,i=this.supportedScanTypes;n<i.length;n++){var o=i[n];if(s.isCameraScanType(o))return!0}return!1},s.isCameraScanType=function(n){return n===Ns.SCAN_TYPE_CAMERA},s.isFileScanType=function(n){return n===Ns.SCAN_TYPE_FILE},s.prototype.validateAndReturnScanTypes=function(n){if(!n||n.length===0)return Hi.DEFAULT_SUPPORTED_SCAN_TYPE;var i=Hi.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(n.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var o=0,f=n;o<f.length;o++){var d=f[o];if(!Hi.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return n},s})(),yi=(function(){function s(){}return s.ALL_ELEMENT_CLASS="html5-qrcode-element",s.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",s.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",s.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",s.TORCH_BUTTON_ID="html5-qrcode-button-torch",s.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",s.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",s.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",s.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",s.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",s.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",s})(),Ha=(function(){function s(){}return s.createElement=function(n,i){var o=document.createElement(n);return o.id=i,o.classList.add(yi.ALL_ELEMENT_CLASS),n==="button"&&o.setAttribute("type","button"),o},s})(),Ox=function(s,n,i,o){function f(d){return d instanceof i?d:new i(function(m){m(d)})}return new(i||(i=Promise))(function(d,m){function A(_){try{b(o.next(_))}catch(T){m(T)}}function E(_){try{b(o.throw(_))}catch(T){m(T)}}function b(_){_.done?d(_.value):f(_.value).then(A,E)}b((o=o.apply(s,n||[])).next())})},Nx=function(s,n){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,f,d,m;return m={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function A(b){return function(_){return E([b,_])}}function E(b){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,b[0]&&(i=0)),i;)try{if(o=1,f&&(d=b[0]&2?f.return:b[0]?f.throw||((d=f.return)&&d.call(f),0):f.next)&&!(d=d.call(f,b[1])).done)return d;switch(f=0,d&&(b=[b[0]&2,d.value]),b[0]){case 0:case 1:d=b;break;case 4:return i.label++,{value:b[1],done:!1};case 5:i.label++,f=b[1],b=[0];continue;case 7:b=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(b[0]===6||b[0]===2)){i=0;continue}if(b[0]===3&&(!d||b[1]>d[0]&&b[1]<d[3])){i.label=b[1];break}if(b[0]===6&&i.label<d[1]){i.label=d[1],d=b;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(b);break}d[2]&&i.ops.pop(),i.trys.pop();continue}b=n.call(s,i)}catch(_){b=[6,_],f=0}finally{o=d=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},Xg=(function(){function s(n,i,o){this.isTorchOn=!1,this.torchCapability=n,this.buttonController=i,this.onTorchActionFailureCallback=o}return s.prototype.isTorchEnabled=function(){return this.isTorchOn},s.prototype.flipState=function(){return Ox(this,void 0,void 0,function(){var n,i;return Nx(this,function(o){switch(o.label){case 0:this.buttonController.disable(),n=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(n)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),n),[3,4];case 3:return i=o.sent(),this.propagateFailure(n,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},s.prototype.updateUiBasedOnLatestSettings=function(n,i){n===i?(this.buttonController.setText(i?_e.torchOffButton():_e.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},s.prototype.propagateFailure=function(n,i){var o=n?_e.torchOnFailedMessage():_e.torchOffFailedMessage();i&&(o+="; Error = "+i),this.onTorchActionFailureCallback(o)},s.prototype.reset=function(){this.isTorchOn=!1},s})(),Qb=(function(){function s(n,i){this.onTorchActionFailureCallback=i,this.torchButton=Ha.createElement("button",yi.TORCH_BUTTON_ID),this.torchController=new Xg(n,this,i)}return s.prototype.render=function(n,i){var o=this;this.torchButton.innerText=_e.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var f=this;this.torchButton.addEventListener("click",function(d){return Ox(o,void 0,void 0,function(){return Nx(this,function(m){switch(m.label){case 0:return[4,f.torchController.flipState()];case 1:return m.sent(),f.torchController.isTorchEnabled()?(f.torchButton.classList.remove(yi.TORCH_BUTTON_CLASS_TORCH_OFF),f.torchButton.classList.add(yi.TORCH_BUTTON_CLASS_TORCH_ON)):(f.torchButton.classList.remove(yi.TORCH_BUTTON_CLASS_TORCH_ON),f.torchButton.classList.add(yi.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),n.appendChild(this.torchButton)},s.prototype.updateTorchCapability=function(n){this.torchController=new Xg(n,this,this.onTorchActionFailureCallback)},s.prototype.getTorchButton=function(){return this.torchButton},s.prototype.hide=function(){this.torchButton.style.display="none"},s.prototype.show=function(){this.torchButton.style.display="inline-block"},s.prototype.disable=function(){this.torchButton.disabled=!0},s.prototype.enable=function(){this.torchButton.disabled=!1},s.prototype.setText=function(n){this.torchButton.innerText=n},s.prototype.reset=function(){this.torchButton.innerText=_e.torchOnButton(),this.torchController.reset()},s.create=function(n,i,o,f){var d=new s(i,f);return d.render(n,o),d},s})(),Kb=(function(){function s(n,i,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",n.appendChild(this.fileBasedScanRegion);var f=document.createElement("label");f.setAttribute("for",this.getFileScanInputId()),f.style.display="inline-block",this.fileBasedScanRegion.appendChild(f),this.fileSelectionButton=Ha.createElement("button",yi.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(A){f.click()}),f.append(this.fileSelectionButton),this.fileScanInput=Ha.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",f.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(A){if(!(A==null||A.target==null)){var E=A.target;if(!(E.files&&E.files.length===0)){var b=E.files,_=b[0],T=_.name;d.setImageNameToButton(T),o(_)}}});var m=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(m),this.fileBasedScanRegion.addEventListener("dragenter",function(A){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(A){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(A){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),A.stopPropagation(),A.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(A){A.stopPropagation(),A.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var E=A.dataTransfer;if(E){var b=E.files;if(!b||b.length===0)return;for(var _=!1,T=0;T<b.length;++T){var D=b.item(T);if(D){var L=/image.*/;if(D.type.match(L)){_=!0;var H=D.name;d.setImageNameToButton(H),o(D),m.innerText=_e.dragAndDropMessage();break}}}_||(m.innerText=_e.dragAndDropMessageOnlyImages())}})}return s.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},s.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},s.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},s.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},s.prototype.createFileBasedScanRegion=function(){var n=document.createElement("div");return n.style.textAlign="center",n.style.margin="auto",n.style.width="80%",n.style.maxWidth="600px",n.style.border=this.fileBasedScanRegionDefaultBorder(),n.style.padding="10px",n.style.marginBottom="10px",n},s.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},s.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},s.prototype.createDragAndDropMessage=function(){var n=document.createElement("div");return n.innerText=_e.dragAndDropMessage(),n.style.fontWeight="400",n},s.prototype.setImageNameToButton=function(n){var i=20;if(n.length>i){var o=n.substring(0,8),f=n.length,d=n.substring(f-8,f);n="".concat(o,"....").concat(d)}var m=_e.fileSelectionChooseAnother()+" - "+n;this.fileSelectionButton.innerText=m},s.prototype.setInitialValueToButton=function(){var n=_e.fileSelectionChooseImage()+" - "+_e.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=n},s.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},s.create=function(n,i,o){var f=new s(n,i,o);return f},s})(),Jb=(function(){function s(n){this.selectElement=Ha.createElement("select",yi.CAMERA_SELECTION_SELECT_ID),this.cameras=n,this.options=[]}return s.prototype.render=function(n){var i=document.createElement("span");i.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)i.style.display="none";else{var f=_e.selectCamera();i.innerText="".concat(f," (").concat(this.cameras.length,")  ")}for(var d=1,m=0,A=this.cameras;m<A.length;m++){var E=A[m],b=E.id,_=E.label==null?b:E.label;(!_||_==="")&&(_=[_e.anonymousCameraPrefix(),d++].join(" "));var T=document.createElement("option");T.value=b,T.innerText=_,this.options.push(T),this.selectElement.appendChild(T)}i.appendChild(this.selectElement),n.appendChild(i)},s.prototype.disable=function(){this.selectElement.disabled=!0},s.prototype.isDisabled=function(){return this.selectElement.disabled===!0},s.prototype.enable=function(){this.selectElement.disabled=!1},s.prototype.getValue=function(){return this.selectElement.value},s.prototype.hasValue=function(n){for(var i=0,o=this.options;i<o.length;i++){var f=o[i];if(f.value===n)return!0}return!1},s.prototype.setValue=function(n){if(!this.hasValue(n))throw new Error("".concat(n," is not present in the camera list."));this.selectElement.value=n},s.prototype.hasSingleItem=function(){return this.cameras.length===1},s.prototype.numCameras=function(){return this.cameras.length},s.create=function(n,i){var o=new s(i);return o.render(n),o},s})(),$b=(function(){function s(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ha.createElement("input",yi.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return s.prototype.render=function(n,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",n.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var f=this;this.rangeInput.addEventListener("input",function(){return f.onValueChange()}),this.rangeInput.addEventListener("change",function(){return f.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},s.prototype.onValueChange=function(){var n=_e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},s.prototype.setValues=function(n,i,o,f){this.rangeInput.min=n.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=f.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},s.prototype.show=function(){this.zoomElementContainer.style.display="block"},s.prototype.hide=function(){this.zoomElementContainer.style.display="none"},s.prototype.setOnCameraZoomValueChangeCallback=function(n){this.onChangeCallback=n},s.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},s.create=function(n,i){var o=new s;return o.render(n,i),o},s})(),pi;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(pi||(pi={}));function t3(s){return{fps:s.fps,qrbox:s.qrbox,aspectRatio:s.aspectRatio,disableFlip:s.disableFlip,videoConstraints:s.videoConstraints}}function e3(s,n){return{formatsToSupport:s.formatsToSupport,useBarCodeDetectorIfSupported:s.useBarCodeDetectorIfSupported,experimentalFeatures:s.experimentalFeatures,verbose:n}}var n3=(function(){function s(n,i,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=n,this.config=this.createConfig(i),this.verbose=o===!0,!document.getElementById(n))throw"HTML Element with id=".concat(n," not found");this.scanTypeSelector=new Cs(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new vx(this.verbose),this.persistedDataManager=new Yb,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return s.prototype.render=function(n,i){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,m){if(n)n(d,m);else{if(o.lastMatchFound===d)return;o.lastMatchFound=d,o.setHeaderMessage(_e.lastMatch(d),pi.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,m){i&&i(d,m)};var f=document.getElementById(this.elementId);if(!f)throw"HTML Element with id=".concat(this.elementId," not found");f.innerHTML="",this.createBasicLayout(f),this.html5Qrcode=new jg(this.getScanRegionId(),e3(this.config,this.verbose))},s.prototype.pause=function(n){(fa(n)||n!==!0)&&(n=!1),this.getHtml5QrcodeOrFail().pause(n)},s.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},s.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},s.prototype.clear=function(){var n=this,i=function(){var o=document.getElementById(n.elementId);o&&(o.innerHTML="",n.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,f){if(!n.html5Qrcode){o();return}n.html5Qrcode.isScanning?n.html5Qrcode.stop().then(function(d){if(!n.html5Qrcode){o();return}n.html5Qrcode.clear(),i(),o()}).catch(function(d){n.verbose&&n.logger.logError("Unable to stop qrcode scanner",d),f(d)}):(n.html5Qrcode.clear(),i(),o())}):Promise.resolve()},s.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},s.prototype.applyVideoConstraints=function(n){return this.getHtml5QrcodeOrFail().applyVideoConstraints(n)},s.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},s.prototype.createConfig=function(n){return n?(n.fps||(n.fps=Hi.SCAN_DEFAULT_FPS),n.rememberLastUsedCamera!==!Hi.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(n.rememberLastUsedCamera=Hi.DEFAULT_REMEMBER_LAST_CAMERA_USED),n.supportedScanTypes||(n.supportedScanTypes=Hi.DEFAULT_SUPPORTED_SCAN_TYPE),n):{fps:Hi.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Hi.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Hi.DEFAULT_SUPPORTED_SCAN_TYPE}},s.prototype.createBasicLayout=function(n){n.style.position="relative",n.style.padding="0px",n.style.border="1px solid silver",this.createHeader(n);var i=document.createElement("div"),o=this.getScanRegionId();i.id=o,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",n.appendChild(i),Cs.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var f=document.createElement("div"),d=this.getDashboardId();f.id=d,f.style.width="100%",n.appendChild(f),this.setupInitialDashboard(f)},s.prototype.resetBasicLayout=function(n){n.style.border="none"},s.prototype.setupInitialDashboard=function(n){this.createSection(n),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},s.prototype.createHeader=function(n){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",n.appendChild(i);var o=new Wb;o.renderInto(i);var f=document.createElement("div");f.id=this.getHeaderMessageContainerId(),f.style.display="none",f.style.textAlign="center",f.style.fontSize="14px",f.style.padding="2px 10px",f.style.margin="4px",f.style.borderTop="1px solid #f6f6f6",i.appendChild(f)},s.prototype.createSection=function(n){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",n.appendChild(i)},s.prototype.createCameraListUi=function(n,i,o){var f=this;f.showHideScanTypeSwapLink(!1),f.setHeaderMessage(_e.cameraPermissionRequesting());var d=function(){o||f.createPermissionButton(n,i)};jg.getCameras().then(function(m){f.persistedDataManager.setHasPermission(!0),f.showHideScanTypeSwapLink(!0),f.resetHeaderMessage(),m&&m.length>0?(n.removeChild(i),f.renderCameraSelection(m)):(f.setHeaderMessage(_e.noCameraFound(),pi.STATUS_WARNING),d())}).catch(function(m){f.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:d(),f.setHeaderMessage(m,pi.STATUS_WARNING),f.showHideScanTypeSwapLink(!0)})},s.prototype.createPermissionButton=function(n,i){var o=this,f=Ha.createElement("button",this.getCameraPermissionButtonId());f.innerText=_e.cameraPermissionTitle(),f.addEventListener("click",function(){f.disabled=!0,o.createCameraListUi(n,i,f)}),i.appendChild(f)},s.prototype.createPermissionsUi=function(n,i){var o=this;if(Cs.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Gg.hasPermissions().then(function(f){f?o.createCameraListUi(n,i):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(n,i))}).catch(function(f){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(n,i)});return}this.createPermissionButton(n,i)},s.prototype.createSectionControlPanel=function(){var n=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");n.appendChild(i);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Cs.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(o);var f=document.createElement("div");f.style.textAlign="center",o.appendChild(f),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,f),this.renderFileScanUi(i)},s.prototype.renderFileScanUi=function(n){var i=Cs.isFileScanType(this.currentScanType),o=this,f=function(d){if(!o.html5Qrcode)throw"html5Qrcode not defined";Cs.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(_e.loadingImage()),o.html5Qrcode.scanFileV2(d,!0).then(function(m){o.resetHeaderMessage(),o.qrCodeSuccessCallback(m.decodedText,m)}).catch(function(m){o.setHeaderMessage(m,pi.STATUS_WARNING),o.qrCodeErrorCallback(m,_x.createFrom(m))}))};this.fileSelectionUi=Kb.create(n,i,f)},s.prototype.renderCameraSelection=function(n){var i=this,o=this,f=document.getElementById(this.getDashboardSectionCameraScanRegionId());f.style.textAlign="center";var d=$b.create(f,!1),m=function(P){var U=P.zoomFeature();if(U.isSupported()){d.setOnCameraZoomValueChangeCallback(function(q){U.apply(q)});var Z=1;i.config.defaultZoomValueIfSupported&&(Z=i.config.defaultZoomValueIfSupported),Z=yb(Z,U.min(),U.max()),d.setValues(U.min(),U.max(),Z,U.step()),d.show()}},A=Jb.create(f,n),E=document.createElement("span"),b=Ha.createElement("button",yi.CAMERA_START_BUTTON_ID);b.innerText=_e.scanButtonStartScanningText(),E.appendChild(b);var _=Ha.createElement("button",yi.CAMERA_STOP_BUTTON_ID);_.innerText=_e.scanButtonStopScanningText(),_.style.display="none",_.disabled=!0,E.appendChild(_);var T,D=function(P){if(!P.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(P.torchFeature()):T=Qb.create(E,P.torchFeature(),{display:"none",marginLeft:"5px"},function(U){o.setHeaderMessage(U,pi.STATUS_WARNING)}),T.show()};f.appendChild(E);var L=function(P){P||(b.style.display="none"),b.innerText=_e.scanButtonStartScanningText(),b.style.opacity="1",b.disabled=!1,P&&(b.style.display="inline-block")};if(b.addEventListener("click",function(P){b.innerText=_e.scanButtonScanningStarting(),A.disable(),b.disabled=!0,b.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var U=A.getValue();o.persistedDataManager.setLastUsedCameraId(U),o.html5Qrcode.start(U,t3(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(Z){_.disabled=!1,_.style.display="inline-block",L(!1);var q=o.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&D(q),i.config.showZoomSliderIfSupported===!0&&m(q)}).catch(function(Z){o.showHideScanTypeSwapLink(!0),A.enable(),L(!0),o.setHeaderMessage(Z,pi.STATUS_WARNING)})}),A.hasSingleItem()&&b.click(),_.addEventListener("click",function(P){if(!o.html5Qrcode)throw"html5Qrcode not defined";_.disabled=!0,o.html5Qrcode.stop().then(function(U){i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),A.enable(),b.disabled=!1,_.style.display="none",b.style.display="inline-block",T&&(T.reset(),T.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(U){_.disabled=!1,o.setHeaderMessage(U,pi.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var H=o.persistedDataManager.getLastUsedCameraId();A.hasValue(H)?(A.setValue(H),b.click()):o.persistedDataManager.resetLastUsedCameraId()}},s.prototype.createSectionSwap=function(){var n=this,i=_e.textIfCameraScanSelected(),o=_e.textIfFileScanSelected(),f=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var m=Ha.createElement("span",this.getDashboardSectionSwapLinkId());m.style.textDecoration="underline",m.style.cursor="pointer",m.innerText=Cs.isCameraScanType(this.currentScanType)?i:o,m.addEventListener("click",function(){if(!n.sectionSwapAllowed){n.verbose&&n.logger.logError("Section swap called when not allowed");return}n.resetHeaderMessage(),n.fileSelectionUi.resetValue(),n.sectionSwapAllowed=!1,Cs.isCameraScanType(n.currentScanType)?(n.clearScanRegion(),n.getCameraScanRegion().style.display="none",n.fileSelectionUi.show(),m.innerText=o,n.currentScanType=Ns.SCAN_TYPE_FILE,n.insertFileScanImageToScanRegion()):(n.clearScanRegion(),n.getCameraScanRegion().style.display="block",n.fileSelectionUi.hide(),m.innerText=i,n.currentScanType=Ns.SCAN_TYPE_CAMERA,n.insertCameraScanImageToScanRegion(),n.startCameraScanIfPermissionExistsOnSwap()),n.sectionSwapAllowed=!0}),d.appendChild(m),f.appendChild(d)},s.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var n=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){Gg.hasPermissions().then(function(o){if(o){var f=document.getElementById(i.getCameraPermissionButtonId());if(!f)throw n.logger.logError("Permission button not found, fail;"),"Permission button not found";f.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(o){i.persistedDataManager.setHasPermission(!1)});return}},s.prototype.resetHeaderMessage=function(){var n=document.getElementById(this.getHeaderMessageContainerId());n.style.display="none"},s.prototype.setHeaderMessage=function(n,i){i||(i=pi.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=n,o.style.display="block",i){case pi.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case pi.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case pi.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},s.prototype.showHideScanTypeSwapLink=function(n){this.scanTypeSelector.hasMoreThanOneScanType()&&(n!==!0&&(n=!1),this.sectionSwapAllowed=n,this.getDashboardSectionSwapLink().style.display=n?"inline-block":"none")},s.prototype.insertCameraScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(n.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Hb,this.cameraScanImage.alt=_e.cameraScanAltText()},s.prototype.insertFileScanImageToScanRegion=function(){var n=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(n.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=jb,this.fileScanImage.alt=_e.fileScanAltText()},s.prototype.clearScanRegion=function(){var n=document.getElementById(this.getScanRegionId());n.innerHTML=""},s.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},s.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},s.prototype.getDashboardSectionSwapLinkId=function(){return yi.SCAN_TYPE_CHANGE_ANCHOR_ID},s.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},s.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},s.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},s.prototype.getCameraPermissionButtonId=function(){return yi.CAMERA_PERMISSION_BUTTON_ID},s.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},s.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},s.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},s})();function i3(){const[s,n]=it.useState([]),[i,o]=it.useState([]),[f,d]=it.useState(""),[m,A]=it.useState(""),[E,b]=it.useState(""),[_,T]=it.useState(""),[D,L]=it.useState(!1),[H,P]=it.useState(!1),U=it.useCallback(X=>{o(gt=>gt.find(nt=>nt.id===X.id)?gt:[...gt,X])},[]),Z=it.useCallback(X=>{const gt=s.find(nt=>nt.item_id===X);gt?(U(gt),T(`Success: Added ${gt.name} to cart.`)):T(`Error: Item with ID ${X} not found in stock.`),L(!1)},[s,U]);it.useEffect(()=>{if(D){const X=new n3("reader",{qrbox:{width:250,height:250},fps:5},!1),gt=Ft=>{X.clear(),Z(Ft)},nt=()=>{};return X.render(gt,nt),()=>{X&&X.getState()===2&&X.clear().catch(Ft=>console.error("Failed to clear scanner:",Ft))}}},[D,Z]),it.useEffect(()=>{q()},[]);const q=async()=>{try{const gt=await(await fetch("/api/items/")).json();n(gt.filter(nt=>nt.stock_status==="IN_STOCK"))}catch(X){console.error("Error fetching inventory:",X)}},at=X=>{o(i.filter(gt=>gt.id!==X))},mt=async()=>{if(i.length===0)return T("Error: Cart is empty.");if(!f||!m)return T("Error: Customer name and phone are required.");T("");try{const X={customer_name:f,customer_phone:m,sales:i.map(nt=>({jewelry_item:nt.id,quantity:1,price_at_sale:nt.selling_price}))},gt=await fetch("/api/transactions/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(X)});if(!gt.ok)throw new Error(JSON.stringify(await gt.json())||"Failed to create transaction.");T("Transaction completed successfully!"),o([]),d(""),A(""),q()}catch(X){T(`Error: ${X.message}`)}},xt=i.reduce((X,gt)=>X+parseFloat(gt.selling_price),0),Ct=s.filter(X=>X.name.toLowerCase().includes(E.toLowerCase())||X.item_id.toLowerCase().includes(E.toLowerCase()));return G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"pos-container",children:[G.jsxs("div",{className:`inventory-panel ${H?"collapsed":""}`,children:[G.jsxs("h2",{className:"collapsible-header",onClick:()=>P(!H),children:["Inventory",G.jsx("span",{className:"collapse-icon",children:H?"▼":"▲"})]}),G.jsxs("div",{className:"inventory-content",children:[G.jsx("input",{type:"text",placeholder:"Search by name or ID...",className:"search-bar",value:E,onChange:X=>b(X.target.value)}),G.jsx("div",{className:"inventory-grid",children:Ct.map(X=>G.jsxs("div",{className:"inventory-card",onClick:()=>U(X),children:[G.jsx("div",{className:"pos-card-image-container",children:X.image?G.jsx("img",{src:X.image,alt:X.name,className:"pos-card-image"}):G.jsx("div",{className:"pos-card-image-placeholder"})}),G.jsx("h4",{children:X.name}),G.jsx("p",{children:X.item_id}),G.jsxs("p",{className:"price",children:["₹",parseFloat(X.selling_price).toLocaleString("en-IN")]})]},X.id))})]})]}),G.jsxs("div",{className:"cart-panel",children:[G.jsx("h2",{children:"Sales Cart"}),G.jsx("button",{className:"scan-btn",onClick:()=>L(!0),children:"📷 Scan Barcode"}),G.jsxs("div",{className:"customer-details",children:[G.jsx("input",{type:"text",placeholder:"Customer Name",value:f,onChange:X=>d(X.target.value)}),G.jsx("input",{type:"text",placeholder:"Customer Phone",value:m,onChange:X=>A(X.target.value)})]}),G.jsx("div",{className:"cart-items",children:i.length===0?G.jsx("p",{children:"Cart is empty"}):i.map(X=>G.jsxs("div",{className:"cart-item",children:[G.jsxs("span",{children:[X.name," (",X.item_id,")"]}),G.jsxs("span",{children:["₹",parseFloat(X.selling_price).toLocaleString("en-IN")]}),G.jsx("button",{onClick:()=>at(X.id),children:"Remove"})]},X.id))}),G.jsxs("div",{className:"cart-summary",children:[G.jsxs("h3",{children:["Total: ₹",xt.toLocaleString("en-IN")]}),G.jsx("button",{className:"checkout-btn",onClick:mt,children:"Checkout"})]}),_&&G.jsx("p",{className:"message-bar",children:_})]})]}),D&&G.jsx("div",{className:"scanner-overlay",children:G.jsxs("div",{className:"scanner-container",children:[G.jsx("h3",{children:"Scan Item Barcode"}),G.jsx("div",{id:"reader"}),G.jsx("button",{className:"cancel-scan-btn",onClick:()=>L(!1),children:"Cancel"})]})})]})}function a3(){const[s,n]=it.useState([]),[i,o]=it.useState(!0);return it.useEffect(()=>{(async()=>{try{const m=await(await fetch("/api/inventory-report/")).json();n(m)}catch(d){console.error("Failed to fetch report:",d)}finally{o(!1)}})()},[]),G.jsxs("div",{className:"report-container",children:[G.jsx("h1",{children:"Inventory Stock Report"}),G.jsx("a",{href:"/api/inventory-report/?format=csv",className:"download-btn",download:!0,children:"Download as CSV"}),i?G.jsx("p",{children:"Loading report..."}):G.jsxs("table",{className:"report-table",children:[G.jsx("thead",{children:G.jsxs("tr",{children:[G.jsx("th",{children:"Category"}),G.jsx("th",{children:"Item Name"}),G.jsx("th",{children:"Style"}),G.jsx("th",{children:"Material"}),G.jsx("th",{children:"Stock Count"})]})}),G.jsx("tbody",{children:s.map((f,d)=>G.jsxs("tr",{children:[G.jsx("td",{"data-label":"Category",children:f.category}),G.jsx("td",{"data-label":"Item Name",children:f.name}),G.jsx("td",{"data-label":"Style",children:f.style}),G.jsx("td",{"data-label":"Material",children:f.material}),G.jsx("td",{"data-label":"Stock Count",children:f.count})]},d))})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Fo(s){return s+.5|0}const _s=(s,n,i)=>Math.max(Math.min(s,i),n);function Eo(s){return _s(Fo(s*2.55),0,255)}function Ts(s){return _s(Fo(s*255),0,255)}function za(s){return _s(Fo(s/2.55)/100,0,1)}function Wg(s){return _s(Fo(s*100),0,100)}const Oi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qh=[..."0123456789ABCDEF"],s3=s=>Qh[s&15],r3=s=>Qh[(s&240)>>4]+Qh[s&15],Kc=s=>(s&240)>>4===(s&15),l3=s=>Kc(s.r)&&Kc(s.g)&&Kc(s.b)&&Kc(s.a);function o3(s){var n=s.length,i;return s[0]==="#"&&(n===4||n===5?i={r:255&Oi[s[1]]*17,g:255&Oi[s[2]]*17,b:255&Oi[s[3]]*17,a:n===5?Oi[s[4]]*17:255}:(n===7||n===9)&&(i={r:Oi[s[1]]<<4|Oi[s[2]],g:Oi[s[3]]<<4|Oi[s[4]],b:Oi[s[5]]<<4|Oi[s[6]],a:n===9?Oi[s[7]]<<4|Oi[s[8]]:255})),i}const c3=(s,n)=>s<255?n(s):"";function u3(s){var n=l3(s)?s3:r3;return s?"#"+n(s.r)+n(s.g)+n(s.b)+c3(s.a,n):void 0}const f3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ix(s,n,i){const o=n*Math.min(i,1-i),f=(d,m=(d+s/30)%12)=>i-o*Math.max(Math.min(m-3,9-m,1),-1);return[f(0),f(8),f(4)]}function h3(s,n,i){const o=(f,d=(f+s/60)%6)=>i-i*n*Math.max(Math.min(d,4-d,1),0);return[o(5),o(3),o(1)]}function d3(s,n,i){const o=Ix(s,1,.5);let f;for(n+i>1&&(f=1/(n+i),n*=f,i*=f),f=0;f<3;f++)o[f]*=1-n-i,o[f]+=n;return o}function g3(s,n,i,o,f){return s===f?(n-i)/o+(n<i?6:0):n===f?(i-s)/o+2:(s-n)/o+4}function cd(s){const i=s.r/255,o=s.g/255,f=s.b/255,d=Math.max(i,o,f),m=Math.min(i,o,f),A=(d+m)/2;let E,b,_;return d!==m&&(_=d-m,b=A>.5?_/(2-d-m):_/(d+m),E=g3(i,o,f,_,d),E=E*60+.5),[E|0,b||0,A]}function ud(s,n,i,o){return(Array.isArray(n)?s(n[0],n[1],n[2]):s(n,i,o)).map(Ts)}function fd(s,n,i){return ud(Ix,s,n,i)}function x3(s,n,i){return ud(d3,s,n,i)}function m3(s,n,i){return ud(h3,s,n,i)}function Dx(s){return(s%360+360)%360}function p3(s){const n=f3.exec(s);let i=255,o;if(!n)return;n[5]!==o&&(i=n[6]?Eo(+n[5]):Ts(+n[5]));const f=Dx(+n[2]),d=+n[3]/100,m=+n[4]/100;return n[1]==="hwb"?o=x3(f,d,m):n[1]==="hsv"?o=m3(f,d,m):o=fd(f,d,m),{r:o[0],g:o[1],b:o[2],a:i}}function y3(s,n){var i=cd(s);i[0]=Dx(i[0]+n),i=fd(i),s.r=i[0],s.g=i[1],s.b=i[2]}function b3(s){if(!s)return;const n=cd(s),i=n[0],o=Wg(n[1]),f=Wg(n[2]);return s.a<255?`hsla(${i}, ${o}%, ${f}%, ${za(s.a)})`:`hsl(${i}, ${o}%, ${f}%)`}const Zg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function A3(){const s={},n=Object.keys(qg),i=Object.keys(Zg);let o,f,d,m,A;for(o=0;o<n.length;o++){for(m=A=n[o],f=0;f<i.length;f++)d=i[f],A=A.replace(d,Zg[d]);d=parseInt(qg[m],16),s[A]=[d>>16&255,d>>8&255,d&255]}return s}let Jc;function w3(s){Jc||(Jc=A3(),Jc.transparent=[0,0,0,0]);const n=Jc[s.toLowerCase()];return n&&{r:n[0],g:n[1],b:n[2],a:n.length===4?n[3]:255}}const E3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function S3(s){const n=E3.exec(s);let i=255,o,f,d;if(n){if(n[7]!==o){const m=+n[7];i=n[8]?Eo(m):_s(m*255,0,255)}return o=+n[1],f=+n[3],d=+n[5],o=255&(n[2]?Eo(o):_s(o,0,255)),f=255&(n[4]?Eo(f):_s(f,0,255)),d=255&(n[6]?Eo(d):_s(d,0,255)),{r:o,g:f,b:d,a:i}}}function C3(s){return s&&(s.a<255?`rgba(${s.r}, ${s.g}, ${s.b}, ${za(s.a)})`:`rgb(${s.r}, ${s.g}, ${s.b})`)}const Bh=s=>s<=.0031308?s*12.92:Math.pow(s,1/2.4)*1.055-.055,nl=s=>s<=.04045?s/12.92:Math.pow((s+.055)/1.055,2.4);function _3(s,n,i){const o=nl(za(s.r)),f=nl(za(s.g)),d=nl(za(s.b));return{r:Ts(Bh(o+i*(nl(za(n.r))-o))),g:Ts(Bh(f+i*(nl(za(n.g))-f))),b:Ts(Bh(d+i*(nl(za(n.b))-d))),a:s.a+i*(n.a-s.a)}}function $c(s,n,i){if(s){let o=cd(s);o[n]=Math.max(0,Math.min(o[n]+o[n]*i,n===0?360:1)),o=fd(o),s.r=o[0],s.g=o[1],s.b=o[2]}}function Rx(s,n){return s&&Object.assign(n||{},s)}function Qg(s){var n={r:0,g:0,b:0,a:255};return Array.isArray(s)?s.length>=3&&(n={r:s[0],g:s[1],b:s[2],a:255},s.length>3&&(n.a=Ts(s[3]))):(n=Rx(s,{r:0,g:0,b:0,a:1}),n.a=Ts(n.a)),n}function v3(s){return s.charAt(0)==="r"?S3(s):p3(s)}class Oo{constructor(n){if(n instanceof Oo)return n;const i=typeof n;let o;i==="object"?o=Qg(n):i==="string"&&(o=o3(n)||w3(n)||v3(n)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var n=Rx(this._rgb);return n&&(n.a=za(n.a)),n}set rgb(n){this._rgb=Qg(n)}rgbString(){return this._valid?C3(this._rgb):void 0}hexString(){return this._valid?u3(this._rgb):void 0}hslString(){return this._valid?b3(this._rgb):void 0}mix(n,i){if(n){const o=this.rgb,f=n.rgb;let d;const m=i===d?.5:i,A=2*m-1,E=o.a-f.a,b=((A*E===-1?A:(A+E)/(1+A*E))+1)/2;d=1-b,o.r=255&b*o.r+d*f.r+.5,o.g=255&b*o.g+d*f.g+.5,o.b=255&b*o.b+d*f.b+.5,o.a=m*o.a+(1-m)*f.a,this.rgb=o}return this}interpolate(n,i){return n&&(this._rgb=_3(this._rgb,n._rgb,i)),this}clone(){return new Oo(this.rgb)}alpha(n){return this._rgb.a=Ts(n),this}clearer(n){const i=this._rgb;return i.a*=1-n,this}greyscale(){const n=this._rgb,i=Fo(n.r*.3+n.g*.59+n.b*.11);return n.r=n.g=n.b=i,this}opaquer(n){const i=this._rgb;return i.a*=1+n,this}negate(){const n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}lighten(n){return $c(this._rgb,2,n),this}darken(n){return $c(this._rgb,2,-n),this}saturate(n){return $c(this._rgb,1,n),this}desaturate(n){return $c(this._rgb,1,-n),this}rotate(n){return y3(this._rgb,n),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Fa(){}const T3=(()=>{let s=0;return()=>s++})();function ke(s){return s==null}function En(s){if(Array.isArray&&Array.isArray(s))return!0;const n=Object.prototype.toString.call(s);return n.slice(0,7)==="[object"&&n.slice(-6)==="Array]"}function ge(s){return s!==null&&Object.prototype.toString.call(s)==="[object Object]"}function Ii(s){return(typeof s=="number"||s instanceof Number)&&isFinite(+s)}function ca(s,n){return Ii(s)?s:n}function me(s,n){return typeof s>"u"?n:s}const M3=(s,n)=>typeof s=="string"&&s.endsWith("%")?parseFloat(s)/100*n:+s;function je(s,n,i){if(s&&typeof s.call=="function")return s.apply(i,n)}function ve(s,n,i,o){let f,d,m;if(En(s))for(d=s.length,f=0;f<d;f++)n.call(i,s[f],f);else if(ge(s))for(m=Object.keys(s),d=m.length,f=0;f<d;f++)n.call(i,s[m[f]],m[f])}function yu(s,n){let i,o,f,d;if(!s||!n||s.length!==n.length)return!1;for(i=0,o=s.length;i<o;++i)if(f=s[i],d=n[i],f.datasetIndex!==d.datasetIndex||f.index!==d.index)return!1;return!0}function bu(s){if(En(s))return s.map(bu);if(ge(s)){const n=Object.create(null),i=Object.keys(s),o=i.length;let f=0;for(;f<o;++f)n[i[f]]=bu(s[i[f]]);return n}return s}function Lx(s){return["__proto__","prototype","constructor"].indexOf(s)===-1}function O3(s,n,i,o){if(!Lx(s))return;const f=n[s],d=i[s];ge(f)&&ge(d)?No(f,d,o):n[s]=bu(d)}function No(s,n,i){const o=En(n)?n:[n],f=o.length;if(!ge(s))return s;i=i||{};const d=i.merger||O3;let m;for(let A=0;A<f;++A){if(m=o[A],!ge(m))continue;const E=Object.keys(m);for(let b=0,_=E.length;b<_;++b)d(E[b],s,m,i)}return s}function _o(s,n){return No(s,n,{merger:N3})}function N3(s,n,i){if(!Lx(s))return;const o=n[s],f=i[s];ge(o)&&ge(f)?_o(o,f):Object.prototype.hasOwnProperty.call(n,s)||(n[s]=bu(f))}const Kg={"":s=>s,x:s=>s.x,y:s=>s.y};function I3(s){const n=s.split("."),i=[];let o="";for(const f of n)o+=f,o.endsWith("\\")?o=o.slice(0,-1)+".":(i.push(o),o="");return i}function D3(s){const n=I3(s);return i=>{for(const o of n){if(o==="")break;i=i&&i[o]}return i}}function ll(s,n){return(Kg[n]||(Kg[n]=D3(n)))(s)}function hd(s){return s.charAt(0).toUpperCase()+s.slice(1)}const Io=s=>typeof s<"u",Is=s=>typeof s=="function",Jg=(s,n)=>{if(s.size!==n.size)return!1;for(const i of s)if(!n.has(i))return!1;return!0};function R3(s){return s.type==="mouseup"||s.type==="click"||s.type==="contextmenu"}const Xn=Math.PI,Ms=2*Xn,Au=Number.POSITIVE_INFINITY,L3=Xn/180,ji=Xn/2,sr=Xn/4,$g=Xn*2/3,Bx=Math.log10,Os=Math.sign;function hu(s,n,i){return Math.abs(s-n)<i}function t2(s){const n=Math.round(s);s=hu(s,n,s/1e3)?n:s;const i=Math.pow(10,Math.floor(Bx(s))),o=s/i;return(o<=1?1:o<=2?2:o<=5?5:10)*i}function B3(s){const n=[],i=Math.sqrt(s);let o;for(o=1;o<i;o++)s%o===0&&(n.push(o),n.push(s/o));return i===(i|0)&&n.push(i),n.sort((f,d)=>f-d).pop(),n}function k3(s){return typeof s=="symbol"||typeof s=="object"&&s!==null&&!(Symbol.toPrimitive in s||"toString"in s||"valueOf"in s)}function wu(s){return!k3(s)&&!isNaN(parseFloat(s))&&isFinite(s)}function F3(s,n){const i=Math.round(s);return i-n<=s&&i+n>=s}function P3(s,n,i){let o,f,d;for(o=0,f=s.length;o<f;o++)d=s[o][i],isNaN(d)||(n.min=Math.min(n.min,d),n.max=Math.max(n.max,d))}function ur(s){return s*(Xn/180)}function U3(s){return s*(180/Xn)}function e2(s){if(!Ii(s))return;let n=1,i=0;for(;Math.round(s*n)/n!==s;)n*=10,i++;return i}function z3(s,n){const i=n.x-s.x,o=n.y-s.y,f=Math.sqrt(i*i+o*o);let d=Math.atan2(o,i);return d<-.5*Xn&&(d+=Ms),{angle:d,distance:f}}function H3(s,n){return Math.sqrt(Math.pow(n.x-s.x,2)+Math.pow(n.y-s.y,2))}function rr(s){return(s%Ms+Ms)%Ms}function j3(s,n,i,o){const f=rr(s),d=rr(n),m=rr(i),A=rr(d-f),E=rr(m-f),b=rr(f-d),_=rr(f-m);return f===d||f===m||o||A>E&&b<_}function Vi(s,n,i){return Math.max(n,Math.min(i,s))}function V3(s){return Vi(s,-32768,32767)}function al(s,n,i,o=1e-6){return s>=Math.min(n,i)-o&&s<=Math.max(n,i)+o}function dd(s,n,i){i=i||(m=>s[m]<n);let o=s.length-1,f=0,d;for(;o-f>1;)d=f+o>>1,i(d)?f=d:o=d;return{lo:f,hi:o}}const Kh=(s,n,i,o)=>dd(s,i,o?f=>{const d=s[f][n];return d<i||d===i&&s[f+1][n]===i}:f=>s[f][n]<i),Y3=(s,n,i)=>dd(s,i,o=>s[o][n]>=i);function G3(s,n,i){let o=0,f=s.length;for(;o<f&&s[o]<n;)o++;for(;f>o&&s[f-1]>i;)f--;return o>0||f<s.length?s.slice(o,f):s}const kx=["push","pop","shift","splice","unshift"];function X3(s,n){if(s._chartjs){s._chartjs.listeners.push(n);return}Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[n]}}),kx.forEach(i=>{const o="_onData"+hd(i),f=s[i];Object.defineProperty(s,i,{configurable:!0,enumerable:!1,value(...d){const m=f.apply(this,d);return s._chartjs.listeners.forEach(A=>{typeof A[o]=="function"&&A[o](...d)}),m}})})}function n2(s,n){const i=s._chartjs;if(!i)return;const o=i.listeners,f=o.indexOf(n);f!==-1&&o.splice(f,1),!(o.length>0)&&(kx.forEach(d=>{delete s[d]}),delete s._chartjs)}function Fx(s){const n=new Set(s);return n.size===s.length?s:Array.from(n)}const Px=(function(){return typeof window>"u"?function(s){return s()}:window.requestAnimationFrame})();function Ux(s,n){let i=[],o=!1;return function(...f){i=f,o||(o=!0,Px.call(window,()=>{o=!1,s.apply(n,i)}))}}function W3(s,n){let i;return function(...o){return n?(clearTimeout(i),i=setTimeout(s,n,o)):s.apply(this,o),n}}const gd=s=>s==="start"?"left":s==="end"?"right":"center",Yn=(s,n,i)=>s==="start"?n:s==="end"?i:(n+i)/2,Z3=(s,n,i,o)=>s===(o?"left":"right")?i:s==="center"?(n+i)/2:n,tu=s=>s===0||s===1,i2=(s,n,i)=>-(Math.pow(2,10*(s-=1))*Math.sin((s-n)*Ms/i)),a2=(s,n,i)=>Math.pow(2,-10*s)*Math.sin((s-n)*Ms/i)+1,vo={linear:s=>s,easeInQuad:s=>s*s,easeOutQuad:s=>-s*(s-2),easeInOutQuad:s=>(s/=.5)<1?.5*s*s:-.5*(--s*(s-2)-1),easeInCubic:s=>s*s*s,easeOutCubic:s=>(s-=1)*s*s+1,easeInOutCubic:s=>(s/=.5)<1?.5*s*s*s:.5*((s-=2)*s*s+2),easeInQuart:s=>s*s*s*s,easeOutQuart:s=>-((s-=1)*s*s*s-1),easeInOutQuart:s=>(s/=.5)<1?.5*s*s*s*s:-.5*((s-=2)*s*s*s-2),easeInQuint:s=>s*s*s*s*s,easeOutQuint:s=>(s-=1)*s*s*s*s+1,easeInOutQuint:s=>(s/=.5)<1?.5*s*s*s*s*s:.5*((s-=2)*s*s*s*s+2),easeInSine:s=>-Math.cos(s*ji)+1,easeOutSine:s=>Math.sin(s*ji),easeInOutSine:s=>-.5*(Math.cos(Xn*s)-1),easeInExpo:s=>s===0?0:Math.pow(2,10*(s-1)),easeOutExpo:s=>s===1?1:-Math.pow(2,-10*s)+1,easeInOutExpo:s=>tu(s)?s:s<.5?.5*Math.pow(2,10*(s*2-1)):.5*(-Math.pow(2,-10*(s*2-1))+2),easeInCirc:s=>s>=1?s:-(Math.sqrt(1-s*s)-1),easeOutCirc:s=>Math.sqrt(1-(s-=1)*s),easeInOutCirc:s=>(s/=.5)<1?-.5*(Math.sqrt(1-s*s)-1):.5*(Math.sqrt(1-(s-=2)*s)+1),easeInElastic:s=>tu(s)?s:i2(s,.075,.3),easeOutElastic:s=>tu(s)?s:a2(s,.075,.3),easeInOutElastic(s){return tu(s)?s:s<.5?.5*i2(s*2,.1125,.45):.5+.5*a2(s*2-1,.1125,.45)},easeInBack(s){return s*s*((1.70158+1)*s-1.70158)},easeOutBack(s){return(s-=1)*s*((1.70158+1)*s+1.70158)+1},easeInOutBack(s){let n=1.70158;return(s/=.5)<1?.5*(s*s*(((n*=1.525)+1)*s-n)):.5*((s-=2)*s*(((n*=1.525)+1)*s+n)+2)},easeInBounce:s=>1-vo.easeOutBounce(1-s),easeOutBounce(s){return s<1/2.75?7.5625*s*s:s<2/2.75?7.5625*(s-=1.5/2.75)*s+.75:s<2.5/2.75?7.5625*(s-=2.25/2.75)*s+.9375:7.5625*(s-=2.625/2.75)*s+.984375},easeInOutBounce:s=>s<.5?vo.easeInBounce(s*2)*.5:vo.easeOutBounce(s*2-1)*.5+.5};function zx(s){if(s&&typeof s=="object"){const n=s.toString();return n==="[object CanvasPattern]"||n==="[object CanvasGradient]"}return!1}function s2(s){return zx(s)?s:new Oo(s)}function kh(s){return zx(s)?s:new Oo(s).saturate(.5).darken(.1).hexString()}const q3=["x","y","borderWidth","radius","tension"],Q3=["color","borderColor","backgroundColor"];function K3(s){s.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),s.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"}),s.set("animations",{colors:{type:"color",properties:Q3},numbers:{type:"number",properties:q3}}),s.describe("animations",{_fallback:"animation"}),s.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}})}function J3(s){s.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const r2=new Map;function $3(s,n){n=n||{};const i=s+JSON.stringify(n);let o=r2.get(i);return o||(o=new Intl.NumberFormat(s,n),r2.set(i,o)),o}function Hx(s,n,i){return $3(n,i).format(s)}const tA={values(s){return En(s)?s:""+s},numeric(s,n,i){if(s===0)return"0";const o=this.chart.options.locale;let f,d=s;if(i.length>1){const b=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(b<1e-4||b>1e15)&&(f="scientific"),d=eA(s,i)}const m=Bx(Math.abs(d)),A=isNaN(m)?1:Math.max(Math.min(-1*Math.floor(m),20),0),E={notation:f,minimumFractionDigits:A,maximumFractionDigits:A};return Object.assign(E,this.options.ticks.format),Hx(s,o,E)}};function eA(s,n){let i=n.length>3?n[2].value-n[1].value:n[1].value-n[0].value;return Math.abs(i)>=1&&s!==Math.floor(s)&&(i=s-Math.floor(s)),i}var jx={formatters:tA};function nA(s){s.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,i)=>i.lineWidth,tickColor:(n,i)=>i.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:jx.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),s.route("scale.ticks","color","","color"),s.route("scale.grid","color","","borderColor"),s.route("scale.border","color","","borderColor"),s.route("scale.title","color","","color"),s.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"&&n!=="dash"}),s.describe("scales",{_fallback:"scale"}),s.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"})}const hr=Object.create(null),Jh=Object.create(null);function To(s,n){if(!n)return s;const i=n.split(".");for(let o=0,f=i.length;o<f;++o){const d=i[o];s=s[d]||(s[d]=Object.create(null))}return s}function Fh(s,n,i){return typeof n=="string"?No(To(s,n),i):No(To(s,""),n)}class iA{constructor(n,i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=o=>o.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(o,f)=>kh(f.backgroundColor),this.hoverBorderColor=(o,f)=>kh(f.borderColor),this.hoverColor=(o,f)=>kh(f.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(n),this.apply(i)}set(n,i){return Fh(this,n,i)}get(n){return To(this,n)}describe(n,i){return Fh(Jh,n,i)}override(n,i){return Fh(hr,n,i)}route(n,i,o,f){const d=To(this,n),m=To(this,o),A="_"+i;Object.defineProperties(d,{[A]:{value:d[i],writable:!0},[i]:{enumerable:!0,get(){const E=this[A],b=m[f];return ge(E)?Object.assign({},b,E):me(E,b)},set(E){this[A]=E}}})}apply(n){n.forEach(i=>i(this))}}var on=new iA({_scriptable:s=>!s.startsWith("on"),_indexable:s=>s!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[K3,J3,nA]);function aA(s){return!s||ke(s.size)||ke(s.family)?null:(s.style?s.style+" ":"")+(s.weight?s.weight+" ":"")+s.size+"px "+s.family}function l2(s,n,i,o,f){let d=n[f];return d||(d=n[f]=s.measureText(f).width,i.push(f)),d>o&&(o=d),o}function lr(s,n,i){const o=s.currentDevicePixelRatio,f=i!==0?Math.max(i/2,.5):0;return Math.round((n-f)*o)/o+f}function o2(s,n){!n&&!s||(n=n||s.getContext("2d"),n.save(),n.resetTransform(),n.clearRect(0,0,s.width,s.height),n.restore())}function c2(s,n,i,o){Vx(s,n,i,o,null)}function Vx(s,n,i,o,f){let d,m,A,E,b,_,T,D;const L=n.pointStyle,H=n.rotation,P=n.radius;let U=(H||0)*L3;if(L&&typeof L=="object"&&(d=L.toString(),d==="[object HTMLImageElement]"||d==="[object HTMLCanvasElement]")){s.save(),s.translate(i,o),s.rotate(U),s.drawImage(L,-L.width/2,-L.height/2,L.width,L.height),s.restore();return}if(!(isNaN(P)||P<=0)){switch(s.beginPath(),L){default:f?s.ellipse(i,o,f/2,P,0,0,Ms):s.arc(i,o,P,0,Ms),s.closePath();break;case"triangle":_=f?f/2:P,s.moveTo(i+Math.sin(U)*_,o-Math.cos(U)*P),U+=$g,s.lineTo(i+Math.sin(U)*_,o-Math.cos(U)*P),U+=$g,s.lineTo(i+Math.sin(U)*_,o-Math.cos(U)*P),s.closePath();break;case"rectRounded":b=P*.516,E=P-b,m=Math.cos(U+sr)*E,T=Math.cos(U+sr)*(f?f/2-b:E),A=Math.sin(U+sr)*E,D=Math.sin(U+sr)*(f?f/2-b:E),s.arc(i-T,o-A,b,U-Xn,U-ji),s.arc(i+D,o-m,b,U-ji,U),s.arc(i+T,o+A,b,U,U+ji),s.arc(i-D,o+m,b,U+ji,U+Xn),s.closePath();break;case"rect":if(!H){E=Math.SQRT1_2*P,_=f?f/2:E,s.rect(i-_,o-E,2*_,2*E);break}U+=sr;case"rectRot":T=Math.cos(U)*(f?f/2:P),m=Math.cos(U)*P,A=Math.sin(U)*P,D=Math.sin(U)*(f?f/2:P),s.moveTo(i-T,o-A),s.lineTo(i+D,o-m),s.lineTo(i+T,o+A),s.lineTo(i-D,o+m),s.closePath();break;case"crossRot":U+=sr;case"cross":T=Math.cos(U)*(f?f/2:P),m=Math.cos(U)*P,A=Math.sin(U)*P,D=Math.sin(U)*(f?f/2:P),s.moveTo(i-T,o-A),s.lineTo(i+T,o+A),s.moveTo(i+D,o-m),s.lineTo(i-D,o+m);break;case"star":T=Math.cos(U)*(f?f/2:P),m=Math.cos(U)*P,A=Math.sin(U)*P,D=Math.sin(U)*(f?f/2:P),s.moveTo(i-T,o-A),s.lineTo(i+T,o+A),s.moveTo(i+D,o-m),s.lineTo(i-D,o+m),U+=sr,T=Math.cos(U)*(f?f/2:P),m=Math.cos(U)*P,A=Math.sin(U)*P,D=Math.sin(U)*(f?f/2:P),s.moveTo(i-T,o-A),s.lineTo(i+T,o+A),s.moveTo(i+D,o-m),s.lineTo(i-D,o+m);break;case"line":m=f?f/2:Math.cos(U)*P,A=Math.sin(U)*P,s.moveTo(i-m,o-A),s.lineTo(i+m,o+A);break;case"dash":s.moveTo(i,o),s.lineTo(i+Math.cos(U)*(f?f/2:P),o+Math.sin(U)*P);break;case!1:s.closePath();break}s.fill(),n.borderWidth>0&&s.stroke()}}function Yx(s,n,i){return i=i||.5,!n||s&&s.x>n.left-i&&s.x<n.right+i&&s.y>n.top-i&&s.y<n.bottom+i}function xd(s,n){s.save(),s.beginPath(),s.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),s.clip()}function md(s){s.restore()}function sA(s,n){n.translation&&s.translate(n.translation[0],n.translation[1]),ke(n.rotation)||s.rotate(n.rotation),n.color&&(s.fillStyle=n.color),n.textAlign&&(s.textAlign=n.textAlign),n.textBaseline&&(s.textBaseline=n.textBaseline)}function rA(s,n,i,o,f){if(f.strikethrough||f.underline){const d=s.measureText(o),m=n-d.actualBoundingBoxLeft,A=n+d.actualBoundingBoxRight,E=i-d.actualBoundingBoxAscent,b=i+d.actualBoundingBoxDescent,_=f.strikethrough?(E+b)/2:b;s.strokeStyle=s.fillStyle,s.beginPath(),s.lineWidth=f.decorationWidth||2,s.moveTo(m,_),s.lineTo(A,_),s.stroke()}}function lA(s,n){const i=s.fillStyle;s.fillStyle=n.color,s.fillRect(n.left,n.top,n.width,n.height),s.fillStyle=i}function Do(s,n,i,o,f,d={}){const m=En(n)?n:[n],A=d.strokeWidth>0&&d.strokeColor!=="";let E,b;for(s.save(),s.font=f.string,sA(s,d),E=0;E<m.length;++E)b=m[E],d.backdrop&&lA(s,d.backdrop),A&&(d.strokeColor&&(s.strokeStyle=d.strokeColor),ke(d.strokeWidth)||(s.lineWidth=d.strokeWidth),s.strokeText(b,i,o,d.maxWidth)),s.fillText(b,i,o,d.maxWidth),rA(s,i,o,b,d),o+=Number(f.lineHeight);s.restore()}function Eu(s,n){const{x:i,y:o,w:f,h:d,radius:m}=n;s.arc(i+m.topLeft,o+m.topLeft,m.topLeft,1.5*Xn,Xn,!0),s.lineTo(i,o+d-m.bottomLeft),s.arc(i+m.bottomLeft,o+d-m.bottomLeft,m.bottomLeft,Xn,ji,!0),s.lineTo(i+f-m.bottomRight,o+d),s.arc(i+f-m.bottomRight,o+d-m.bottomRight,m.bottomRight,ji,0,!0),s.lineTo(i+f,o+m.topRight),s.arc(i+f-m.topRight,o+m.topRight,m.topRight,0,-ji,!0),s.lineTo(i+m.topLeft,o)}const oA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,cA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uA(s,n){const i=(""+s).match(oA);if(!i||i[1]==="normal")return n*1.2;switch(s=+i[2],i[3]){case"px":return s;case"%":s/=100;break}return n*s}const fA=s=>+s||0;function Gx(s,n){const i={},o=ge(n),f=o?Object.keys(n):n,d=ge(s)?o?m=>me(s[m],s[n[m]]):m=>s[m]:()=>s;for(const m of f)i[m]=fA(d(m));return i}function Xx(s){return Gx(s,{top:"y",right:"x",bottom:"y",left:"x"})}function sl(s){return Gx(s,["topLeft","topRight","bottomLeft","bottomRight"])}function Di(s){const n=Xx(s);return n.width=n.left+n.right,n.height=n.top+n.bottom,n}function Gn(s,n){s=s||{},n=n||on.font;let i=me(s.size,n.size);typeof i=="string"&&(i=parseInt(i,10));let o=me(s.style,n.style);o&&!(""+o).match(cA)&&(console.warn('Invalid font style specified: "'+o+'"'),o=void 0);const f={family:me(s.family,n.family),lineHeight:uA(me(s.lineHeight,n.lineHeight),i),size:i,style:o,weight:me(s.weight,n.weight),string:""};return f.string=aA(f),f}function eu(s,n,i,o){let f,d,m;for(f=0,d=s.length;f<d;++f)if(m=s[f],m!==void 0&&m!==void 0)return m}function hA(s,n,i){const{min:o,max:f}=s,d=M3(n,(f-o)/2),m=(A,E)=>i&&A===0?0:A+E;return{min:m(o,-Math.abs(d)),max:m(f,d)}}function fl(s,n){return Object.assign(Object.create(s),n)}function pd(s,n=[""],i,o,f=()=>s[0]){const d=i||s;typeof o>"u"&&(o=Qx("_fallback",s));const m={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:s,_rootScopes:d,_fallback:o,_getTarget:f,override:A=>pd([A,...s],n,d,o)};return new Proxy(m,{deleteProperty(A,E){return delete A[E],delete A._keys,delete s[0][E],!0},get(A,E){return Zx(A,E,()=>AA(E,n,s,A))},getOwnPropertyDescriptor(A,E){return Reflect.getOwnPropertyDescriptor(A._scopes[0],E)},getPrototypeOf(){return Reflect.getPrototypeOf(s[0])},has(A,E){return f2(A).includes(E)},ownKeys(A){return f2(A)},set(A,E,b){const _=A._storage||(A._storage=f());return A[E]=_[E]=b,delete A._keys,!0}})}function ol(s,n,i,o){const f={_cacheable:!1,_proxy:s,_context:n,_subProxy:i,_stack:new Set,_descriptors:Wx(s,o),setContext:d=>ol(s,d,i,o),override:d=>ol(s.override(d),n,i,o)};return new Proxy(f,{deleteProperty(d,m){return delete d[m],delete s[m],!0},get(d,m,A){return Zx(d,m,()=>gA(d,m,A))},getOwnPropertyDescriptor(d,m){return d._descriptors.allKeys?Reflect.has(s,m)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(s,m)},getPrototypeOf(){return Reflect.getPrototypeOf(s)},has(d,m){return Reflect.has(s,m)},ownKeys(){return Reflect.ownKeys(s)},set(d,m,A){return s[m]=A,delete d[m],!0}})}function Wx(s,n={scriptable:!0,indexable:!0}){const{_scriptable:i=n.scriptable,_indexable:o=n.indexable,_allKeys:f=n.allKeys}=s;return{allKeys:f,scriptable:i,indexable:o,isScriptable:Is(i)?i:()=>i,isIndexable:Is(o)?o:()=>o}}const dA=(s,n)=>s?s+hd(n):n,yd=(s,n)=>ge(n)&&s!=="adapters"&&(Object.getPrototypeOf(n)===null||n.constructor===Object);function Zx(s,n,i){if(Object.prototype.hasOwnProperty.call(s,n)||n==="constructor")return s[n];const o=i();return s[n]=o,o}function gA(s,n,i){const{_proxy:o,_context:f,_subProxy:d,_descriptors:m}=s;let A=o[n];return Is(A)&&m.isScriptable(n)&&(A=xA(n,A,s,i)),En(A)&&A.length&&(A=mA(n,A,s,m.isIndexable)),yd(n,A)&&(A=ol(A,f,d&&d[n],m)),A}function xA(s,n,i,o){const{_proxy:f,_context:d,_subProxy:m,_stack:A}=i;if(A.has(s))throw new Error("Recursion detected: "+Array.from(A).join("->")+"->"+s);A.add(s);let E=n(d,m||o);return A.delete(s),yd(s,E)&&(E=bd(f._scopes,f,s,E)),E}function mA(s,n,i,o){const{_proxy:f,_context:d,_subProxy:m,_descriptors:A}=i;if(typeof d.index<"u"&&o(s))return n[d.index%n.length];if(ge(n[0])){const E=n,b=f._scopes.filter(_=>_!==E);n=[];for(const _ of E){const T=bd(b,f,s,_);n.push(ol(T,d,m&&m[s],A))}}return n}function qx(s,n,i){return Is(s)?s(n,i):s}const pA=(s,n)=>s===!0?n:typeof s=="string"?ll(n,s):void 0;function yA(s,n,i,o,f){for(const d of n){const m=pA(i,d);if(m){s.add(m);const A=qx(m._fallback,i,f);if(typeof A<"u"&&A!==i&&A!==o)return A}else if(m===!1&&typeof o<"u"&&i!==o)return null}return!1}function bd(s,n,i,o){const f=n._rootScopes,d=qx(n._fallback,i,o),m=[...s,...f],A=new Set;A.add(o);let E=u2(A,m,i,d||i,o);return E===null||typeof d<"u"&&d!==i&&(E=u2(A,m,d,E,o),E===null)?!1:pd(Array.from(A),[""],f,d,()=>bA(n,i,o))}function u2(s,n,i,o,f){for(;i;)i=yA(s,n,i,o,f);return i}function bA(s,n,i){const o=s._getTarget();n in o||(o[n]={});const f=o[n];return En(f)&&ge(i)?i:f||{}}function AA(s,n,i,o){let f;for(const d of n)if(f=Qx(dA(d,s),i),typeof f<"u")return yd(s,f)?bd(i,o,s,f):f}function Qx(s,n){for(const i of n){if(!i)continue;const o=i[s];if(typeof o<"u")return o}}function f2(s){let n=s._keys;return n||(n=s._keys=wA(s._scopes)),n}function wA(s){const n=new Set;for(const i of s)for(const o of Object.keys(i).filter(f=>!f.startsWith("_")))n.add(o);return Array.from(n)}function Ad(){return typeof window<"u"&&typeof document<"u"}function wd(s){let n=s.parentNode;return n&&n.toString()==="[object ShadowRoot]"&&(n=n.host),n}function Su(s,n,i){let o;return typeof s=="string"?(o=parseInt(s,10),s.indexOf("%")!==-1&&(o=o/100*n.parentNode[i])):o=s,o}const Tu=s=>s.ownerDocument.defaultView.getComputedStyle(s,null);function EA(s,n){return Tu(s).getPropertyValue(n)}const SA=["top","right","bottom","left"];function fr(s,n,i){const o={};i=i?"-"+i:"";for(let f=0;f<4;f++){const d=SA[f];o[d]=parseFloat(s[n+"-"+d+i])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}const CA=(s,n,i)=>(s>0||n>0)&&(!i||!i.shadowRoot);function _A(s,n){const i=s.touches,o=i&&i.length?i[0]:s,{offsetX:f,offsetY:d}=o;let m=!1,A,E;if(CA(f,d,s.target))A=f,E=d;else{const b=n.getBoundingClientRect();A=o.clientX-b.left,E=o.clientY-b.top,m=!0}return{x:A,y:E,box:m}}function cr(s,n){if("native"in s)return s;const{canvas:i,currentDevicePixelRatio:o}=n,f=Tu(i),d=f.boxSizing==="border-box",m=fr(f,"padding"),A=fr(f,"border","width"),{x:E,y:b,box:_}=_A(s,i),T=m.left+(_&&A.left),D=m.top+(_&&A.top);let{width:L,height:H}=n;return d&&(L-=m.width+A.width,H-=m.height+A.height),{x:Math.round((E-T)/L*i.width/o),y:Math.round((b-D)/H*i.height/o)}}function vA(s,n,i){let o,f;if(n===void 0||i===void 0){const d=s&&wd(s);if(!d)n=s.clientWidth,i=s.clientHeight;else{const m=d.getBoundingClientRect(),A=Tu(d),E=fr(A,"border","width"),b=fr(A,"padding");n=m.width-b.width-E.width,i=m.height-b.height-E.height,o=Su(A.maxWidth,d,"clientWidth"),f=Su(A.maxHeight,d,"clientHeight")}}return{width:n,height:i,maxWidth:o||Au,maxHeight:f||Au}}const nu=s=>Math.round(s*10)/10;function TA(s,n,i,o){const f=Tu(s),d=fr(f,"margin"),m=Su(f.maxWidth,s,"clientWidth")||Au,A=Su(f.maxHeight,s,"clientHeight")||Au,E=vA(s,n,i);let{width:b,height:_}=E;if(f.boxSizing==="content-box"){const D=fr(f,"border","width"),L=fr(f,"padding");b-=L.width+D.width,_-=L.height+D.height}return b=Math.max(0,b-d.width),_=Math.max(0,o?b/o:_-d.height),b=nu(Math.min(b,m,E.maxWidth)),_=nu(Math.min(_,A,E.maxHeight)),b&&!_&&(_=nu(b/2)),(n!==void 0||i!==void 0)&&o&&E.height&&_>E.height&&(_=E.height,b=nu(Math.floor(_*o))),{width:b,height:_}}function h2(s,n,i){const o=n||1,f=Math.floor(s.height*o),d=Math.floor(s.width*o);s.height=Math.floor(s.height),s.width=Math.floor(s.width);const m=s.canvas;return m.style&&(i||!m.style.height&&!m.style.width)&&(m.style.height=`${s.height}px`,m.style.width=`${s.width}px`),s.currentDevicePixelRatio!==o||m.height!==f||m.width!==d?(s.currentDevicePixelRatio=o,m.height=f,m.width=d,s.ctx.setTransform(o,0,0,o,0,0),!0):!1}const MA=(function(){let s=!1;try{const n={get passive(){return s=!0,!1}};Ad()&&(window.addEventListener("test",null,n),window.removeEventListener("test",null,n))}catch{}return s})();function d2(s,n){const i=EA(s,n),o=i&&i.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}const OA=function(s,n){return{x(i){return s+s+n-i},setWidth(i){n=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,o){return i-o},leftForLtr(i,o){return i-o}}},NA=function(){return{x(s){return s},setWidth(s){},textAlign(s){return s},xPlus(s,n){return s+n},leftForLtr(s,n){return s}}};function rl(s,n,i){return s?OA(n,i):NA()}function Kx(s,n){let i,o;(n==="ltr"||n==="rtl")&&(i=s.canvas.style,o=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",n,"important"),s.prevTextDirection=o)}function Jx(s,n){n!==void 0&&(delete s.prevTextDirection,s.canvas.style.setProperty("direction",n[0],n[1]))}function iu(s,n,i){return s.options.clip?s[i]:n[i]}function IA(s,n){const{xScale:i,yScale:o}=s;return i&&o?{left:iu(i,n,"left"),right:iu(i,n,"right"),top:iu(o,n,"top"),bottom:iu(o,n,"bottom")}:n}function DA(s,n){const i=n._clip;if(i.disabled)return!1;const o=IA(n,s.chartArea);return{left:i.left===!1?0:o.left-(i.left===!0?0:i.left),right:i.right===!1?s.width:o.right+(i.right===!0?0:i.right),top:i.top===!1?0:o.top-(i.top===!0?0:i.top),bottom:i.bottom===!1?s.height:o.bottom+(i.bottom===!0?0:i.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class RA{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(n,i,o,f){const d=i.listeners[f],m=i.duration;d.forEach(A=>A({chart:n,initial:i.initial,numSteps:m,currentStep:Math.min(o-i.start,m)}))}_refresh(){this._request||(this._running=!0,this._request=Px.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(n=Date.now()){let i=0;this._charts.forEach((o,f)=>{if(!o.running||!o.items.length)return;const d=o.items;let m=d.length-1,A=!1,E;for(;m>=0;--m)E=d[m],E._active?(E._total>o.duration&&(o.duration=E._total),E.tick(n),A=!0):(d[m]=d[d.length-1],d.pop());A&&(f.draw(),this._notify(f,o,n,"progress")),d.length||(o.running=!1,this._notify(f,o,n,"complete"),o.initial=!1),i+=d.length}),this._lastDate=n,i===0&&(this._running=!1)}_getAnims(n){const i=this._charts;let o=i.get(n);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(n,o)),o}listen(n,i,o){this._getAnims(n).listeners[i].push(o)}add(n,i){!i||!i.length||this._getAnims(n).items.push(...i)}has(n){return this._getAnims(n).items.length>0}start(n){const i=this._charts.get(n);i&&(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((o,f)=>Math.max(o,f._duration),0),this._refresh())}running(n){if(!this._running)return!1;const i=this._charts.get(n);return!(!i||!i.running||!i.items.length)}stop(n){const i=this._charts.get(n);if(!i||!i.items.length)return;const o=i.items;let f=o.length-1;for(;f>=0;--f)o[f].cancel();i.items=[],this._notify(n,i,Date.now(),"complete")}remove(n){return this._charts.delete(n)}}var Pa=new RA;const g2="transparent",LA={boolean(s,n,i){return i>.5?n:s},color(s,n,i){const o=s2(s||g2),f=o.valid&&s2(n||g2);return f&&f.valid?f.mix(o,i).hexString():n},number(s,n,i){return s+(n-s)*i}};class BA{constructor(n,i,o,f){const d=i[o];f=eu([n.to,f,d,n.from]);const m=eu([n.from,d,f]);this._active=!0,this._fn=n.fn||LA[n.type||typeof m],this._easing=vo[n.easing]||vo.linear,this._start=Math.floor(Date.now()+(n.delay||0)),this._duration=this._total=Math.floor(n.duration),this._loop=!!n.loop,this._target=i,this._prop=o,this._from=m,this._to=f,this._promises=void 0}active(){return this._active}update(n,i,o){if(this._active){this._notify(!1);const f=this._target[this._prop],d=o-this._start,m=this._duration-d;this._start=o,this._duration=Math.floor(Math.max(m,n.duration)),this._total+=d,this._loop=!!n.loop,this._to=eu([n.to,i,f,n.from]),this._from=eu([n.from,f,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(n){const i=n-this._start,o=this._duration,f=this._prop,d=this._from,m=this._loop,A=this._to;let E;if(this._active=d!==A&&(m||i<o),!this._active){this._target[f]=A,this._notify(!0);return}if(i<0){this._target[f]=d;return}E=i/o%2,E=m&&E>1?2-E:E,E=this._easing(Math.min(1,Math.max(0,E))),this._target[f]=this._fn(d,A,E)}wait(){const n=this._promises||(this._promises=[]);return new Promise((i,o)=>{n.push({res:i,rej:o})})}_notify(n){const i=n?"res":"rej",o=this._promises||[];for(let f=0;f<o.length;f++)o[f][i]()}}class $x{constructor(n,i){this._chart=n,this._properties=new Map,this.configure(i)}configure(n){if(!ge(n))return;const i=Object.keys(on.animation),o=this._properties;Object.getOwnPropertyNames(n).forEach(f=>{const d=n[f];if(!ge(d))return;const m={};for(const A of i)m[A]=d[A];(En(d.properties)&&d.properties||[f]).forEach(A=>{(A===f||!o.has(A))&&o.set(A,m)})})}_animateOptions(n,i){const o=i.options,f=FA(n,o);if(!f)return[];const d=this._createAnimations(f,o);return o.$shared&&kA(n.options.$animations,o).then(()=>{n.options=o},()=>{}),d}_createAnimations(n,i){const o=this._properties,f=[],d=n.$animations||(n.$animations={}),m=Object.keys(i),A=Date.now();let E;for(E=m.length-1;E>=0;--E){const b=m[E];if(b.charAt(0)==="$")continue;if(b==="options"){f.push(...this._animateOptions(n,i));continue}const _=i[b];let T=d[b];const D=o.get(b);if(T)if(D&&T.active()){T.update(D,_,A);continue}else T.cancel();if(!D||!D.duration){n[b]=_;continue}d[b]=T=new BA(D,n,b,_),f.push(T)}return f}update(n,i){if(this._properties.size===0){Object.assign(n,i);return}const o=this._createAnimations(n,i);if(o.length)return Pa.add(this._chart,o),!0}}function kA(s,n){const i=[],o=Object.keys(n);for(let f=0;f<o.length;f++){const d=s[o[f]];d&&d.active()&&i.push(d.wait())}return Promise.all(i)}function FA(s,n){if(!n)return;let i=s.options;if(!i){s.options=n;return}return i.$shared&&(s.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function x2(s,n){const i=s&&s.options||{},o=i.reverse,f=i.min===void 0?n:0,d=i.max===void 0?n:0;return{start:o?d:f,end:o?f:d}}function PA(s,n,i){if(i===!1)return!1;const o=x2(s,i),f=x2(n,i);return{top:f.end,right:o.end,bottom:f.start,left:o.start}}function UA(s){let n,i,o,f;return ge(s)?(n=s.top,i=s.right,o=s.bottom,f=s.left):n=i=o=f=s,{top:n,right:i,bottom:o,left:f,disabled:s===!1}}function tm(s,n){const i=[],o=s._getSortedDatasetMetas(n);let f,d;for(f=0,d=o.length;f<d;++f)i.push(o[f].index);return i}function m2(s,n,i,o={}){const f=s.keys,d=o.mode==="single";let m,A,E,b;if(n===null)return;let _=!1;for(m=0,A=f.length;m<A;++m){if(E=+f[m],E===i){if(_=!0,o.all)continue;break}b=s.values[E],Ii(b)&&(d||n===0||Os(n)===Os(b))&&(n+=b)}return!_&&!o.all?0:n}function zA(s,n){const{iScale:i,vScale:o}=n,f=i.axis==="x"?"x":"y",d=o.axis==="x"?"x":"y",m=Object.keys(s),A=new Array(m.length);let E,b,_;for(E=0,b=m.length;E<b;++E)_=m[E],A[E]={[f]:_,[d]:s[_]};return A}function Ph(s,n){const i=s&&s.options.stacked;return i||i===void 0&&n.stack!==void 0}function HA(s,n,i){return`${s.id}.${n.id}.${i.stack||i.type}`}function jA(s){const{min:n,max:i,minDefined:o,maxDefined:f}=s.getUserBounds();return{min:o?n:Number.NEGATIVE_INFINITY,max:f?i:Number.POSITIVE_INFINITY}}function VA(s,n,i){const o=s[n]||(s[n]={});return o[i]||(o[i]={})}function p2(s,n,i,o){for(const f of n.getMatchingVisibleMetas(o).reverse()){const d=s[f.index];if(i&&d>0||!i&&d<0)return f.index}return null}function y2(s,n){const{chart:i,_cachedMeta:o}=s,f=i._stacks||(i._stacks={}),{iScale:d,vScale:m,index:A}=o,E=d.axis,b=m.axis,_=HA(d,m,o),T=n.length;let D;for(let L=0;L<T;++L){const H=n[L],{[E]:P,[b]:U}=H,Z=H._stacks||(H._stacks={});D=Z[b]=VA(f,_,P),D[A]=U,D._top=p2(D,m,!0,o.type),D._bottom=p2(D,m,!1,o.type);const q=D._visualValues||(D._visualValues={});q[A]=U}}function Uh(s,n){const i=s.scales;return Object.keys(i).filter(o=>i[o].axis===n).shift()}function YA(s,n){return fl(s,{active:!1,dataset:void 0,datasetIndex:n,index:n,mode:"default",type:"dataset"})}function GA(s,n,i){return fl(s,{active:!1,dataIndex:n,parsed:void 0,raw:void 0,element:i,index:n,mode:"default",type:"data"})}function go(s,n){const i=s.controller.index,o=s.vScale&&s.vScale.axis;if(o){n=n||s._parsed;for(const f of n){const d=f._stacks;if(!d||d[o]===void 0||d[o][i]===void 0)return;delete d[o][i],d[o]._visualValues!==void 0&&d[o]._visualValues[i]!==void 0&&delete d[o]._visualValues[i]}}}const zh=s=>s==="reset"||s==="none",b2=(s,n)=>n?s:Object.assign({},s),XA=(s,n,i)=>s&&!n.hidden&&n._stacked&&{keys:tm(i,!0),values:null};class em{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=Ph(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&go(this._cachedMeta),this.index=n}linkScales(){const n=this.chart,i=this._cachedMeta,o=this.getDataset(),f=(T,D,L,H)=>T==="x"?D:T==="r"?H:L,d=i.xAxisID=me(o.xAxisID,Uh(n,"x")),m=i.yAxisID=me(o.yAxisID,Uh(n,"y")),A=i.rAxisID=me(o.rAxisID,Uh(n,"r")),E=i.indexAxis,b=i.iAxisID=f(E,d,m,A),_=i.vAxisID=f(E,m,d,A);i.xScale=this.getScaleForId(d),i.yScale=this.getScaleForId(m),i.rScale=this.getScaleForId(A),i.iScale=this.getScaleForId(b),i.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){const i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const n=this._cachedMeta;this._data&&n2(this._data,this),n._stacked&&go(n)}_dataCheck(){const n=this.getDataset(),i=n.data||(n.data=[]),o=this._data;if(ge(i)){const f=this._cachedMeta;this._data=zA(i,f)}else if(o!==i){if(o){n2(o,this);const f=this._cachedMeta;go(f),f._parsed=[]}i&&Object.isExtensible(i)&&X3(i,this),this._syncList=[],this._data=i}}addElements(){const n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){const i=this._cachedMeta,o=this.getDataset();let f=!1;this._dataCheck();const d=i._stacked;i._stacked=Ph(i.vScale,i),i.stack!==o.stack&&(f=!0,go(i),i.stack=o.stack),this._resyncElements(n),(f||d!==i._stacked)&&(y2(this,i._parsed),i._stacked=Ph(i.vScale,i))}configure(){const n=this.chart.config,i=n.datasetScopeKeys(this._type),o=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(o,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){const{_cachedMeta:o,_data:f}=this,{iScale:d,_stacked:m}=o,A=d.axis;let E=n===0&&i===f.length?!0:o._sorted,b=n>0&&o._parsed[n-1],_,T,D;if(this._parsing===!1)o._parsed=f,o._sorted=!0,D=f;else{En(f[n])?D=this.parseArrayData(o,f,n,i):ge(f[n])?D=this.parseObjectData(o,f,n,i):D=this.parsePrimitiveData(o,f,n,i);const L=()=>T[A]===null||b&&T[A]<b[A];for(_=0;_<i;++_)o._parsed[_+n]=T=D[_],E&&(L()&&(E=!1),b=T);o._sorted=E}m&&y2(this,D)}parsePrimitiveData(n,i,o,f){const{iScale:d,vScale:m}=n,A=d.axis,E=m.axis,b=d.getLabels(),_=d===m,T=new Array(f);let D,L,H;for(D=0,L=f;D<L;++D)H=D+o,T[D]={[A]:_||d.parse(b[H],H),[E]:m.parse(i[H],H)};return T}parseArrayData(n,i,o,f){const{xScale:d,yScale:m}=n,A=new Array(f);let E,b,_,T;for(E=0,b=f;E<b;++E)_=E+o,T=i[_],A[E]={x:d.parse(T[0],_),y:m.parse(T[1],_)};return A}parseObjectData(n,i,o,f){const{xScale:d,yScale:m}=n,{xAxisKey:A="x",yAxisKey:E="y"}=this._parsing,b=new Array(f);let _,T,D,L;for(_=0,T=f;_<T;++_)D=_+o,L=i[D],b[_]={x:d.parse(ll(L,A),D),y:m.parse(ll(L,E),D)};return b}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,o){const f=this.chart,d=this._cachedMeta,m=i[n.axis],A={keys:tm(f,!0),values:i._stacks[n.axis]._visualValues};return m2(A,m,d.index,{mode:o})}updateRangeFromParsed(n,i,o,f){const d=o[i.axis];let m=d===null?NaN:d;const A=f&&o._stacks[i.axis];f&&A&&(f.values=A,m=m2(f,d,this._cachedMeta.index)),n.min=Math.min(n.min,m),n.max=Math.max(n.max,m)}getMinMax(n,i){const o=this._cachedMeta,f=o._parsed,d=o._sorted&&n===o.iScale,m=f.length,A=this._getOtherScale(n),E=XA(i,o,this.chart),b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:T}=jA(A);let D,L;function H(){L=f[D];const P=L[A.axis];return!Ii(L[n.axis])||_>P||T<P}for(D=0;D<m&&!(!H()&&(this.updateRangeFromParsed(b,n,L,E),d));++D);if(d){for(D=m-1;D>=0;--D)if(!H()){this.updateRangeFromParsed(b,n,L,E);break}}return b}getAllParsedValues(n){const i=this._cachedMeta._parsed,o=[];let f,d,m;for(f=0,d=i.length;f<d;++f)m=i[f][n.axis],Ii(m)&&o.push(m);return o}getMaxOverflow(){return!1}getLabelAndValue(n){const i=this._cachedMeta,o=i.iScale,f=i.vScale,d=this.getParsed(n);return{label:o?""+o.getLabelForValue(d[o.axis]):"",value:f?""+f.getLabelForValue(d[f.axis]):""}}_update(n){const i=this._cachedMeta;this.update(n||"default"),i._clip=UA(me(this.options.clip,PA(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){const n=this._ctx,i=this.chart,o=this._cachedMeta,f=o.data||[],d=i.chartArea,m=[],A=this._drawStart||0,E=this._drawCount||f.length-A,b=this.options.drawActiveElementsOnTop;let _;for(o.dataset&&o.dataset.draw(n,d,A,E),_=A;_<A+E;++_){const T=f[_];T.hidden||(T.active&&b?m.push(T):T.draw(n,d))}for(_=0;_<m.length;++_)m[_].draw(n,d)}getStyle(n,i){const o=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(o):this.resolveDataElementOptions(n||0,o)}getContext(n,i,o){const f=this.getDataset();let d;if(n>=0&&n<this._cachedMeta.data.length){const m=this._cachedMeta.data[n];d=m.$context||(m.$context=GA(this.getContext(),n,m)),d.parsed=this.getParsed(n),d.raw=f.data[n],d.index=d.dataIndex=n}else d=this.$context||(this.$context=YA(this.chart.getContext(),this.index)),d.dataset=f,d.index=d.datasetIndex=this.index;return d.active=!!i,d.mode=o,d}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",o){const f=i==="active",d=this._cachedDataOpts,m=n+"-"+i,A=d[m],E=this.enableOptionSharing&&Io(o);if(A)return b2(A,E);const b=this.chart.config,_=b.datasetElementScopeKeys(this._type,n),T=f?[`${n}Hover`,"hover",n,""]:[n,""],D=b.getOptionScopes(this.getDataset(),_),L=Object.keys(on.elements[n]),H=()=>this.getContext(o,f,i),P=b.resolveNamedOptions(D,L,H,T);return P.$shared&&(P.$shared=E,d[m]=Object.freeze(b2(P,E))),P}_resolveAnimations(n,i,o){const f=this.chart,d=this._cachedDataOpts,m=`animation-${i}`,A=d[m];if(A)return A;let E;if(f.options.animation!==!1){const _=this.chart.config,T=_.datasetAnimationScopeKeys(this._type,i),D=_.getOptionScopes(this.getDataset(),T);E=_.createResolver(D,this.getContext(n,o,i))}const b=new $x(f,E&&E.animations);return E&&E._cacheable&&(d[m]=Object.freeze(b)),b}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||zh(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){const o=this.resolveDataElementOptions(n,i),f=this._sharedOptions,d=this.getSharedOptions(o),m=this.includeOptions(i,d)||d!==f;return this.updateSharedOptions(d,i,o),{sharedOptions:d,includeOptions:m}}updateElement(n,i,o,f){zh(f)?Object.assign(n,o):this._resolveAnimations(i,f).update(n,o)}updateSharedOptions(n,i,o){n&&!zh(i)&&this._resolveAnimations(void 0,i).update(n,o)}_setStyle(n,i,o,f){n.active=f;const d=this.getStyle(i,f);this._resolveAnimations(i,o,f).update(n,{options:!f&&this.getSharedOptions(d)||d})}removeHoverStyle(n,i,o){this._setStyle(n,o,"active",!1)}setHoverStyle(n,i,o){this._setStyle(n,o,"active",!0)}_removeDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){const n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){const i=this._data,o=this._cachedMeta.data;for(const[A,E,b]of this._syncList)this[A](E,b);this._syncList=[];const f=o.length,d=i.length,m=Math.min(d,f);m&&this.parse(0,m),d>f?this._insertElements(f,d-f,n):d<f&&this._removeElements(d,f-d)}_insertElements(n,i,o=!0){const f=this._cachedMeta,d=f.data,m=n+i;let A;const E=b=>{for(b.length+=i,A=b.length-1;A>=m;A--)b[A]=b[A-i]};for(E(d),A=n;A<m;++A)d[A]=new this.dataElementType;this._parsing&&E(f._parsed),this.parse(n,i),o&&this.updateElements(d,n,i,"reset")}updateElements(n,i,o,f){}_removeElements(n,i){const o=this._cachedMeta;if(this._parsing){const f=o._parsed.splice(n,i);o._stacked&&go(o,f)}o.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{const[i,o,f]=n;this[i](o,f)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){const n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);const o=arguments.length-2;o&&this._sync(["_insertElements",n,o])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function WA(s,n){if(!s._cache.$bar){const i=s.getMatchingVisibleMetas(n);let o=[];for(let f=0,d=i.length;f<d;f++)o=o.concat(i[f].controller.getAllParsedValues(s));s._cache.$bar=Fx(o.sort((f,d)=>f-d))}return s._cache.$bar}function ZA(s){const n=s.iScale,i=WA(n,s.type);let o=n._length,f,d,m,A;const E=()=>{m===32767||m===-32768||(Io(A)&&(o=Math.min(o,Math.abs(m-A)||o)),A=m)};for(f=0,d=i.length;f<d;++f)m=n.getPixelForValue(i[f]),E();for(A=void 0,f=0,d=n.ticks.length;f<d;++f)m=n.getPixelForTick(f),E();return o}function qA(s,n,i,o){const f=i.barThickness;let d,m;return ke(f)?(d=n.min*i.categoryPercentage,m=i.barPercentage):(d=f*o,m=1),{chunk:d/o,ratio:m,start:n.pixels[s]-d/2}}function QA(s,n,i,o){const f=n.pixels,d=f[s];let m=s>0?f[s-1]:null,A=s<f.length-1?f[s+1]:null;const E=i.categoryPercentage;m===null&&(m=d-(A===null?n.end-n.start:A-d)),A===null&&(A=d+d-m);const b=d-(d-Math.min(m,A))/2*E;return{chunk:Math.abs(A-m)/2*E/o,ratio:i.barPercentage,start:b}}function KA(s,n,i,o){const f=i.parse(s[0],o),d=i.parse(s[1],o),m=Math.min(f,d),A=Math.max(f,d);let E=m,b=A;Math.abs(m)>Math.abs(A)&&(E=A,b=m),n[i.axis]=b,n._custom={barStart:E,barEnd:b,start:f,end:d,min:m,max:A}}function nm(s,n,i,o){return En(s)?KA(s,n,i,o):n[i.axis]=i.parse(s,o),n}function A2(s,n,i,o){const f=s.iScale,d=s.vScale,m=f.getLabels(),A=f===d,E=[];let b,_,T,D;for(b=i,_=i+o;b<_;++b)D=n[b],T={},T[f.axis]=A||f.parse(m[b],b),E.push(nm(D,T,d,b));return E}function Hh(s){return s&&s.barStart!==void 0&&s.barEnd!==void 0}function JA(s,n,i){return s!==0?Os(s):(n.isHorizontal()?1:-1)*(n.min>=i?1:-1)}function $A(s){let n,i,o,f,d;return s.horizontal?(n=s.base>s.x,i="left",o="right"):(n=s.base<s.y,i="bottom",o="top"),n?(f="end",d="start"):(f="start",d="end"),{start:i,end:o,reverse:n,top:f,bottom:d}}function tw(s,n,i,o){let f=n.borderSkipped;const d={};if(!f){s.borderSkipped=d;return}if(f===!0){s.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:m,end:A,reverse:E,top:b,bottom:_}=$A(s);f==="middle"&&i&&(s.enableBorderRadius=!0,(i._top||0)===o?f=b:(i._bottom||0)===o?f=_:(d[w2(_,m,A,E)]=!0,f=b)),d[w2(f,m,A,E)]=!0,s.borderSkipped=d}function w2(s,n,i,o){return o?(s=ew(s,n,i),s=E2(s,i,n)):s=E2(s,n,i),s}function ew(s,n,i){return s===n?i:s===i?n:s}function E2(s,n,i){return s==="start"?n:s==="end"?i:s}function nw(s,{inflateAmount:n},i){s.inflateAmount=n==="auto"?i===1?.33:0:n}class iw extends em{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,o,f){return A2(n,i,o,f)}parseArrayData(n,i,o,f){return A2(n,i,o,f)}parseObjectData(n,i,o,f){const{iScale:d,vScale:m}=n,{xAxisKey:A="x",yAxisKey:E="y"}=this._parsing,b=d.axis==="x"?A:E,_=m.axis==="x"?A:E,T=[];let D,L,H,P;for(D=o,L=o+f;D<L;++D)P=i[D],H={},H[d.axis]=d.parse(ll(P,b),D),T.push(nm(ll(P,_),H,m,D));return T}updateRangeFromParsed(n,i,o,f){super.updateRangeFromParsed(n,i,o,f);const d=o._custom;d&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,d.min),n.max=Math.max(n.max,d.max))}getMaxOverflow(){return 0}getLabelAndValue(n){const i=this._cachedMeta,{iScale:o,vScale:f}=i,d=this.getParsed(n),m=d._custom,A=Hh(m)?"["+m.start+", "+m.end+"]":""+f.getLabelForValue(d[f.axis]);return{label:""+o.getLabelForValue(d[o.axis]),value:A}}initialize(){this.enableOptionSharing=!0,super.initialize();const n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,o,f){const d=f==="reset",{index:m,_cachedMeta:{vScale:A}}=this,E=A.getBasePixel(),b=A.isHorizontal(),_=this._getRuler(),{sharedOptions:T,includeOptions:D}=this._getSharedOptions(i,f);for(let L=i;L<i+o;L++){const H=this.getParsed(L),P=d||ke(H[A.axis])?{base:E,head:E}:this._calculateBarValuePixels(L),U=this._calculateBarIndexPixels(L,_),Z=(H._stacks||{})[A.axis],q={horizontal:b,base:P.base,enableBorderRadius:!Z||Hh(H._custom)||m===Z._top||m===Z._bottom,x:b?P.head:U.center,y:b?U.center:P.head,height:b?U.size:Math.abs(P.size),width:b?Math.abs(P.size):U.size};D&&(q.options=T||this.resolveDataElementOptions(L,n[L].active?"active":f));const at=q.options||n[L].options;tw(q,at,Z,m),nw(q,at,_.ratio),this.updateElement(n[L],L,q,f)}}_getStacks(n,i){const{iScale:o}=this._cachedMeta,f=o.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),d=o.options.stacked,m=[],A=this._cachedMeta.controller.getParsed(i),E=A&&A[o.axis],b=_=>{const T=_._parsed.find(L=>L[o.axis]===E),D=T&&T[_.vScale.axis];if(ke(D)||isNaN(D))return!0};for(const _ of f)if(!(i!==void 0&&b(_))&&((d===!1||m.indexOf(_.stack)===-1||d===void 0&&_.stack===void 0)&&m.push(_.stack),_.index===n))break;return m.length||m.push(void 0),m}_getStackCount(n){return this._getStacks(void 0,n).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const n=this.chart.scales,i=this.chart.options.indexAxis;return Object.keys(n).filter(o=>n[o].axis===i).shift()}_getAxis(){const n={},i=this.getFirstScaleIdForIndexAxis();for(const o of this.chart.data.datasets)n[me(this.chart.options.indexAxis==="x"?o.xAxisID:o.yAxisID,i)]=!0;return Object.keys(n)}_getStackIndex(n,i,o){const f=this._getStacks(n,o),d=i!==void 0?f.indexOf(i):-1;return d===-1?f.length-1:d}_getRuler(){const n=this.options,i=this._cachedMeta,o=i.iScale,f=[];let d,m;for(d=0,m=i.data.length;d<m;++d)f.push(o.getPixelForValue(this.getParsed(d)[o.axis],d));const A=n.barThickness;return{min:A||ZA(i),pixels:f,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:n.grouped,ratio:A?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){const{_cachedMeta:{vScale:i,_stacked:o,index:f},options:{base:d,minBarLength:m}}=this,A=d||0,E=this.getParsed(n),b=E._custom,_=Hh(b);let T=E[i.axis],D=0,L=o?this.applyStack(i,E,o):T,H,P;L!==T&&(D=L-T,L=T),_&&(T=b.barStart,L=b.barEnd-b.barStart,T!==0&&Os(T)!==Os(b.barEnd)&&(D=0),D+=T);const U=!ke(d)&&!_?d:D;let Z=i.getPixelForValue(U);if(this.chart.getDataVisibility(n)?H=i.getPixelForValue(D+L):H=Z,P=H-Z,Math.abs(P)<m){P=JA(P,i,A)*m,T===A&&(Z-=P/2);const q=i.getPixelForDecimal(0),at=i.getPixelForDecimal(1),mt=Math.min(q,at),xt=Math.max(q,at);Z=Math.max(Math.min(Z,xt),mt),H=Z+P,o&&!_&&(E._stacks[i.axis]._visualValues[f]=i.getValueForPixel(H)-i.getValueForPixel(Z))}if(Z===i.getPixelForValue(A)){const q=Os(P)*i.getLineWidthForValue(A)/2;Z+=q,P-=q}return{size:P,base:Z,head:H,center:H+P/2}}_calculateBarIndexPixels(n,i){const o=i.scale,f=this.options,d=f.skipNull,m=me(f.maxBarThickness,1/0);let A,E;const b=this._getAxisCount();if(i.grouped){const _=d?this._getStackCount(n):i.stackCount,T=f.barThickness==="flex"?QA(n,i,f,_*b):qA(n,i,f,_*b),D=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,L=this._getAxis().indexOf(me(D,this.getFirstScaleIdForIndexAxis())),H=this._getStackIndex(this.index,this._cachedMeta.stack,d?n:void 0)+L;A=T.start+T.chunk*H+T.chunk/2,E=Math.min(m,T.chunk*T.ratio)}else A=o.getPixelForValue(this.getParsed(n)[o.axis],n),E=Math.min(m,i.min*i.ratio);return{base:A-E/2,head:A+E/2,center:A,size:E}}draw(){const n=this._cachedMeta,i=n.vScale,o=n.data,f=o.length;let d=0;for(;d<f;++d)this.getParsed(d)[i.axis]!==null&&!o[d].hidden&&o[d].draw(this._ctx)}}function or(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ed{static override(n){Object.assign(Ed.prototype,n)}options;constructor(n){this.options=n||{}}init(){}formats(){return or()}parse(){return or()}format(){return or()}add(){return or()}diff(){return or()}startOf(){return or()}endOf(){return or()}}var aw={_date:Ed};function sw(s,n,i,o){const{controller:f,data:d,_sorted:m}=s,A=f._cachedMeta.iScale,E=s.dataset&&s.dataset.options?s.dataset.options.spanGaps:null;if(A&&n===A.axis&&n!=="r"&&m&&d.length){const b=A._reversePixels?Y3:Kh;if(o){if(f._sharedOptions){const _=d[0],T=typeof _.getRange=="function"&&_.getRange(n);if(T){const D=b(d,n,i-T),L=b(d,n,i+T);return{lo:D.lo,hi:L.hi}}}}else{const _=b(d,n,i);if(E){const{vScale:T}=f._cachedMeta,{_parsed:D}=s,L=D.slice(0,_.lo+1).reverse().findIndex(P=>!ke(P[T.axis]));_.lo-=Math.max(0,L);const H=D.slice(_.hi).findIndex(P=>!ke(P[T.axis]));_.hi+=Math.max(0,H)}return _}}return{lo:0,hi:d.length-1}}function Mu(s,n,i,o,f){const d=s.getSortedVisibleDatasetMetas(),m=i[n];for(let A=0,E=d.length;A<E;++A){const{index:b,data:_}=d[A],{lo:T,hi:D}=sw(d[A],n,m,f);for(let L=T;L<=D;++L){const H=_[L];H.skip||o(H,b,L)}}}function rw(s){const n=s.indexOf("x")!==-1,i=s.indexOf("y")!==-1;return function(o,f){const d=n?Math.abs(o.x-f.x):0,m=i?Math.abs(o.y-f.y):0;return Math.sqrt(Math.pow(d,2)+Math.pow(m,2))}}function jh(s,n,i,o,f){const d=[];return!f&&!s.isPointInArea(n)||Mu(s,i,n,function(A,E,b){!f&&!Yx(A,s.chartArea,0)||A.inRange(n.x,n.y,o)&&d.push({element:A,datasetIndex:E,index:b})},!0),d}function lw(s,n,i,o){let f=[];function d(m,A,E){const{startAngle:b,endAngle:_}=m.getProps(["startAngle","endAngle"],o),{angle:T}=z3(m,{x:n.x,y:n.y});j3(T,b,_)&&f.push({element:m,datasetIndex:A,index:E})}return Mu(s,i,n,d),f}function ow(s,n,i,o,f,d){let m=[];const A=rw(i);let E=Number.POSITIVE_INFINITY;function b(_,T,D){const L=_.inRange(n.x,n.y,f);if(o&&!L)return;const H=_.getCenterPoint(f);if(!(!!d||s.isPointInArea(H))&&!L)return;const U=A(n,H);U<E?(m=[{element:_,datasetIndex:T,index:D}],E=U):U===E&&m.push({element:_,datasetIndex:T,index:D})}return Mu(s,i,n,b),m}function Vh(s,n,i,o,f,d){return!d&&!s.isPointInArea(n)?[]:i==="r"&&!o?lw(s,n,i,f):ow(s,n,i,o,f,d)}function S2(s,n,i,o,f){const d=[],m=i==="x"?"inXRange":"inYRange";let A=!1;return Mu(s,i,n,(E,b,_)=>{E[m]&&E[m](n[i],f)&&(d.push({element:E,datasetIndex:b,index:_}),A=A||E.inRange(n.x,n.y,f))}),o&&!A?[]:d}var cw={modes:{index(s,n,i,o){const f=cr(n,s),d=i.axis||"x",m=i.includeInvisible||!1,A=i.intersect?jh(s,f,d,o,m):Vh(s,f,d,!1,o,m),E=[];return A.length?(s.getSortedVisibleDatasetMetas().forEach(b=>{const _=A[0].index,T=b.data[_];T&&!T.skip&&E.push({element:T,datasetIndex:b.index,index:_})}),E):[]},dataset(s,n,i,o){const f=cr(n,s),d=i.axis||"xy",m=i.includeInvisible||!1;let A=i.intersect?jh(s,f,d,o,m):Vh(s,f,d,!1,o,m);if(A.length>0){const E=A[0].datasetIndex,b=s.getDatasetMeta(E).data;A=[];for(let _=0;_<b.length;++_)A.push({element:b[_],datasetIndex:E,index:_})}return A},point(s,n,i,o){const f=cr(n,s),d=i.axis||"xy",m=i.includeInvisible||!1;return jh(s,f,d,o,m)},nearest(s,n,i,o){const f=cr(n,s),d=i.axis||"xy",m=i.includeInvisible||!1;return Vh(s,f,d,i.intersect,o,m)},x(s,n,i,o){const f=cr(n,s);return S2(s,f,"x",i.intersect,o)},y(s,n,i,o){const f=cr(n,s);return S2(s,f,"y",i.intersect,o)}}};const im=["left","top","right","bottom"];function xo(s,n){return s.filter(i=>i.pos===n)}function C2(s,n){return s.filter(i=>im.indexOf(i.pos)===-1&&i.box.axis===n)}function mo(s,n){return s.sort((i,o)=>{const f=n?o:i,d=n?i:o;return f.weight===d.weight?f.index-d.index:f.weight-d.weight})}function uw(s){const n=[];let i,o,f,d,m,A;for(i=0,o=(s||[]).length;i<o;++i)f=s[i],{position:d,options:{stack:m,stackWeight:A=1}}=f,n.push({index:i,box:f,pos:d,horizontal:f.isHorizontal(),weight:f.weight,stack:m&&d+m,stackWeight:A});return n}function fw(s){const n={};for(const i of s){const{stack:o,pos:f,stackWeight:d}=i;if(!o||!im.includes(f))continue;const m=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});m.count++,m.weight+=d}return n}function hw(s,n){const i=fw(s),{vBoxMaxWidth:o,hBoxMaxHeight:f}=n;let d,m,A;for(d=0,m=s.length;d<m;++d){A=s[d];const{fullSize:E}=A.box,b=i[A.stack],_=b&&A.stackWeight/b.weight;A.horizontal?(A.width=_?_*o:E&&n.availableWidth,A.height=f):(A.width=o,A.height=_?_*f:E&&n.availableHeight)}return i}function dw(s){const n=uw(s),i=mo(n.filter(b=>b.box.fullSize),!0),o=mo(xo(n,"left"),!0),f=mo(xo(n,"right")),d=mo(xo(n,"top"),!0),m=mo(xo(n,"bottom")),A=C2(n,"x"),E=C2(n,"y");return{fullSize:i,leftAndTop:o.concat(d),rightAndBottom:f.concat(E).concat(m).concat(A),chartArea:xo(n,"chartArea"),vertical:o.concat(f).concat(E),horizontal:d.concat(m).concat(A)}}function _2(s,n,i,o){return Math.max(s[i],n[i])+Math.max(s[o],n[o])}function am(s,n){s.top=Math.max(s.top,n.top),s.left=Math.max(s.left,n.left),s.bottom=Math.max(s.bottom,n.bottom),s.right=Math.max(s.right,n.right)}function gw(s,n,i,o){const{pos:f,box:d}=i,m=s.maxPadding;if(!ge(f)){i.size&&(s[f]-=i.size);const T=o[i.stack]||{size:0,count:1};T.size=Math.max(T.size,i.horizontal?d.height:d.width),i.size=T.size/T.count,s[f]+=i.size}d.getPadding&&am(m,d.getPadding());const A=Math.max(0,n.outerWidth-_2(m,s,"left","right")),E=Math.max(0,n.outerHeight-_2(m,s,"top","bottom")),b=A!==s.w,_=E!==s.h;return s.w=A,s.h=E,i.horizontal?{same:b,other:_}:{same:_,other:b}}function xw(s){const n=s.maxPadding;function i(o){const f=Math.max(n[o]-s[o],0);return s[o]+=f,f}s.y+=i("top"),s.x+=i("left"),i("right"),i("bottom")}function mw(s,n){const i=n.maxPadding;function o(f){const d={left:0,top:0,right:0,bottom:0};return f.forEach(m=>{d[m]=Math.max(n[m],i[m])}),d}return o(s?["left","right"]:["top","bottom"])}function So(s,n,i,o){const f=[];let d,m,A,E,b,_;for(d=0,m=s.length,b=0;d<m;++d){A=s[d],E=A.box,E.update(A.width||n.w,A.height||n.h,mw(A.horizontal,n));const{same:T,other:D}=gw(n,i,A,o);b|=T&&f.length,_=_||D,E.fullSize||f.push(A)}return b&&So(f,n,i,o)||_}function au(s,n,i,o,f){s.top=i,s.left=n,s.right=n+o,s.bottom=i+f,s.width=o,s.height=f}function v2(s,n,i,o){const f=i.padding;let{x:d,y:m}=n;for(const A of s){const E=A.box,b=o[A.stack]||{placed:0,weight:1},_=A.stackWeight/b.weight||1;if(A.horizontal){const T=n.w*_,D=b.size||E.height;Io(b.start)&&(m=b.start),E.fullSize?au(E,f.left,m,i.outerWidth-f.right-f.left,D):au(E,n.left+b.placed,m,T,D),b.start=m,b.placed+=T,m=E.bottom}else{const T=n.h*_,D=b.size||E.width;Io(b.start)&&(d=b.start),E.fullSize?au(E,d,f.top,D,i.outerHeight-f.bottom-f.top):au(E,d,n.top+b.placed,D,T),b.start=d,b.placed+=T,d=E.right}}n.x=d,n.y=m}var Ni={addBox(s,n){s.boxes||(s.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw(i){n.draw(i)}}]},s.boxes.push(n)},removeBox(s,n){const i=s.boxes?s.boxes.indexOf(n):-1;i!==-1&&s.boxes.splice(i,1)},configure(s,n,i){n.fullSize=i.fullSize,n.position=i.position,n.weight=i.weight},update(s,n,i,o){if(!s)return;const f=Di(s.options.layout.padding),d=Math.max(n-f.width,0),m=Math.max(i-f.height,0),A=dw(s.boxes),E=A.vertical,b=A.horizontal;ve(s.boxes,P=>{typeof P.beforeLayout=="function"&&P.beforeLayout()});const _=E.reduce((P,U)=>U.box.options&&U.box.options.display===!1?P:P+1,0)||1,T=Object.freeze({outerWidth:n,outerHeight:i,padding:f,availableWidth:d,availableHeight:m,vBoxMaxWidth:d/2/_,hBoxMaxHeight:m/2}),D=Object.assign({},f);am(D,Di(o));const L=Object.assign({maxPadding:D,w:d,h:m,x:f.left,y:f.top},f),H=hw(E.concat(b),T);So(A.fullSize,L,T,H),So(E,L,T,H),So(b,L,T,H)&&So(E,L,T,H),xw(L),v2(A.leftAndTop,L,T,H),L.x+=L.w,L.y+=L.h,v2(A.rightAndBottom,L,T,H),s.chartArea={left:L.left,top:L.top,right:L.left+L.w,bottom:L.top+L.h,height:L.h,width:L.w},ve(A.chartArea,P=>{const U=P.box;Object.assign(U,s.chartArea),U.update(L.w,L.h,{left:0,top:0,right:0,bottom:0})})}};class sm{acquireContext(n,i){}releaseContext(n){return!1}addEventListener(n,i,o){}removeEventListener(n,i,o){}getDevicePixelRatio(){return 1}getMaximumSize(n,i,o,f){return i=Math.max(0,i||n.width),o=o||n.height,{width:i,height:Math.max(0,f?Math.floor(i/f):o)}}isAttached(n){return!0}updateConfig(n){}}class pw extends sm{acquireContext(n){return n&&n.getContext&&n.getContext("2d")||null}updateConfig(n){n.options.animation=!1}}const du="$chartjs",yw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},T2=s=>s===null||s==="";function bw(s,n){const i=s.style,o=s.getAttribute("height"),f=s.getAttribute("width");if(s[du]={initial:{height:o,width:f,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",T2(f)){const d=d2(s,"width");d!==void 0&&(s.width=d)}if(T2(o))if(s.style.height==="")s.height=s.width/(n||2);else{const d=d2(s,"height");d!==void 0&&(s.height=d)}return s}const rm=MA?{passive:!0}:!1;function Aw(s,n,i){s&&s.addEventListener(n,i,rm)}function ww(s,n,i){s&&s.canvas&&s.canvas.removeEventListener(n,i,rm)}function Ew(s,n){const i=yw[s.type]||s.type,{x:o,y:f}=cr(s,n);return{type:i,chart:n,native:s,x:o!==void 0?o:null,y:f!==void 0?f:null}}function Cu(s,n){for(const i of s)if(i===n||i.contains(n))return!0}function Sw(s,n,i){const o=s.canvas,f=new MutationObserver(d=>{let m=!1;for(const A of d)m=m||Cu(A.addedNodes,o),m=m&&!Cu(A.removedNodes,o);m&&i()});return f.observe(document,{childList:!0,subtree:!0}),f}function Cw(s,n,i){const o=s.canvas,f=new MutationObserver(d=>{let m=!1;for(const A of d)m=m||Cu(A.removedNodes,o),m=m&&!Cu(A.addedNodes,o);m&&i()});return f.observe(document,{childList:!0,subtree:!0}),f}const Ro=new Map;let M2=0;function lm(){const s=window.devicePixelRatio;s!==M2&&(M2=s,Ro.forEach((n,i)=>{i.currentDevicePixelRatio!==s&&n()}))}function _w(s,n){Ro.size||window.addEventListener("resize",lm),Ro.set(s,n)}function vw(s){Ro.delete(s),Ro.size||window.removeEventListener("resize",lm)}function Tw(s,n,i){const o=s.canvas,f=o&&wd(o);if(!f)return;const d=Ux((A,E)=>{const b=f.clientWidth;i(A,E),b<f.clientWidth&&i()},window),m=new ResizeObserver(A=>{const E=A[0],b=E.contentRect.width,_=E.contentRect.height;b===0&&_===0||d(b,_)});return m.observe(f),_w(s,d),m}function Yh(s,n,i){i&&i.disconnect(),n==="resize"&&vw(s)}function Mw(s,n,i){const o=s.canvas,f=Ux(d=>{s.ctx!==null&&i(Ew(d,s))},s);return Aw(o,n,f),f}class Ow extends sm{acquireContext(n,i){const o=n&&n.getContext&&n.getContext("2d");return o&&o.canvas===n?(bw(n,i),o):null}releaseContext(n){const i=n.canvas;if(!i[du])return!1;const o=i[du].initial;["height","width"].forEach(d=>{const m=o[d];ke(m)?i.removeAttribute(d):i.setAttribute(d,m)});const f=o.style||{};return Object.keys(f).forEach(d=>{i.style[d]=f[d]}),i.width=i.width,delete i[du],!0}addEventListener(n,i,o){this.removeEventListener(n,i);const f=n.$proxies||(n.$proxies={}),m={attach:Sw,detach:Cw,resize:Tw}[i]||Mw;f[i]=m(n,i,o)}removeEventListener(n,i){const o=n.$proxies||(n.$proxies={}),f=o[i];if(!f)return;({attach:Yh,detach:Yh,resize:Yh}[i]||ww)(n,i,f),o[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(n,i,o,f){return TA(n,i,o,f)}isAttached(n){const i=n&&wd(n);return!!(i&&i.isConnected)}}function Nw(s){return!Ad()||typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas?pw:Ow}class hl{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(n){const{x:i,y:o}=this.getProps(["x","y"],n);return{x:i,y:o}}hasValue(){return wu(this.x)&&wu(this.y)}getProps(n,i){const o=this.$animations;if(!i||!o)return this;const f={};return n.forEach(d=>{f[d]=o[d]&&o[d].active()?o[d]._to:this[d]}),f}}function Iw(s,n){const i=s.options.ticks,o=Dw(s),f=Math.min(i.maxTicksLimit||o,o),d=i.major.enabled?Lw(n):[],m=d.length,A=d[0],E=d[m-1],b=[];if(m>f)return Bw(n,b,d,m/f),b;const _=Rw(d,n,f);if(m>0){let T,D;const L=m>1?Math.round((E-A)/(m-1)):null;for(su(n,b,_,ke(L)?0:A-L,A),T=0,D=m-1;T<D;T++)su(n,b,_,d[T],d[T+1]);return su(n,b,_,E,ke(L)?n.length:E+L),b}return su(n,b,_),b}function Dw(s){const n=s.options.offset,i=s._tickSize(),o=s._length/i+(n?0:1),f=s._maxLength/i;return Math.floor(Math.min(o,f))}function Rw(s,n,i){const o=kw(s),f=n.length/i;if(!o)return Math.max(f,1);const d=B3(o);for(let m=0,A=d.length-1;m<A;m++){const E=d[m];if(E>f)return E}return Math.max(f,1)}function Lw(s){const n=[];let i,o;for(i=0,o=s.length;i<o;i++)s[i].major&&n.push(i);return n}function Bw(s,n,i,o){let f=0,d=i[0],m;for(o=Math.ceil(o),m=0;m<s.length;m++)m===d&&(n.push(s[m]),f++,d=i[f*o])}function su(s,n,i,o,f){const d=me(o,0),m=Math.min(me(f,s.length),s.length);let A=0,E,b,_;for(i=Math.ceil(i),f&&(E=f-o,i=E/Math.floor(E/i)),_=d;_<0;)A++,_=Math.round(d+A*i);for(b=Math.max(d,0);b<m;b++)b===_&&(n.push(s[b]),A++,_=Math.round(d+A*i))}function kw(s){const n=s.length;let i,o;if(n<2)return!1;for(o=s[0],i=1;i<n;++i)if(s[i]-s[i-1]!==o)return!1;return o}const Fw=s=>s==="left"?"right":s==="right"?"left":s,O2=(s,n,i)=>n==="top"||n==="left"?s[n]+i:s[n]-i,N2=(s,n)=>Math.min(n||s,s);function I2(s,n){const i=[],o=s.length/n,f=s.length;let d=0;for(;d<f;d+=o)i.push(s[Math.floor(d)]);return i}function Pw(s,n,i){const o=s.ticks.length,f=Math.min(n,o-1),d=s._startPixel,m=s._endPixel,A=1e-6;let E=s.getPixelForTick(f),b;if(!(i&&(o===1?b=Math.max(E-d,m-E):n===0?b=(s.getPixelForTick(1)-E)/2:b=(E-s.getPixelForTick(f-1))/2,E+=f<n?b:-b,E<d-A||E>m+A)))return E}function Uw(s,n){ve(s,i=>{const o=i.gc,f=o.length/2;let d;if(f>n){for(d=0;d<f;++d)delete i.data[o[d]];o.splice(0,f)}})}function po(s){return s.drawTicks?s.tickLength:0}function D2(s,n){if(!s.display)return 0;const i=Gn(s.font,n),o=Di(s.padding);return(En(s.text)?s.text.length:1)*i.lineHeight+o.height}function zw(s,n){return fl(s,{scale:n,type:"scale"})}function Hw(s,n,i){return fl(s,{tick:i,index:n,type:"tick"})}function jw(s,n,i){let o=gd(s);return(i&&n!=="right"||!i&&n==="right")&&(o=Fw(o)),o}function Vw(s,n,i,o){const{top:f,left:d,bottom:m,right:A,chart:E}=s,{chartArea:b,scales:_}=E;let T=0,D,L,H;const P=m-f,U=A-d;if(s.isHorizontal()){if(L=Yn(o,d,A),ge(i)){const Z=Object.keys(i)[0],q=i[Z];H=_[Z].getPixelForValue(q)+P-n}else i==="center"?H=(b.bottom+b.top)/2+P-n:H=O2(s,i,n);D=A-d}else{if(ge(i)){const Z=Object.keys(i)[0],q=i[Z];L=_[Z].getPixelForValue(q)-U+n}else i==="center"?L=(b.left+b.right)/2-U+n:L=O2(s,i,n);H=Yn(o,m,f),T=i==="left"?-ji:ji}return{titleX:L,titleY:H,maxWidth:D,rotation:T}}class dl extends hl{constructor(n){super(),this.id=n.id,this.type=n.type,this.options=void 0,this.ctx=n.ctx,this.chart=n.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(n){this.options=n.setContext(this.getContext()),this.axis=n.axis,this._userMin=this.parse(n.min),this._userMax=this.parse(n.max),this._suggestedMin=this.parse(n.suggestedMin),this._suggestedMax=this.parse(n.suggestedMax)}parse(n,i){return n}getUserBounds(){let{_userMin:n,_userMax:i,_suggestedMin:o,_suggestedMax:f}=this;return n=ca(n,Number.POSITIVE_INFINITY),i=ca(i,Number.NEGATIVE_INFINITY),o=ca(o,Number.POSITIVE_INFINITY),f=ca(f,Number.NEGATIVE_INFINITY),{min:ca(n,o),max:ca(i,f),minDefined:Ii(n),maxDefined:Ii(i)}}getMinMax(n){let{min:i,max:o,minDefined:f,maxDefined:d}=this.getUserBounds(),m;if(f&&d)return{min:i,max:o};const A=this.getMatchingVisibleMetas();for(let E=0,b=A.length;E<b;++E)m=A[E].controller.getMinMax(this,n),f||(i=Math.min(i,m.min)),d||(o=Math.max(o,m.max));return i=d&&i>o?o:i,o=f&&i>o?i:o,{min:ca(i,ca(o,i)),max:ca(o,ca(i,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const n=this.chart.data;return this.options.labels||(this.isHorizontal()?n.xLabels:n.yLabels)||n.labels||[]}getLabelItems(n=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(n))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){je(this.options.beforeUpdate,[this])}update(n,i,o){const{beginAtZero:f,grace:d,ticks:m}=this.options,A=m.sampleSize;this.beforeUpdate(),this.maxWidth=n,this.maxHeight=i,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hA(this,d,f),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const E=A<this.ticks.length;this._convertTicksToLabels(E?I2(this.ticks,A):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),m.display&&(m.autoSkip||m.source==="auto")&&(this.ticks=Iw(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),E&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let n=this.options.reverse,i,o;this.isHorizontal()?(i=this.left,o=this.right):(i=this.top,o=this.bottom,n=!n),this._startPixel=i,this._endPixel=o,this._reversePixels=n,this._length=o-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){je(this.options.afterUpdate,[this])}beforeSetDimensions(){je(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){je(this.options.afterSetDimensions,[this])}_callHooks(n){this.chart.notifyPlugins(n,this.getContext()),je(this.options[n],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){je(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(n){const i=this.options.ticks;let o,f,d;for(o=0,f=n.length;o<f;o++)d=n[o],d.label=je(i.callback,[d.value,o,n],this)}afterTickToLabelConversion(){je(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){je(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const n=this.options,i=n.ticks,o=N2(this.ticks.length,n.ticks.maxTicksLimit),f=i.minRotation||0,d=i.maxRotation;let m=f,A,E,b;if(!this._isVisible()||!i.display||f>=d||o<=1||!this.isHorizontal()){this.labelRotation=f;return}const _=this._getLabelSizes(),T=_.widest.width,D=_.highest.height,L=Vi(this.chart.width-T,0,this.maxWidth);A=n.offset?this.maxWidth/o:L/(o-1),T+6>A&&(A=L/(o-(n.offset?.5:1)),E=this.maxHeight-po(n.grid)-i.padding-D2(n.title,this.chart.options.font),b=Math.sqrt(T*T+D*D),m=U3(Math.min(Math.asin(Vi((_.highest.height+6)/A,-1,1)),Math.asin(Vi(E/b,-1,1))-Math.asin(Vi(D/b,-1,1)))),m=Math.max(f,Math.min(d,m))),this.labelRotation=m}afterCalculateLabelRotation(){je(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){je(this.options.beforeFit,[this])}fit(){const n={width:0,height:0},{chart:i,options:{ticks:o,title:f,grid:d}}=this,m=this._isVisible(),A=this.isHorizontal();if(m){const E=D2(f,i.options.font);if(A?(n.width=this.maxWidth,n.height=po(d)+E):(n.height=this.maxHeight,n.width=po(d)+E),o.display&&this.ticks.length){const{first:b,last:_,widest:T,highest:D}=this._getLabelSizes(),L=o.padding*2,H=ur(this.labelRotation),P=Math.cos(H),U=Math.sin(H);if(A){const Z=o.mirror?0:U*T.width+P*D.height;n.height=Math.min(this.maxHeight,n.height+Z+L)}else{const Z=o.mirror?0:P*T.width+U*D.height;n.width=Math.min(this.maxWidth,n.width+Z+L)}this._calculatePadding(b,_,U,P)}}this._handleMargins(),A?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=n.height):(this.width=n.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(n,i,o,f){const{ticks:{align:d,padding:m},position:A}=this.options,E=this.labelRotation!==0,b=A!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,T=this.right-this.getPixelForTick(this.ticks.length-1);let D=0,L=0;E?b?(D=f*n.width,L=o*i.height):(D=o*n.height,L=f*i.width):d==="start"?L=i.width:d==="end"?D=n.width:d!=="inner"&&(D=n.width/2,L=i.width/2),this.paddingLeft=Math.max((D-_+m)*this.width/(this.width-_),0),this.paddingRight=Math.max((L-T+m)*this.width/(this.width-T),0)}else{let _=i.height/2,T=n.height/2;d==="start"?(_=0,T=n.height):d==="end"&&(_=i.height,T=0),this.paddingTop=_+m,this.paddingBottom=T+m}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){je(this.options.afterFit,[this])}isHorizontal(){const{axis:n,position:i}=this.options;return i==="top"||i==="bottom"||n==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(n){this.beforeTickToLabelConversion(),this.generateTickLabels(n);let i,o;for(i=0,o=n.length;i<o;i++)ke(n[i].label)&&(n.splice(i,1),o--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let n=this._labelSizes;if(!n){const i=this.options.ticks.sampleSize;let o=this.ticks;i<o.length&&(o=I2(o,i)),this._labelSizes=n=this._computeLabelSizes(o,o.length,this.options.ticks.maxTicksLimit)}return n}_computeLabelSizes(n,i,o){const{ctx:f,_longestTextCache:d}=this,m=[],A=[],E=Math.floor(i/N2(i,o));let b=0,_=0,T,D,L,H,P,U,Z,q,at,mt,xt;for(T=0;T<i;T+=E){if(H=n[T].label,P=this._resolveTickFontOptions(T),f.font=U=P.string,Z=d[U]=d[U]||{data:{},gc:[]},q=P.lineHeight,at=mt=0,!ke(H)&&!En(H))at=l2(f,Z.data,Z.gc,at,H),mt=q;else if(En(H))for(D=0,L=H.length;D<L;++D)xt=H[D],!ke(xt)&&!En(xt)&&(at=l2(f,Z.data,Z.gc,at,xt),mt+=q);m.push(at),A.push(mt),b=Math.max(at,b),_=Math.max(mt,_)}Uw(d,i);const Ct=m.indexOf(b),X=A.indexOf(_),gt=nt=>({width:m[nt]||0,height:A[nt]||0});return{first:gt(0),last:gt(i-1),widest:gt(Ct),highest:gt(X),widths:m,heights:A}}getLabelForValue(n){return n}getPixelForValue(n,i){return NaN}getValueForPixel(n){}getPixelForTick(n){const i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getPixelForDecimal(n){this._reversePixels&&(n=1-n);const i=this._startPixel+n*this._length;return V3(this._alignToPixels?lr(this.chart,i,0):i)}getDecimalForPixel(n){const i=(n-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:n,max:i}=this;return n<0&&i<0?i:n>0&&i>0?n:0}getContext(n){const i=this.ticks||[];if(n>=0&&n<i.length){const o=i[n];return o.$context||(o.$context=Hw(this.getContext(),n,o))}return this.$context||(this.$context=zw(this.chart.getContext(),this))}_tickSize(){const n=this.options.ticks,i=ur(this.labelRotation),o=Math.abs(Math.cos(i)),f=Math.abs(Math.sin(i)),d=this._getLabelSizes(),m=n.autoSkipPadding||0,A=d?d.widest.width+m:0,E=d?d.highest.height+m:0;return this.isHorizontal()?E*o>A*f?A/o:E/f:E*f<A*o?E/o:A/f}_isVisible(){const n=this.options.display;return n!=="auto"?!!n:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(n){const i=this.axis,o=this.chart,f=this.options,{grid:d,position:m,border:A}=f,E=d.offset,b=this.isHorizontal(),T=this.ticks.length+(E?1:0),D=po(d),L=[],H=A.setContext(this.getContext()),P=H.display?H.width:0,U=P/2,Z=function(et){return lr(o,et,P)};let q,at,mt,xt,Ct,X,gt,nt,Ft,It,_t,Ut;if(m==="top")q=Z(this.bottom),X=this.bottom-D,nt=q-U,It=Z(n.top)+U,Ut=n.bottom;else if(m==="bottom")q=Z(this.top),It=n.top,Ut=Z(n.bottom)-U,X=q+U,nt=this.top+D;else if(m==="left")q=Z(this.right),Ct=this.right-D,gt=q-U,Ft=Z(n.left)+U,_t=n.right;else if(m==="right")q=Z(this.left),Ft=n.left,_t=Z(n.right)-U,Ct=q+U,gt=this.left+D;else if(i==="x"){if(m==="center")q=Z((n.top+n.bottom)/2+.5);else if(ge(m)){const et=Object.keys(m)[0],ut=m[et];q=Z(this.chart.scales[et].getPixelForValue(ut))}It=n.top,Ut=n.bottom,X=q+U,nt=X+D}else if(i==="y"){if(m==="center")q=Z((n.left+n.right)/2);else if(ge(m)){const et=Object.keys(m)[0],ut=m[et];q=Z(this.chart.scales[et].getPixelForValue(ut))}Ct=q-U,gt=Ct-D,Ft=n.left,_t=n.right}const Gt=me(f.ticks.maxTicksLimit,T),K=Math.max(1,Math.ceil(T/Gt));for(at=0;at<T;at+=K){const et=this.getContext(at),ut=d.setContext(et),Rt=A.setContext(et),qt=ut.lineWidth,F=ut.color,ot=Rt.dash||[],ft=Rt.dashOffset,wt=ut.tickWidth,bt=ut.tickColor,jt=ut.tickBorderDash||[],At=ut.tickBorderDashOffset;mt=Pw(this,at,E),mt!==void 0&&(xt=lr(o,mt,qt),b?Ct=gt=Ft=_t=xt:X=nt=It=Ut=xt,L.push({tx1:Ct,ty1:X,tx2:gt,ty2:nt,x1:Ft,y1:It,x2:_t,y2:Ut,width:qt,color:F,borderDash:ot,borderDashOffset:ft,tickWidth:wt,tickColor:bt,tickBorderDash:jt,tickBorderDashOffset:At}))}return this._ticksLength=T,this._borderValue=q,L}_computeLabelItems(n){const i=this.axis,o=this.options,{position:f,ticks:d}=o,m=this.isHorizontal(),A=this.ticks,{align:E,crossAlign:b,padding:_,mirror:T}=d,D=po(o.grid),L=D+_,H=T?-_:L,P=-ur(this.labelRotation),U=[];let Z,q,at,mt,xt,Ct,X,gt,nt,Ft,It,_t,Ut="middle";if(f==="top")Ct=this.bottom-H,X=this._getXAxisLabelAlignment();else if(f==="bottom")Ct=this.top+H,X=this._getXAxisLabelAlignment();else if(f==="left"){const K=this._getYAxisLabelAlignment(D);X=K.textAlign,xt=K.x}else if(f==="right"){const K=this._getYAxisLabelAlignment(D);X=K.textAlign,xt=K.x}else if(i==="x"){if(f==="center")Ct=(n.top+n.bottom)/2+L;else if(ge(f)){const K=Object.keys(f)[0],et=f[K];Ct=this.chart.scales[K].getPixelForValue(et)+L}X=this._getXAxisLabelAlignment()}else if(i==="y"){if(f==="center")xt=(n.left+n.right)/2-L;else if(ge(f)){const K=Object.keys(f)[0],et=f[K];xt=this.chart.scales[K].getPixelForValue(et)}X=this._getYAxisLabelAlignment(D).textAlign}i==="y"&&(E==="start"?Ut="top":E==="end"&&(Ut="bottom"));const Gt=this._getLabelSizes();for(Z=0,q=A.length;Z<q;++Z){at=A[Z],mt=at.label;const K=d.setContext(this.getContext(Z));gt=this.getPixelForTick(Z)+d.labelOffset,nt=this._resolveTickFontOptions(Z),Ft=nt.lineHeight,It=En(mt)?mt.length:1;const et=It/2,ut=K.color,Rt=K.textStrokeColor,qt=K.textStrokeWidth;let F=X;m?(xt=gt,X==="inner"&&(Z===q-1?F=this.options.reverse?"left":"right":Z===0?F=this.options.reverse?"right":"left":F="center"),f==="top"?b==="near"||P!==0?_t=-It*Ft+Ft/2:b==="center"?_t=-Gt.highest.height/2-et*Ft+Ft:_t=-Gt.highest.height+Ft/2:b==="near"||P!==0?_t=Ft/2:b==="center"?_t=Gt.highest.height/2-et*Ft:_t=Gt.highest.height-It*Ft,T&&(_t*=-1),P!==0&&!K.showLabelBackdrop&&(xt+=Ft/2*Math.sin(P))):(Ct=gt,_t=(1-It)*Ft/2);let ot;if(K.showLabelBackdrop){const ft=Di(K.backdropPadding),wt=Gt.heights[Z],bt=Gt.widths[Z];let jt=_t-ft.top,At=0-ft.left;switch(Ut){case"middle":jt-=wt/2;break;case"bottom":jt-=wt;break}switch(X){case"center":At-=bt/2;break;case"right":At-=bt;break;case"inner":Z===q-1?At-=bt:Z>0&&(At-=bt/2);break}ot={left:At,top:jt,width:bt+ft.width,height:wt+ft.height,color:K.backdropColor}}U.push({label:mt,font:nt,textOffset:_t,options:{rotation:P,color:ut,strokeColor:Rt,strokeWidth:qt,textAlign:F,textBaseline:Ut,translation:[xt,Ct],backdrop:ot}})}return U}_getXAxisLabelAlignment(){const{position:n,ticks:i}=this.options;if(-ur(this.labelRotation))return n==="top"?"left":"right";let f="center";return i.align==="start"?f="left":i.align==="end"?f="right":i.align==="inner"&&(f="inner"),f}_getYAxisLabelAlignment(n){const{position:i,ticks:{crossAlign:o,mirror:f,padding:d}}=this.options,m=this._getLabelSizes(),A=n+d,E=m.widest.width;let b,_;return i==="left"?f?(_=this.right+d,o==="near"?b="left":o==="center"?(b="center",_+=E/2):(b="right",_+=E)):(_=this.right-A,o==="near"?b="right":o==="center"?(b="center",_-=E/2):(b="left",_=this.left)):i==="right"?f?(_=this.left+d,o==="near"?b="right":o==="center"?(b="center",_-=E/2):(b="left",_-=E)):(_=this.left+A,o==="near"?b="left":o==="center"?(b="center",_+=E/2):(b="right",_=this.right)):b="right",{textAlign:b,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const n=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:n.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:n.width}}drawBackground(){const{ctx:n,options:{backgroundColor:i},left:o,top:f,width:d,height:m}=this;i&&(n.save(),n.fillStyle=i,n.fillRect(o,f,d,m),n.restore())}getLineWidthForValue(n){const i=this.options.grid;if(!this._isVisible()||!i.display)return 0;const f=this.ticks.findIndex(d=>d.value===n);return f>=0?i.setContext(this.getContext(f)).lineWidth:0}drawGrid(n){const i=this.options.grid,o=this.ctx,f=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(n));let d,m;const A=(E,b,_)=>{!_.width||!_.color||(o.save(),o.lineWidth=_.width,o.strokeStyle=_.color,o.setLineDash(_.borderDash||[]),o.lineDashOffset=_.borderDashOffset,o.beginPath(),o.moveTo(E.x,E.y),o.lineTo(b.x,b.y),o.stroke(),o.restore())};if(i.display)for(d=0,m=f.length;d<m;++d){const E=f[d];i.drawOnChartArea&&A({x:E.x1,y:E.y1},{x:E.x2,y:E.y2},E),i.drawTicks&&A({x:E.tx1,y:E.ty1},{x:E.tx2,y:E.ty2},{color:E.tickColor,width:E.tickWidth,borderDash:E.tickBorderDash,borderDashOffset:E.tickBorderDashOffset})}}drawBorder(){const{chart:n,ctx:i,options:{border:o,grid:f}}=this,d=o.setContext(this.getContext()),m=o.display?d.width:0;if(!m)return;const A=f.setContext(this.getContext(0)).lineWidth,E=this._borderValue;let b,_,T,D;this.isHorizontal()?(b=lr(n,this.left,m)-m/2,_=lr(n,this.right,A)+A/2,T=D=E):(T=lr(n,this.top,m)-m/2,D=lr(n,this.bottom,A)+A/2,b=_=E),i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.beginPath(),i.moveTo(b,T),i.lineTo(_,D),i.stroke(),i.restore()}drawLabels(n){if(!this.options.ticks.display)return;const o=this.ctx,f=this._computeLabelArea();f&&xd(o,f);const d=this.getLabelItems(n);for(const m of d){const A=m.options,E=m.font,b=m.label,_=m.textOffset;Do(o,b,0,_,E,A)}f&&md(o)}drawTitle(){const{ctx:n,options:{position:i,title:o,reverse:f}}=this;if(!o.display)return;const d=Gn(o.font),m=Di(o.padding),A=o.align;let E=d.lineHeight/2;i==="bottom"||i==="center"||ge(i)?(E+=m.bottom,En(o.text)&&(E+=d.lineHeight*(o.text.length-1))):E+=m.top;const{titleX:b,titleY:_,maxWidth:T,rotation:D}=Vw(this,E,i,A);Do(n,o.text,0,0,d,{color:o.color,maxWidth:T,rotation:D,textAlign:jw(A,i,f),textBaseline:"middle",translation:[b,_]})}draw(n){this._isVisible()&&(this.drawBackground(),this.drawGrid(n),this.drawBorder(),this.drawTitle(),this.drawLabels(n))}_layers(){const n=this.options,i=n.ticks&&n.ticks.z||0,o=me(n.grid&&n.grid.z,-1),f=me(n.border&&n.border.z,0);return!this._isVisible()||this.draw!==dl.prototype.draw?[{z:i,draw:d=>{this.draw(d)}}]:[{z:o,draw:d=>{this.drawBackground(),this.drawGrid(d),this.drawTitle()}},{z:f,draw:()=>{this.drawBorder()}},{z:i,draw:d=>{this.drawLabels(d)}}]}getMatchingVisibleMetas(n){const i=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",f=[];let d,m;for(d=0,m=i.length;d<m;++d){const A=i[d];A[o]===this.id&&(!n||A.type===n)&&f.push(A)}return f}_resolveTickFontOptions(n){const i=this.options.ticks.setContext(this.getContext(n));return Gn(i.font)}_maxDigits(){const n=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/n}}class ru{constructor(n,i,o){this.type=n,this.scope=i,this.override=o,this.items=Object.create(null)}isForType(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}register(n){const i=Object.getPrototypeOf(n);let o;Xw(i)&&(o=this.register(i));const f=this.items,d=n.id,m=this.scope+"."+d;if(!d)throw new Error("class does not have id: "+n);return d in f||(f[d]=n,Yw(n,m,o),this.override&&on.override(n.id,n.overrides)),m}get(n){return this.items[n]}unregister(n){const i=this.items,o=n.id,f=this.scope;o in i&&delete i[o],f&&o in on[f]&&(delete on[f][o],this.override&&delete hr[o])}}function Yw(s,n,i){const o=No(Object.create(null),[i?on.get(i):{},on.get(n),s.defaults]);on.set(n,o),s.defaultRoutes&&Gw(n,s.defaultRoutes),s.descriptors&&on.describe(n,s.descriptors)}function Gw(s,n){Object.keys(n).forEach(i=>{const o=i.split("."),f=o.pop(),d=[s].concat(o).join("."),m=n[i].split("."),A=m.pop(),E=m.join(".");on.route(d,f,E,A)})}function Xw(s){return"id"in s&&"defaults"in s}class Ww{constructor(){this.controllers=new ru(em,"datasets",!0),this.elements=new ru(hl,"elements"),this.plugins=new ru(Object,"plugins"),this.scales=new ru(dl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...n){this._each("register",n)}remove(...n){this._each("unregister",n)}addControllers(...n){this._each("register",n,this.controllers)}addElements(...n){this._each("register",n,this.elements)}addPlugins(...n){this._each("register",n,this.plugins)}addScales(...n){this._each("register",n,this.scales)}getController(n){return this._get(n,this.controllers,"controller")}getElement(n){return this._get(n,this.elements,"element")}getPlugin(n){return this._get(n,this.plugins,"plugin")}getScale(n){return this._get(n,this.scales,"scale")}removeControllers(...n){this._each("unregister",n,this.controllers)}removeElements(...n){this._each("unregister",n,this.elements)}removePlugins(...n){this._each("unregister",n,this.plugins)}removeScales(...n){this._each("unregister",n,this.scales)}_each(n,i,o){[...i].forEach(f=>{const d=o||this._getRegistryForType(f);o||d.isForType(f)||d===this.plugins&&f.id?this._exec(n,d,f):ve(f,m=>{const A=o||this._getRegistryForType(m);this._exec(n,A,m)})})}_exec(n,i,o){const f=hd(n);je(o["before"+f],[],o),i[n](o),je(o["after"+f],[],o)}_getRegistryForType(n){for(let i=0;i<this._typedRegistries.length;i++){const o=this._typedRegistries[i];if(o.isForType(n))return o}return this.plugins}_get(n,i,o){const f=i.get(n);if(f===void 0)throw new Error('"'+n+'" is not a registered '+o+".");return f}}var ha=new Ww;class Zw{constructor(){this._init=[]}notify(n,i,o,f){i==="beforeInit"&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));const d=f?this._descriptors(n).filter(f):this._descriptors(n),m=this._notify(d,n,i,o);return i==="afterDestroy"&&(this._notify(d,n,"stop"),this._notify(this._init,n,"uninstall")),m}_notify(n,i,o,f){f=f||{};for(const d of n){const m=d.plugin,A=m[o],E=[i,f,d.options];if(je(A,E,m)===!1&&f.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(n){if(this._cache)return this._cache;const i=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),i}_createDescriptors(n,i){const o=n&&n.config,f=me(o.options&&o.options.plugins,{}),d=qw(o);return f===!1&&!i?[]:Kw(n,d,f,i)}_notifyStateChanges(n){const i=this._oldCache||[],o=this._cache,f=(d,m)=>d.filter(A=>!m.some(E=>A.plugin.id===E.plugin.id));this._notify(f(i,o),n,"stop"),this._notify(f(o,i),n,"start")}}function qw(s){const n={},i=[],o=Object.keys(ha.plugins.items);for(let d=0;d<o.length;d++)i.push(ha.getPlugin(o[d]));const f=s.plugins||[];for(let d=0;d<f.length;d++){const m=f[d];i.indexOf(m)===-1&&(i.push(m),n[m.id]=!0)}return{plugins:i,localIds:n}}function Qw(s,n){return!n&&s===!1?null:s===!0?{}:s}function Kw(s,{plugins:n,localIds:i},o,f){const d=[],m=s.getContext();for(const A of n){const E=A.id,b=Qw(o[E],f);b!==null&&d.push({plugin:A,options:Jw(s.config,{plugin:A,local:i[E]},b,m)})}return d}function Jw(s,{plugin:n,local:i},o,f){const d=s.pluginScopeKeys(n),m=s.getOptionScopes(o,d);return i&&n.defaults&&m.push(n.defaults),s.createResolver(m,f,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $h(s,n){const i=on.datasets[s]||{};return((n.datasets||{})[s]||{}).indexAxis||n.indexAxis||i.indexAxis||"x"}function $w(s,n){let i=s;return s==="_index_"?i=n:s==="_value_"&&(i=n==="x"?"y":"x"),i}function tE(s,n){return s===n?"_index_":"_value_"}function R2(s){if(s==="x"||s==="y"||s==="r")return s}function eE(s){if(s==="top"||s==="bottom")return"x";if(s==="left"||s==="right")return"y"}function td(s,...n){if(R2(s))return s;for(const i of n){const o=i.axis||eE(i.position)||s.length>1&&R2(s[0].toLowerCase());if(o)return o}throw new Error(`Cannot determine type of '${s}' axis. Please provide 'axis' or 'position' option.`)}function L2(s,n,i){if(i[n+"AxisID"]===s)return{axis:n}}function nE(s,n){if(n.data&&n.data.datasets){const i=n.data.datasets.filter(o=>o.xAxisID===s||o.yAxisID===s);if(i.length)return L2(s,"x",i[0])||L2(s,"y",i[0])}return{}}function iE(s,n){const i=hr[s.type]||{scales:{}},o=n.scales||{},f=$h(s.type,n),d=Object.create(null);return Object.keys(o).forEach(m=>{const A=o[m];if(!ge(A))return console.error(`Invalid scale configuration for scale: ${m}`);if(A._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${m}`);const E=td(m,A,nE(m,s),on.scales[A.type]),b=tE(E,f),_=i.scales||{};d[m]=_o(Object.create(null),[{axis:E},A,_[E],_[b]])}),s.data.datasets.forEach(m=>{const A=m.type||s.type,E=m.indexAxis||$h(A,n),_=(hr[A]||{}).scales||{};Object.keys(_).forEach(T=>{const D=$w(T,E),L=m[D+"AxisID"]||D;d[L]=d[L]||Object.create(null),_o(d[L],[{axis:D},o[L],_[T]])})}),Object.keys(d).forEach(m=>{const A=d[m];_o(A,[on.scales[A.type],on.scale])}),d}function om(s){const n=s.options||(s.options={});n.plugins=me(n.plugins,{}),n.scales=iE(s,n)}function cm(s){return s=s||{},s.datasets=s.datasets||[],s.labels=s.labels||[],s}function aE(s){return s=s||{},s.data=cm(s.data),om(s),s}const B2=new Map,um=new Set;function lu(s,n){let i=B2.get(s);return i||(i=n(),B2.set(s,i),um.add(i)),i}const yo=(s,n,i)=>{const o=ll(n,i);o!==void 0&&s.add(o)};class sE{constructor(n){this._config=aE(n),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(n){this._config.type=n}get data(){return this._config.data}set data(n){this._config.data=cm(n)}get options(){return this._config.options}set options(n){this._config.options=n}get plugins(){return this._config.plugins}update(){const n=this._config;this.clearCache(),om(n)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(n){return lu(n,()=>[[`datasets.${n}`,""]])}datasetAnimationScopeKeys(n,i){return lu(`${n}.transition.${i}`,()=>[[`datasets.${n}.transitions.${i}`,`transitions.${i}`],[`datasets.${n}`,""]])}datasetElementScopeKeys(n,i){return lu(`${n}-${i}`,()=>[[`datasets.${n}.elements.${i}`,`datasets.${n}`,`elements.${i}`,""]])}pluginScopeKeys(n){const i=n.id,o=this.type;return lu(`${o}-plugin-${i}`,()=>[[`plugins.${i}`,...n.additionalOptionScopes||[]]])}_cachedScopes(n,i){const o=this._scopeCache;let f=o.get(n);return(!f||i)&&(f=new Map,o.set(n,f)),f}getOptionScopes(n,i,o){const{options:f,type:d}=this,m=this._cachedScopes(n,o),A=m.get(i);if(A)return A;const E=new Set;i.forEach(_=>{n&&(E.add(n),_.forEach(T=>yo(E,n,T))),_.forEach(T=>yo(E,f,T)),_.forEach(T=>yo(E,hr[d]||{},T)),_.forEach(T=>yo(E,on,T)),_.forEach(T=>yo(E,Jh,T))});const b=Array.from(E);return b.length===0&&b.push(Object.create(null)),um.has(i)&&m.set(i,b),b}chartOptionScopes(){const{options:n,type:i}=this;return[n,hr[i]||{},on.datasets[i]||{},{type:i},on,Jh]}resolveNamedOptions(n,i,o,f=[""]){const d={$shared:!0},{resolver:m,subPrefixes:A}=k2(this._resolverCache,n,f);let E=m;if(lE(m,i)){d.$shared=!1,o=Is(o)?o():o;const b=this.createResolver(n,o,A);E=ol(m,o,b)}for(const b of i)d[b]=E[b];return d}createResolver(n,i,o=[""],f){const{resolver:d}=k2(this._resolverCache,n,o);return ge(i)?ol(d,i,void 0,f):d}}function k2(s,n,i){let o=s.get(n);o||(o=new Map,s.set(n,o));const f=i.join();let d=o.get(f);return d||(d={resolver:pd(n,i),subPrefixes:i.filter(A=>!A.toLowerCase().includes("hover"))},o.set(f,d)),d}const rE=s=>ge(s)&&Object.getOwnPropertyNames(s).some(n=>Is(s[n]));function lE(s,n){const{isScriptable:i,isIndexable:o}=Wx(s);for(const f of n){const d=i(f),m=o(f),A=(m||d)&&s[f];if(d&&(Is(A)||rE(A))||m&&En(A))return!0}return!1}var oE="4.5.0";const cE=["top","bottom","left","right","chartArea"];function F2(s,n){return s==="top"||s==="bottom"||cE.indexOf(s)===-1&&n==="x"}function P2(s,n){return function(i,o){return i[s]===o[s]?i[n]-o[n]:i[s]-o[s]}}function U2(s){const n=s.chart,i=n.options.animation;n.notifyPlugins("afterRender"),je(i&&i.onComplete,[s],n)}function uE(s){const n=s.chart,i=n.options.animation;je(i&&i.onProgress,[s],n)}function fm(s){return Ad()&&typeof s=="string"?s=document.getElementById(s):s&&s.length&&(s=s[0]),s&&s.canvas&&(s=s.canvas),s}const gu={},z2=s=>{const n=fm(s);return Object.values(gu).filter(i=>i.canvas===n).pop()};function fE(s,n,i){const o=Object.keys(s);for(const f of o){const d=+f;if(d>=n){const m=s[f];delete s[f],(i>0||d>n)&&(s[d+i]=m)}}}function hE(s,n,i,o){return!i||s.type==="mouseout"?null:o?n:s}let Ou=class{static defaults=on;static instances=gu;static overrides=hr;static registry=ha;static version=oE;static getChart=z2;static register(...n){ha.add(...n),H2()}static unregister(...n){ha.remove(...n),H2()}constructor(n,i){const o=this.config=new sE(i),f=fm(n),d=z2(f);if(d)throw new Error("Canvas is already in use. Chart with ID '"+d.id+"' must be destroyed before the canvas with ID '"+d.canvas.id+"' can be reused.");const m=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||Nw(f)),this.platform.updateConfig(o);const A=this.platform.acquireContext(f,m.aspectRatio),E=A&&A.canvas,b=E&&E.height,_=E&&E.width;if(this.id=T3(),this.ctx=A,this.canvas=E,this.width=_,this.height=b,this._options=m,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Zw,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=W3(T=>this.update(T),m.resizeDelay||0),this._dataChanges=[],gu[this.id]=this,!A||!E){console.error("Failed to create chart: can't acquire context from the given item");return}Pa.listen(this,"complete",U2),Pa.listen(this,"progress",uE),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:n,maintainAspectRatio:i},width:o,height:f,_aspectRatio:d}=this;return ke(n)?i&&d?d:f?o/f:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return ha}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():h2(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return o2(this.canvas,this.ctx),this}stop(){return Pa.stop(this),this}resize(n,i){Pa.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){const o=this.options,f=this.canvas,d=o.maintainAspectRatio&&this.aspectRatio,m=this.platform.getMaximumSize(f,n,i,d),A=o.devicePixelRatio||this.platform.getDevicePixelRatio(),E=this.width?"resize":"attach";this.width=m.width,this.height=m.height,this._aspectRatio=this.aspectRatio,h2(this,A,!0)&&(this.notifyPlugins("resize",{size:m}),je(o.onResize,[this,m],this),this.attached&&this._doResize(E)&&this.render())}ensureScalesHaveIDs(){const i=this.options.scales||{};ve(i,(o,f)=>{o.id=f})}buildOrUpdateScales(){const n=this.options,i=n.scales,o=this.scales,f=Object.keys(o).reduce((m,A)=>(m[A]=!1,m),{});let d=[];i&&(d=d.concat(Object.keys(i).map(m=>{const A=i[m],E=td(m,A),b=E==="r",_=E==="x";return{options:A,dposition:b?"chartArea":_?"bottom":"left",dtype:b?"radialLinear":_?"category":"linear"}}))),ve(d,m=>{const A=m.options,E=A.id,b=td(E,A),_=me(A.type,m.dtype);(A.position===void 0||F2(A.position,b)!==F2(m.dposition))&&(A.position=m.dposition),f[E]=!0;let T=null;if(E in o&&o[E].type===_)T=o[E];else{const D=ha.getScale(_);T=new D({id:E,type:_,ctx:this.ctx,chart:this}),o[T.id]=T}T.init(A,n)}),ve(f,(m,A)=>{m||delete o[A]}),ve(o,m=>{Ni.configure(this,m,m.options),Ni.addBox(this,m)})}_updateMetasets(){const n=this._metasets,i=this.data.datasets.length,o=n.length;if(n.sort((f,d)=>f.index-d.index),o>i){for(let f=i;f<o;++f)this._destroyDatasetMeta(f);n.splice(i,o-i)}this._sortedMetasets=n.slice(0).sort(P2("order","index"))}_removeUnreferencedMetasets(){const{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((o,f)=>{i.filter(d=>d===o._dataset).length===0&&this._destroyDatasetMeta(f)})}buildOrUpdateControllers(){const n=[],i=this.data.datasets;let o,f;for(this._removeUnreferencedMetasets(),o=0,f=i.length;o<f;o++){const d=i[o];let m=this.getDatasetMeta(o);const A=d.type||this.config.type;if(m.type&&m.type!==A&&(this._destroyDatasetMeta(o),m=this.getDatasetMeta(o)),m.type=A,m.indexAxis=d.indexAxis||$h(A,this.options),m.order=d.order||0,m.index=o,m.label=""+d.label,m.visible=this.isDatasetVisible(o),m.controller)m.controller.updateIndex(o),m.controller.linkScales();else{const E=ha.getController(A),{datasetElementType:b,dataElementType:_}=on.datasets[A];Object.assign(E,{dataElementType:ha.getElement(_),datasetElementType:b&&ha.getElement(b)}),m.controller=new E(this,o),n.push(m.controller)}}return this._updateMetasets(),n}_resetElements(){ve(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){const i=this.config;i.update();const o=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),f=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;const d=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let m=0;for(let b=0,_=this.data.datasets.length;b<_;b++){const{controller:T}=this.getDatasetMeta(b),D=!f&&d.indexOf(T)===-1;T.buildOrUpdateElements(D),m=Math.max(+T.getMaxOverflow(),m)}m=this._minPadding=o.layout.autoPadding?m:0,this._updateLayout(m),f||ve(d,b=>{b.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(P2("z","_idx"));const{_active:A,_lastEvent:E}=this;E?this._eventHandler(E,!0):A.length&&this._updateHoverStyles(A,A,!0),this.render()}_updateScales(){ve(this.scales,n=>{Ni.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const n=this.options,i=new Set(Object.keys(this._listeners)),o=new Set(n.events);(!Jg(i,o)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(const{method:o,start:f,count:d}of i){const m=o==="_removeElements"?-d:d;fE(n,f,m)}}_getUniformDataChanges(){const n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];const i=this.data.datasets.length,o=d=>new Set(n.filter(m=>m[0]===d).map((m,A)=>A+","+m.splice(1).join(","))),f=o(0);for(let d=1;d<i;d++)if(!Jg(f,o(d)))return;return Array.from(f).map(d=>d.split(",")).map(d=>({method:d[1],start:+d[2],count:+d[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ni.update(this,this.width,this.height,n);const i=this.chartArea,o=i.width<=0||i.height<=0;this._layers=[],ve(this.boxes,f=>{o&&f.position==="chartArea"||(f.configure&&f.configure(),this._layers.push(...f._layers()))},this),this._layers.forEach((f,d)=>{f._idx=d}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,o=this.data.datasets.length;i<o;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,o=this.data.datasets.length;i<o;++i)this._updateDataset(i,Is(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){const o=this.getDatasetMeta(n),f={meta:o,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",f)!==!1&&(o.controller._update(i),f.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",f))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Pa.has(this)?this.attached&&!Pa.running(this)&&Pa.start(this):(this.draw(),U2({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){const{width:o,height:f}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(o,f)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){const i=this._sortedMetasets,o=[];let f,d;for(f=0,d=i.length;f<d;++f){const m=i[f];(!n||m.visible)&&o.push(m)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){const i=this.ctx,o={meta:n,index:n.index,cancelable:!0},f=DA(this,n);this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(f&&xd(i,f),n.controller.draw(),f&&md(i),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(n){return Yx(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,o,f){const d=cw.modes[i];return typeof d=="function"?d(this,n,o,f):[]}getDatasetMeta(n){const i=this.data.datasets[n],o=this._metasets;let f=o.filter(d=>d&&d._dataset===i).pop();return f||(f={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},o.push(f)),f}getContext(){return this.$context||(this.$context=fl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){const i=this.data.datasets[n];if(!i)return!1;const o=this.getDatasetMeta(n);return typeof o.hidden=="boolean"?!o.hidden:!i.hidden}setDatasetVisibility(n,i){const o=this.getDatasetMeta(n);o.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,o){const f=o?"show":"hide",d=this.getDatasetMeta(n),m=d.controller._resolveAnimations(void 0,f);Io(i)?(d.data[i].hidden=!o,this.update()):(this.setDatasetVisibility(n,o),m.update(d,{visible:o}),this.update(A=>A.datasetIndex===n?f:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){const i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),Pa.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),o2(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete gu[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const n=this._listeners,i=this.platform,o=(d,m)=>{i.addEventListener(this,d,m),n[d]=m},f=(d,m,A)=>{d.offsetX=m,d.offsetY=A,this._eventHandler(d)};ve(this.options.events,d=>o(d,f))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const n=this._responsiveListeners,i=this.platform,o=(E,b)=>{i.addEventListener(this,E,b),n[E]=b},f=(E,b)=>{n[E]&&(i.removeEventListener(this,E,b),delete n[E])},d=(E,b)=>{this.canvas&&this.resize(E,b)};let m;const A=()=>{f("attach",A),this.attached=!0,this.resize(),o("resize",d),o("detach",m)};m=()=>{this.attached=!1,f("resize",d),this._stop(),this._resize(0,0),o("attach",A)},i.isAttached(this.canvas)?A():m()}unbindEvents(){ve(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},ve(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,o){const f=o?"set":"remove";let d,m,A,E;for(i==="dataset"&&(d=this.getDatasetMeta(n[0].datasetIndex),d.controller["_"+f+"DatasetHoverStyle"]()),A=0,E=n.length;A<E;++A){m=n[A];const b=m&&this.getDatasetMeta(m.datasetIndex).controller;b&&b[f+"HoverStyle"](m.element,m.datasetIndex,m.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){const i=this._active||[],o=n.map(({datasetIndex:d,index:m})=>{const A=this.getDatasetMeta(d);if(!A)throw new Error("No dataset found at index "+d);return{datasetIndex:d,element:A.data[m],index:m}});!yu(o,i)&&(this._active=o,this._lastEvent=null,this._updateHoverStyles(o,i))}notifyPlugins(n,i,o){return this._plugins.notify(this,n,i,o)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,o){const f=this.options.hover,d=(E,b)=>E.filter(_=>!b.some(T=>_.datasetIndex===T.datasetIndex&&_.index===T.index)),m=d(i,n),A=o?n:d(n,i);m.length&&this.updateHoverStyle(m,f.mode,!1),A.length&&f.mode&&this.updateHoverStyle(A,f.mode,!0)}_eventHandler(n,i){const o={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},f=m=>(m.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",o,f)===!1)return;const d=this._handleEvent(n,i,o.inChartArea);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,f),(d||o.changed)&&this.render(),this}_handleEvent(n,i,o){const{_active:f=[],options:d}=this,m=i,A=this._getActiveElements(n,f,o,m),E=R3(n),b=hE(n,this._lastEvent,o,E);o&&(this._lastEvent=null,je(d.onHover,[n,A,this],this),E&&je(d.onClick,[n,A,this],this));const _=!yu(A,f);return(_||i)&&(this._active=A,this._updateHoverStyles(A,f,i)),this._lastEvent=b,_}_getActiveElements(n,i,o,f){if(n.type==="mouseout")return[];if(!o)return i;const d=this.options.hover;return this.getElementsAtEventForMode(n,d.mode,d,f)}};function H2(){return ve(Ou.instances,s=>s._plugins.invalidate())}function hm(s,n){const{x:i,y:o,base:f,width:d,height:m}=s.getProps(["x","y","base","width","height"],n);let A,E,b,_,T;return s.horizontal?(T=m/2,A=Math.min(i,f),E=Math.max(i,f),b=o-T,_=o+T):(T=d/2,A=i-T,E=i+T,b=Math.min(o,f),_=Math.max(o,f)),{left:A,top:b,right:E,bottom:_}}function vs(s,n,i,o){return s?0:Vi(n,i,o)}function dE(s,n,i){const o=s.options.borderWidth,f=s.borderSkipped,d=Xx(o);return{t:vs(f.top,d.top,0,i),r:vs(f.right,d.right,0,n),b:vs(f.bottom,d.bottom,0,i),l:vs(f.left,d.left,0,n)}}function gE(s,n,i){const{enableBorderRadius:o}=s.getProps(["enableBorderRadius"]),f=s.options.borderRadius,d=sl(f),m=Math.min(n,i),A=s.borderSkipped,E=o||ge(f);return{topLeft:vs(!E||A.top||A.left,d.topLeft,0,m),topRight:vs(!E||A.top||A.right,d.topRight,0,m),bottomLeft:vs(!E||A.bottom||A.left,d.bottomLeft,0,m),bottomRight:vs(!E||A.bottom||A.right,d.bottomRight,0,m)}}function xE(s){const n=hm(s),i=n.right-n.left,o=n.bottom-n.top,f=dE(s,i/2,o/2),d=gE(s,i/2,o/2);return{outer:{x:n.left,y:n.top,w:i,h:o,radius:d},inner:{x:n.left+f.l,y:n.top+f.t,w:i-f.l-f.r,h:o-f.t-f.b,radius:{topLeft:Math.max(0,d.topLeft-Math.max(f.t,f.l)),topRight:Math.max(0,d.topRight-Math.max(f.t,f.r)),bottomLeft:Math.max(0,d.bottomLeft-Math.max(f.b,f.l)),bottomRight:Math.max(0,d.bottomRight-Math.max(f.b,f.r))}}}}function Gh(s,n,i,o){const f=n===null,d=i===null,A=s&&!(f&&d)&&hm(s,o);return A&&(f||al(n,A.left,A.right))&&(d||al(i,A.top,A.bottom))}function mE(s){return s.topLeft||s.topRight||s.bottomLeft||s.bottomRight}function pE(s,n){s.rect(n.x,n.y,n.w,n.h)}function Xh(s,n,i={}){const o=s.x!==i.x?-n:0,f=s.y!==i.y?-n:0,d=(s.x+s.w!==i.x+i.w?n:0)-o,m=(s.y+s.h!==i.y+i.h?n:0)-f;return{x:s.x+o,y:s.y+f,w:s.w+d,h:s.h+m,radius:s.radius}}class yE extends hl{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,n&&Object.assign(this,n)}draw(n){const{inflateAmount:i,options:{borderColor:o,backgroundColor:f}}=this,{inner:d,outer:m}=xE(this),A=mE(m.radius)?Eu:pE;n.save(),(m.w!==d.w||m.h!==d.h)&&(n.beginPath(),A(n,Xh(m,i,d)),n.clip(),A(n,Xh(d,-i,m)),n.fillStyle=o,n.fill("evenodd")),n.beginPath(),A(n,Xh(d,i)),n.fillStyle=f,n.fill(),n.restore()}inRange(n,i,o){return Gh(this,n,i,o)}inXRange(n,i){return Gh(this,n,null,i)}inYRange(n,i){return Gh(this,null,n,i)}getCenterPoint(n){const{x:i,y:o,base:f,horizontal:d}=this.getProps(["x","y","base","horizontal"],n);return{x:d?(i+f)/2:i,y:d?o:(o+f)/2}}getRange(n){return n==="x"?this.width/2:this.height/2}}const j2=(s,n)=>{let{boxHeight:i=n,boxWidth:o=n}=s;return s.usePointStyle&&(i=Math.min(i,n),o=s.pointStyleWidth||Math.min(o,n)),{boxWidth:o,boxHeight:i,itemHeight:Math.max(n,i)}},bE=(s,n)=>s!==null&&n!==null&&s.datasetIndex===n.datasetIndex&&s.index===n.index;class V2 extends hl{constructor(n){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i,o){this.maxWidth=n,this.maxHeight=i,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const n=this.options.labels||{};let i=je(n.generateLabels,[this.chart],this)||[];n.filter&&(i=i.filter(o=>n.filter(o,this.chart.data))),n.sort&&(i=i.sort((o,f)=>n.sort(o,f,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){const{options:n,ctx:i}=this;if(!n.display){this.width=this.height=0;return}const o=n.labels,f=Gn(o.font),d=f.size,m=this._computeTitleHeight(),{boxWidth:A,itemHeight:E}=j2(o,d);let b,_;i.font=f.string,this.isHorizontal()?(b=this.maxWidth,_=this._fitRows(m,d,A,E)+10):(_=this.maxHeight,b=this._fitCols(m,f,A,E)+10),this.width=Math.min(b,n.maxWidth||this.maxWidth),this.height=Math.min(_,n.maxHeight||this.maxHeight)}_fitRows(n,i,o,f){const{ctx:d,maxWidth:m,options:{labels:{padding:A}}}=this,E=this.legendHitBoxes=[],b=this.lineWidths=[0],_=f+A;let T=n;d.textAlign="left",d.textBaseline="middle";let D=-1,L=-_;return this.legendItems.forEach((H,P)=>{const U=o+i/2+d.measureText(H.text).width;(P===0||b[b.length-1]+U+2*A>m)&&(T+=_,b[b.length-(P>0?0:1)]=0,L+=_,D++),E[P]={left:0,top:L,row:D,width:U,height:f},b[b.length-1]+=U+A}),T}_fitCols(n,i,o,f){const{ctx:d,maxHeight:m,options:{labels:{padding:A}}}=this,E=this.legendHitBoxes=[],b=this.columnSizes=[],_=m-n;let T=A,D=0,L=0,H=0,P=0;return this.legendItems.forEach((U,Z)=>{const{itemWidth:q,itemHeight:at}=AE(o,i,d,U,f);Z>0&&L+at+2*A>_&&(T+=D+A,b.push({width:D,height:L}),H+=D+A,P++,D=L=0),E[Z]={left:H,top:L,col:P,width:q,height:at},D=Math.max(D,q),L+=at+A}),T+=D,b.push({width:D,height:L}),T}adjustHitBoxes(){if(!this.options.display)return;const n=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:o,labels:{padding:f},rtl:d}}=this,m=rl(d,this.left,this.width);if(this.isHorizontal()){let A=0,E=Yn(o,this.left+f,this.right-this.lineWidths[A]);for(const b of i)A!==b.row&&(A=b.row,E=Yn(o,this.left+f,this.right-this.lineWidths[A])),b.top+=this.top+n+f,b.left=m.leftForLtr(m.x(E),b.width),E+=b.width+f}else{let A=0,E=Yn(o,this.top+n+f,this.bottom-this.columnSizes[A].height);for(const b of i)b.col!==A&&(A=b.col,E=Yn(o,this.top+n+f,this.bottom-this.columnSizes[A].height)),b.top=E,b.left+=this.left+f,b.left=m.leftForLtr(m.x(b.left),b.width),E+=b.height+f}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const n=this.ctx;xd(n,this),this._draw(),md(n)}}_draw(){const{options:n,columnSizes:i,lineWidths:o,ctx:f}=this,{align:d,labels:m}=n,A=on.color,E=rl(n.rtl,this.left,this.width),b=Gn(m.font),{padding:_}=m,T=b.size,D=T/2;let L;this.drawTitle(),f.textAlign=E.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.font=b.string;const{boxWidth:H,boxHeight:P,itemHeight:U}=j2(m,T),Z=function(Ct,X,gt){if(isNaN(H)||H<=0||isNaN(P)||P<0)return;f.save();const nt=me(gt.lineWidth,1);if(f.fillStyle=me(gt.fillStyle,A),f.lineCap=me(gt.lineCap,"butt"),f.lineDashOffset=me(gt.lineDashOffset,0),f.lineJoin=me(gt.lineJoin,"miter"),f.lineWidth=nt,f.strokeStyle=me(gt.strokeStyle,A),f.setLineDash(me(gt.lineDash,[])),m.usePointStyle){const Ft={radius:P*Math.SQRT2/2,pointStyle:gt.pointStyle,rotation:gt.rotation,borderWidth:nt},It=E.xPlus(Ct,H/2),_t=X+D;Vx(f,Ft,It,_t,m.pointStyleWidth&&H)}else{const Ft=X+Math.max((T-P)/2,0),It=E.leftForLtr(Ct,H),_t=sl(gt.borderRadius);f.beginPath(),Object.values(_t).some(Ut=>Ut!==0)?Eu(f,{x:It,y:Ft,w:H,h:P,radius:_t}):f.rect(It,Ft,H,P),f.fill(),nt!==0&&f.stroke()}f.restore()},q=function(Ct,X,gt){Do(f,gt.text,Ct,X+U/2,b,{strikethrough:gt.hidden,textAlign:E.textAlign(gt.textAlign)})},at=this.isHorizontal(),mt=this._computeTitleHeight();at?L={x:Yn(d,this.left+_,this.right-o[0]),y:this.top+_+mt,line:0}:L={x:this.left+_,y:Yn(d,this.top+mt+_,this.bottom-i[0].height),line:0},Kx(this.ctx,n.textDirection);const xt=U+_;this.legendItems.forEach((Ct,X)=>{f.strokeStyle=Ct.fontColor,f.fillStyle=Ct.fontColor;const gt=f.measureText(Ct.text).width,nt=E.textAlign(Ct.textAlign||(Ct.textAlign=m.textAlign)),Ft=H+D+gt;let It=L.x,_t=L.y;E.setWidth(this.width),at?X>0&&It+Ft+_>this.right&&(_t=L.y+=xt,L.line++,It=L.x=Yn(d,this.left+_,this.right-o[L.line])):X>0&&_t+xt>this.bottom&&(It=L.x=It+i[L.line].width+_,L.line++,_t=L.y=Yn(d,this.top+mt+_,this.bottom-i[L.line].height));const Ut=E.x(It);if(Z(Ut,_t,Ct),It=Z3(nt,It+H+D,at?It+Ft:this.right,n.rtl),q(E.x(It),_t,Ct),at)L.x+=Ft+_;else if(typeof Ct.text!="string"){const Gt=b.lineHeight;L.y+=dm(Ct,Gt)+_}else L.y+=xt}),Jx(this.ctx,n.textDirection)}drawTitle(){const n=this.options,i=n.title,o=Gn(i.font),f=Di(i.padding);if(!i.display)return;const d=rl(n.rtl,this.left,this.width),m=this.ctx,A=i.position,E=o.size/2,b=f.top+E;let _,T=this.left,D=this.width;if(this.isHorizontal())D=Math.max(...this.lineWidths),_=this.top+b,T=Yn(n.align,T,this.right-D);else{const H=this.columnSizes.reduce((P,U)=>Math.max(P,U.height),0);_=b+Yn(n.align,this.top,this.bottom-H-n.labels.padding-this._computeTitleHeight())}const L=Yn(A,T,T+D);m.textAlign=d.textAlign(gd(A)),m.textBaseline="middle",m.strokeStyle=i.color,m.fillStyle=i.color,m.font=o.string,Do(m,i.text,L,_,o)}_computeTitleHeight(){const n=this.options.title,i=Gn(n.font),o=Di(n.padding);return n.display?i.lineHeight+o.height:0}_getLegendItemAt(n,i){let o,f,d;if(al(n,this.left,this.right)&&al(i,this.top,this.bottom)){for(d=this.legendHitBoxes,o=0;o<d.length;++o)if(f=d[o],al(n,f.left,f.left+f.width)&&al(i,f.top,f.top+f.height))return this.legendItems[o]}return null}handleEvent(n){const i=this.options;if(!SE(n.type,i))return;const o=this._getLegendItemAt(n.x,n.y);if(n.type==="mousemove"||n.type==="mouseout"){const f=this._hoveredItem,d=bE(f,o);f&&!d&&je(i.onLeave,[n,f,this],this),this._hoveredItem=o,o&&!d&&je(i.onHover,[n,o,this],this)}else o&&je(i.onClick,[n,o,this],this)}}function AE(s,n,i,o,f){const d=wE(o,s,n,i),m=EE(f,o,n.lineHeight);return{itemWidth:d,itemHeight:m}}function wE(s,n,i,o){let f=s.text;return f&&typeof f!="string"&&(f=f.reduce((d,m)=>d.length>m.length?d:m)),n+i.size/2+o.measureText(f).width}function EE(s,n,i){let o=s;return typeof n.text!="string"&&(o=dm(n,i)),o}function dm(s,n){const i=s.text?s.text.length:0;return n*i}function SE(s,n){return!!((s==="mousemove"||s==="mouseout")&&(n.onHover||n.onLeave)||n.onClick&&(s==="click"||s==="mouseup"))}var CE={id:"legend",_element:V2,start(s,n,i){const o=s.legend=new V2({ctx:s.ctx,options:i,chart:s});Ni.configure(s,o,i),Ni.addBox(s,o)},stop(s){Ni.removeBox(s,s.legend),delete s.legend},beforeUpdate(s,n,i){const o=s.legend;Ni.configure(s,o,i),o.options=i},afterUpdate(s){const n=s.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent(s,n){n.replay||s.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(s,n,i){const o=n.datasetIndex,f=i.chart;f.isDatasetVisible(o)?(f.hide(o),n.hidden=!0):(f.show(o),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:s=>s.chart.options.color,boxWidth:40,padding:10,generateLabels(s){const n=s.data.datasets,{labels:{usePointStyle:i,pointStyle:o,textAlign:f,color:d,useBorderRadius:m,borderRadius:A}}=s.legend.options;return s._getSortedDatasetMetas().map(E=>{const b=E.controller.getStyle(i?0:void 0),_=Di(b.borderWidth);return{text:n[E.index].label,fillStyle:b.backgroundColor,fontColor:d,hidden:!E.visible,lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:b.borderColor,pointStyle:o||b.pointStyle,rotation:b.rotation,textAlign:f||b.textAlign,borderRadius:m&&(A||b.borderRadius),datasetIndex:E.index}},this)}},title:{color:s=>s.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:s=>!s.startsWith("on"),labels:{_scriptable:s=>!["generateLabels","filter","sort"].includes(s)}}};class gm extends hl{constructor(n){super(),this.chart=n.chart,this.options=n.options,this.ctx=n.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(n,i){const o=this.options;if(this.left=0,this.top=0,!o.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=n,this.height=this.bottom=i;const f=En(o.text)?o.text.length:1;this._padding=Di(o.padding);const d=f*Gn(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=d:this.width=d}isHorizontal(){const n=this.options.position;return n==="top"||n==="bottom"}_drawArgs(n){const{top:i,left:o,bottom:f,right:d,options:m}=this,A=m.align;let E=0,b,_,T;return this.isHorizontal()?(_=Yn(A,o,d),T=i+n,b=d-o):(m.position==="left"?(_=o+n,T=Yn(A,f,i),E=Xn*-.5):(_=d-n,T=Yn(A,i,f),E=Xn*.5),b=f-i),{titleX:_,titleY:T,maxWidth:b,rotation:E}}draw(){const n=this.ctx,i=this.options;if(!i.display)return;const o=Gn(i.font),d=o.lineHeight/2+this._padding.top,{titleX:m,titleY:A,maxWidth:E,rotation:b}=this._drawArgs(d);Do(n,i.text,0,0,o,{color:i.color,maxWidth:E,rotation:b,textAlign:gd(i.align),textBaseline:"middle",translation:[m,A]})}}function _E(s,n){const i=new gm({ctx:s.ctx,options:n,chart:s});Ni.configure(s,i,n),Ni.addBox(s,i),s.titleBlock=i}var vE={id:"title",_element:gm,start(s,n,i){_E(s,i)},stop(s){const n=s.titleBlock;Ni.removeBox(s,n),delete s.titleBlock},beforeUpdate(s,n,i){const o=s.titleBlock;Ni.configure(s,o,i),o.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Co={average(s){if(!s.length)return!1;let n,i,o=new Set,f=0,d=0;for(n=0,i=s.length;n<i;++n){const A=s[n].element;if(A&&A.hasValue()){const E=A.tooltipPosition();o.add(E.x),f+=E.y,++d}}return d===0||o.size===0?!1:{x:[...o].reduce((A,E)=>A+E)/o.size,y:f/d}},nearest(s,n){if(!s.length)return!1;let i=n.x,o=n.y,f=Number.POSITIVE_INFINITY,d,m,A;for(d=0,m=s.length;d<m;++d){const E=s[d].element;if(E&&E.hasValue()){const b=E.getCenterPoint(),_=H3(n,b);_<f&&(f=_,A=E)}}if(A){const E=A.tooltipPosition();i=E.x,o=E.y}return{x:i,y:o}}};function ua(s,n){return n&&(En(n)?Array.prototype.push.apply(s,n):s.push(n)),s}function Ua(s){return(typeof s=="string"||s instanceof String)&&s.indexOf(`
`)>-1?s.split(`
`):s}function TE(s,n){const{element:i,datasetIndex:o,index:f}=n,d=s.getDatasetMeta(o).controller,{label:m,value:A}=d.getLabelAndValue(f);return{chart:s,label:m,parsed:d.getParsed(f),raw:s.data.datasets[o].data[f],formattedValue:A,dataset:d.getDataset(),dataIndex:f,datasetIndex:o,element:i}}function Y2(s,n){const i=s.chart.ctx,{body:o,footer:f,title:d}=s,{boxWidth:m,boxHeight:A}=n,E=Gn(n.bodyFont),b=Gn(n.titleFont),_=Gn(n.footerFont),T=d.length,D=f.length,L=o.length,H=Di(n.padding);let P=H.height,U=0,Z=o.reduce((mt,xt)=>mt+xt.before.length+xt.lines.length+xt.after.length,0);if(Z+=s.beforeBody.length+s.afterBody.length,T&&(P+=T*b.lineHeight+(T-1)*n.titleSpacing+n.titleMarginBottom),Z){const mt=n.displayColors?Math.max(A,E.lineHeight):E.lineHeight;P+=L*mt+(Z-L)*E.lineHeight+(Z-1)*n.bodySpacing}D&&(P+=n.footerMarginTop+D*_.lineHeight+(D-1)*n.footerSpacing);let q=0;const at=function(mt){U=Math.max(U,i.measureText(mt).width+q)};return i.save(),i.font=b.string,ve(s.title,at),i.font=E.string,ve(s.beforeBody.concat(s.afterBody),at),q=n.displayColors?m+2+n.boxPadding:0,ve(o,mt=>{ve(mt.before,at),ve(mt.lines,at),ve(mt.after,at)}),q=0,i.font=_.string,ve(s.footer,at),i.restore(),U+=H.width,{width:U,height:P}}function ME(s,n){const{y:i,height:o}=n;return i<o/2?"top":i>s.height-o/2?"bottom":"center"}function OE(s,n,i,o){const{x:f,width:d}=o,m=i.caretSize+i.caretPadding;if(s==="left"&&f+d+m>n.width||s==="right"&&f-d-m<0)return!0}function NE(s,n,i,o){const{x:f,width:d}=i,{width:m,chartArea:{left:A,right:E}}=s;let b="center";return o==="center"?b=f<=(A+E)/2?"left":"right":f<=d/2?b="left":f>=m-d/2&&(b="right"),OE(b,s,n,i)&&(b="center"),b}function G2(s,n,i){const o=i.yAlign||n.yAlign||ME(s,i);return{xAlign:i.xAlign||n.xAlign||NE(s,n,i,o),yAlign:o}}function IE(s,n){let{x:i,width:o}=s;return n==="right"?i-=o:n==="center"&&(i-=o/2),i}function DE(s,n,i){let{y:o,height:f}=s;return n==="top"?o+=i:n==="bottom"?o-=f+i:o-=f/2,o}function X2(s,n,i,o){const{caretSize:f,caretPadding:d,cornerRadius:m}=s,{xAlign:A,yAlign:E}=i,b=f+d,{topLeft:_,topRight:T,bottomLeft:D,bottomRight:L}=sl(m);let H=IE(n,A);const P=DE(n,E,b);return E==="center"?A==="left"?H+=b:A==="right"&&(H-=b):A==="left"?H-=Math.max(_,D)+f:A==="right"&&(H+=Math.max(T,L)+f),{x:Vi(H,0,o.width-n.width),y:Vi(P,0,o.height-n.height)}}function ou(s,n,i){const o=Di(i.padding);return n==="center"?s.x+s.width/2:n==="right"?s.x+s.width-o.right:s.x+o.left}function W2(s){return ua([],Ua(s))}function RE(s,n,i){return fl(s,{tooltip:n,tooltipItems:i,type:"tooltip"})}function Z2(s,n){const i=n&&n.dataset&&n.dataset.tooltip&&n.dataset.tooltip.callbacks;return i?s.override(i):s}const xm={beforeTitle:Fa,title(s){if(s.length>0){const n=s[0],i=n.chart.data.labels,o=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return n.dataset.label||"";if(n.label)return n.label;if(o>0&&n.dataIndex<o)return i[n.dataIndex]}return""},afterTitle:Fa,beforeBody:Fa,beforeLabel:Fa,label(s){if(this&&this.options&&this.options.mode==="dataset")return s.label+": "+s.formattedValue||s.formattedValue;let n=s.dataset.label||"";n&&(n+=": ");const i=s.formattedValue;return ke(i)||(n+=i),n},labelColor(s){const i=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(s){const i=s.chart.getDatasetMeta(s.datasetIndex).controller.getStyle(s.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Fa,afterBody:Fa,beforeFooter:Fa,footer:Fa,afterFooter:Fa};function ai(s,n,i,o){const f=s[n].call(i,o);return typeof f>"u"?xm[n].call(i,o):f}class q2 extends hl{static positioners=Co;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const n=this._cachedAnimations;if(n)return n;const i=this.chart,o=this.options.setContext(this.getContext()),f=o.enabled&&i.options.animation&&o.animations,d=new $x(this.chart,f);return f._cacheable&&(this._cachedAnimations=Object.freeze(d)),d}getContext(){return this.$context||(this.$context=RE(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){const{callbacks:o}=i,f=ai(o,"beforeTitle",this,n),d=ai(o,"title",this,n),m=ai(o,"afterTitle",this,n);let A=[];return A=ua(A,Ua(f)),A=ua(A,Ua(d)),A=ua(A,Ua(m)),A}getBeforeBody(n,i){return W2(ai(i.callbacks,"beforeBody",this,n))}getBody(n,i){const{callbacks:o}=i,f=[];return ve(n,d=>{const m={before:[],lines:[],after:[]},A=Z2(o,d);ua(m.before,Ua(ai(A,"beforeLabel",this,d))),ua(m.lines,ai(A,"label",this,d)),ua(m.after,Ua(ai(A,"afterLabel",this,d))),f.push(m)}),f}getAfterBody(n,i){return W2(ai(i.callbacks,"afterBody",this,n))}getFooter(n,i){const{callbacks:o}=i,f=ai(o,"beforeFooter",this,n),d=ai(o,"footer",this,n),m=ai(o,"afterFooter",this,n);let A=[];return A=ua(A,Ua(f)),A=ua(A,Ua(d)),A=ua(A,Ua(m)),A}_createItems(n){const i=this._active,o=this.chart.data,f=[],d=[],m=[];let A=[],E,b;for(E=0,b=i.length;E<b;++E)A.push(TE(this.chart,i[E]));return n.filter&&(A=A.filter((_,T,D)=>n.filter(_,T,D,o))),n.itemSort&&(A=A.sort((_,T)=>n.itemSort(_,T,o))),ve(A,_=>{const T=Z2(n.callbacks,_);f.push(ai(T,"labelColor",this,_)),d.push(ai(T,"labelPointStyle",this,_)),m.push(ai(T,"labelTextColor",this,_))}),this.labelColors=f,this.labelPointStyles=d,this.labelTextColors=m,this.dataPoints=A,A}update(n,i){const o=this.options.setContext(this.getContext()),f=this._active;let d,m=[];if(!f.length)this.opacity!==0&&(d={opacity:0});else{const A=Co[o.position].call(this,f,this._eventPosition);m=this._createItems(o),this.title=this.getTitle(m,o),this.beforeBody=this.getBeforeBody(m,o),this.body=this.getBody(m,o),this.afterBody=this.getAfterBody(m,o),this.footer=this.getFooter(m,o);const E=this._size=Y2(this,o),b=Object.assign({},A,E),_=G2(this.chart,o,b),T=X2(o,b,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,d={opacity:1,x:T.x,y:T.y,width:E.width,height:E.height,caretX:A.x,caretY:A.y}}this._tooltipItems=m,this.$context=void 0,d&&this._resolveAnimations().update(this,d),n&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,o,f){const d=this.getCaretPosition(n,o,f);i.lineTo(d.x1,d.y1),i.lineTo(d.x2,d.y2),i.lineTo(d.x3,d.y3)}getCaretPosition(n,i,o){const{xAlign:f,yAlign:d}=this,{caretSize:m,cornerRadius:A}=o,{topLeft:E,topRight:b,bottomLeft:_,bottomRight:T}=sl(A),{x:D,y:L}=n,{width:H,height:P}=i;let U,Z,q,at,mt,xt;return d==="center"?(mt=L+P/2,f==="left"?(U=D,Z=U-m,at=mt+m,xt=mt-m):(U=D+H,Z=U+m,at=mt-m,xt=mt+m),q=U):(f==="left"?Z=D+Math.max(E,_)+m:f==="right"?Z=D+H-Math.max(b,T)-m:Z=this.caretX,d==="top"?(at=L,mt=at-m,U=Z-m,q=Z+m):(at=L+P,mt=at+m,U=Z+m,q=Z-m),xt=at),{x1:U,x2:Z,x3:q,y1:at,y2:mt,y3:xt}}drawTitle(n,i,o){const f=this.title,d=f.length;let m,A,E;if(d){const b=rl(o.rtl,this.x,this.width);for(n.x=ou(this,o.titleAlign,o),i.textAlign=b.textAlign(o.titleAlign),i.textBaseline="middle",m=Gn(o.titleFont),A=o.titleSpacing,i.fillStyle=o.titleColor,i.font=m.string,E=0;E<d;++E)i.fillText(f[E],b.x(n.x),n.y+m.lineHeight/2),n.y+=m.lineHeight+A,E+1===d&&(n.y+=o.titleMarginBottom-A)}}_drawColorBox(n,i,o,f,d){const m=this.labelColors[o],A=this.labelPointStyles[o],{boxHeight:E,boxWidth:b}=d,_=Gn(d.bodyFont),T=ou(this,"left",d),D=f.x(T),L=E<_.lineHeight?(_.lineHeight-E)/2:0,H=i.y+L;if(d.usePointStyle){const P={radius:Math.min(b,E)/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:1},U=f.leftForLtr(D,b)+b/2,Z=H+E/2;n.strokeStyle=d.multiKeyBackground,n.fillStyle=d.multiKeyBackground,c2(n,P,U,Z),n.strokeStyle=m.borderColor,n.fillStyle=m.backgroundColor,c2(n,P,U,Z)}else{n.lineWidth=ge(m.borderWidth)?Math.max(...Object.values(m.borderWidth)):m.borderWidth||1,n.strokeStyle=m.borderColor,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset||0;const P=f.leftForLtr(D,b),U=f.leftForLtr(f.xPlus(D,1),b-2),Z=sl(m.borderRadius);Object.values(Z).some(q=>q!==0)?(n.beginPath(),n.fillStyle=d.multiKeyBackground,Eu(n,{x:P,y:H,w:b,h:E,radius:Z}),n.fill(),n.stroke(),n.fillStyle=m.backgroundColor,n.beginPath(),Eu(n,{x:U,y:H+1,w:b-2,h:E-2,radius:Z}),n.fill()):(n.fillStyle=d.multiKeyBackground,n.fillRect(P,H,b,E),n.strokeRect(P,H,b,E),n.fillStyle=m.backgroundColor,n.fillRect(U,H+1,b-2,E-2))}n.fillStyle=this.labelTextColors[o]}drawBody(n,i,o){const{body:f}=this,{bodySpacing:d,bodyAlign:m,displayColors:A,boxHeight:E,boxWidth:b,boxPadding:_}=o,T=Gn(o.bodyFont);let D=T.lineHeight,L=0;const H=rl(o.rtl,this.x,this.width),P=function(gt){i.fillText(gt,H.x(n.x+L),n.y+D/2),n.y+=D+d},U=H.textAlign(m);let Z,q,at,mt,xt,Ct,X;for(i.textAlign=m,i.textBaseline="middle",i.font=T.string,n.x=ou(this,U,o),i.fillStyle=o.bodyColor,ve(this.beforeBody,P),L=A&&U!=="right"?m==="center"?b/2+_:b+2+_:0,mt=0,Ct=f.length;mt<Ct;++mt){for(Z=f[mt],q=this.labelTextColors[mt],i.fillStyle=q,ve(Z.before,P),at=Z.lines,A&&at.length&&(this._drawColorBox(i,n,mt,H,o),D=Math.max(T.lineHeight,E)),xt=0,X=at.length;xt<X;++xt)P(at[xt]),D=T.lineHeight;ve(Z.after,P)}L=0,D=T.lineHeight,ve(this.afterBody,P),n.y-=d}drawFooter(n,i,o){const f=this.footer,d=f.length;let m,A;if(d){const E=rl(o.rtl,this.x,this.width);for(n.x=ou(this,o.footerAlign,o),n.y+=o.footerMarginTop,i.textAlign=E.textAlign(o.footerAlign),i.textBaseline="middle",m=Gn(o.footerFont),i.fillStyle=o.footerColor,i.font=m.string,A=0;A<d;++A)i.fillText(f[A],E.x(n.x),n.y+m.lineHeight/2),n.y+=m.lineHeight+o.footerSpacing}}drawBackground(n,i,o,f){const{xAlign:d,yAlign:m}=this,{x:A,y:E}=n,{width:b,height:_}=o,{topLeft:T,topRight:D,bottomLeft:L,bottomRight:H}=sl(f.cornerRadius);i.fillStyle=f.backgroundColor,i.strokeStyle=f.borderColor,i.lineWidth=f.borderWidth,i.beginPath(),i.moveTo(A+T,E),m==="top"&&this.drawCaret(n,i,o,f),i.lineTo(A+b-D,E),i.quadraticCurveTo(A+b,E,A+b,E+D),m==="center"&&d==="right"&&this.drawCaret(n,i,o,f),i.lineTo(A+b,E+_-H),i.quadraticCurveTo(A+b,E+_,A+b-H,E+_),m==="bottom"&&this.drawCaret(n,i,o,f),i.lineTo(A+L,E+_),i.quadraticCurveTo(A,E+_,A,E+_-L),m==="center"&&d==="left"&&this.drawCaret(n,i,o,f),i.lineTo(A,E+T),i.quadraticCurveTo(A,E,A+T,E),i.closePath(),i.fill(),f.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){const i=this.chart,o=this.$animations,f=o&&o.x,d=o&&o.y;if(f||d){const m=Co[n.position].call(this,this._active,this._eventPosition);if(!m)return;const A=this._size=Y2(this,n),E=Object.assign({},m,this._size),b=G2(i,n,E),_=X2(n,E,b,i);(f._to!==_.x||d._to!==_.y)&&(this.xAlign=b.xAlign,this.yAlign=b.yAlign,this.width=A.width,this.height=A.height,this.caretX=m.x,this.caretY=m.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(n){const i=this.options.setContext(this.getContext());let o=this.opacity;if(!o)return;this._updateAnimationTarget(i);const f={width:this.width,height:this.height},d={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;const m=Di(i.padding),A=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&A&&(n.save(),n.globalAlpha=o,this.drawBackground(d,n,f,i),Kx(n,i.textDirection),d.y+=m.top,this.drawTitle(d,n,i),this.drawBody(d,n,i),this.drawFooter(d,n,i),Jx(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){const o=this._active,f=n.map(({datasetIndex:A,index:E})=>{const b=this.chart.getDatasetMeta(A);if(!b)throw new Error("Cannot find a dataset at index "+A);return{datasetIndex:A,element:b.data[E],index:E}}),d=!yu(o,f),m=this._positionChanged(f,i);(d||m)&&(this._active=f,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,o=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const f=this.options,d=this._active||[],m=this._getActiveElements(n,d,i,o),A=this._positionChanged(m,n),E=i||!yu(m,d)||A;return E&&(this._active=m,(f.enabled||f.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),E}_getActiveElements(n,i,o,f){const d=this.options;if(n.type==="mouseout")return[];if(!f)return i.filter(A=>this.chart.data.datasets[A.datasetIndex]&&this.chart.getDatasetMeta(A.datasetIndex).controller.getParsed(A.index)!==void 0);const m=this.chart.getElementsAtEventForMode(n,d.mode,d,o);return d.reverse&&m.reverse(),m}_positionChanged(n,i){const{caretX:o,caretY:f,options:d}=this,m=Co[d.position].call(this,n,i);return m!==!1&&(o!==m.x||f!==m.y)}}var LE={id:"tooltip",_element:q2,positioners:Co,afterInit(s,n,i){i&&(s.tooltip=new q2({chart:s,options:i}))},beforeUpdate(s,n,i){s.tooltip&&s.tooltip.initialize(i)},reset(s,n,i){s.tooltip&&s.tooltip.initialize(i)},afterDraw(s){const n=s.tooltip;if(n&&n._willRender()){const i={tooltip:n};if(s.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0})===!1)return;n.draw(s.ctx),s.notifyPlugins("afterTooltipDraw",i)}},afterEvent(s,n){if(s.tooltip){const i=n.replay;s.tooltip.handleEvent(n.event,i,n.inChartArea)&&(n.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(s,n)=>n.bodyFont.size,boxWidth:(s,n)=>n.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:s=>s!=="filter"&&s!=="itemSort"&&s!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const BE=(s,n,i,o)=>(typeof n=="string"?(i=s.push(n)-1,o.unshift({index:i,label:n})):isNaN(n)&&(i=null),i);function kE(s,n,i,o){const f=s.indexOf(n);if(f===-1)return BE(s,n,i,o);const d=s.lastIndexOf(n);return f!==d?i:f}const FE=(s,n)=>s===null?null:Vi(Math.round(s),0,n);function Q2(s){const n=this.getLabels();return s>=0&&s<n.length?n[s]:s}class PE extends dl{static id="category";static defaults={ticks:{callback:Q2}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){const i=this._addedLabels;if(i.length){const o=this.getLabels();for(const{index:f,label:d}of i)o[f]===d&&o.splice(f,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(ke(n))return null;const o=this.getLabels();return i=isFinite(i)&&o[i]===n?i:kE(o,n,me(i,n),this._addedLabels),FE(i,o.length-1)}determineDataLimits(){const{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:o,max:f}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(o=0),i||(f=this.getLabels().length-1)),this.min=o,this.max=f}buildTicks(){const n=this.min,i=this.max,o=this.options.offset,f=[];let d=this.getLabels();d=n===0&&i===d.length-1?d:d.slice(n,i+1),this._valueRange=Math.max(d.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let m=n;m<=i;m++)f.push({value:m});return f}getLabelForValue(n){return Q2.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){const i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}function UE(s,n){const i=[],{bounds:f,step:d,min:m,max:A,precision:E,count:b,maxTicks:_,maxDigits:T,includeBounds:D}=s,L=d||1,H=_-1,{min:P,max:U}=n,Z=!ke(m),q=!ke(A),at=!ke(b),mt=(U-P)/(T+1);let xt=t2((U-P)/H/L)*L,Ct,X,gt,nt;if(xt<1e-14&&!Z&&!q)return[{value:P},{value:U}];nt=Math.ceil(U/xt)-Math.floor(P/xt),nt>H&&(xt=t2(nt*xt/H/L)*L),ke(E)||(Ct=Math.pow(10,E),xt=Math.ceil(xt*Ct)/Ct),f==="ticks"?(X=Math.floor(P/xt)*xt,gt=Math.ceil(U/xt)*xt):(X=P,gt=U),Z&&q&&d&&F3((A-m)/d,xt/1e3)?(nt=Math.round(Math.min((A-m)/xt,_)),xt=(A-m)/nt,X=m,gt=A):at?(X=Z?m:X,gt=q?A:gt,nt=b-1,xt=(gt-X)/nt):(nt=(gt-X)/xt,hu(nt,Math.round(nt),xt/1e3)?nt=Math.round(nt):nt=Math.ceil(nt));const Ft=Math.max(e2(xt),e2(X));Ct=Math.pow(10,ke(E)?Ft:E),X=Math.round(X*Ct)/Ct,gt=Math.round(gt*Ct)/Ct;let It=0;for(Z&&(D&&X!==m?(i.push({value:m}),X<m&&It++,hu(Math.round((X+It*xt)*Ct)/Ct,m,K2(m,mt,s))&&It++):X<m&&It++);It<nt;++It){const _t=Math.round((X+It*xt)*Ct)/Ct;if(q&&_t>A)break;i.push({value:_t})}return q&&D&&gt!==A?i.length&&hu(i[i.length-1].value,A,K2(A,mt,s))?i[i.length-1].value=A:i.push({value:A}):(!q||gt===A)&&i.push({value:gt}),i}function K2(s,n,{horizontal:i,minRotation:o}){const f=ur(o),d=(i?Math.sin(f):Math.cos(f))||.001,m=.75*n*(""+s).length;return Math.min(n/d,m)}class zE extends dl{constructor(n){super(n),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(n,i){return ke(n)||(typeof n=="number"||n instanceof Number)&&!isFinite(+n)?null:+n}handleTickRangeOptions(){const{beginAtZero:n}=this.options,{minDefined:i,maxDefined:o}=this.getUserBounds();let{min:f,max:d}=this;const m=E=>f=i?f:E,A=E=>d=o?d:E;if(n){const E=Os(f),b=Os(d);E<0&&b<0?A(0):E>0&&b>0&&m(0)}if(f===d){let E=d===0?1:Math.abs(d*.05);A(d+E),n||m(f-E)}this.min=f,this.max=d}getTickLimit(){const n=this.options.ticks;let{maxTicksLimit:i,stepSize:o}=n,f;return o?(f=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,f>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${f} ticks. Limiting to 1000.`),f=1e3)):(f=this.computeTickLimit(),i=i||11),i&&(f=Math.min(i,f)),f}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const n=this.options,i=n.ticks;let o=this.getTickLimit();o=Math.max(2,o);const f={maxTicks:o,bounds:n.bounds,min:n.min,max:n.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},d=this._range||this,m=UE(f,d);return n.bounds==="ticks"&&P3(m,this,"value"),n.reverse?(m.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),m}configure(){const n=this.ticks;let i=this.min,o=this.max;if(super.configure(),this.options.offset&&n.length){const f=(o-i)/Math.max(n.length-1,1)/2;i-=f,o+=f}this._startValue=i,this._endValue=o,this._valueRange=o-i}getLabelForValue(n){return Hx(n,this.chart.options.locale,this.options.ticks.format)}}class HE extends zE{static id="linear";static defaults={ticks:{callback:jx.formatters.numeric}};determineDataLimits(){const{min:n,max:i}=this.getMinMax(!0);this.min=Ii(n)?n:0,this.max=Ii(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){const n=this.isHorizontal(),i=n?this.width:this.height,o=ur(this.options.ticks.minRotation),f=(n?Math.sin(o):Math.cos(o))||.001,d=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,d.lineHeight/f))}getPixelForValue(n){return n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getValueForPixel(n){return this._startValue+this.getDecimalForPixel(n)*this._valueRange}}const Nu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},si=Object.keys(Nu);function J2(s,n){return s-n}function $2(s,n){if(ke(n))return null;const i=s._adapter,{parser:o,round:f,isoWeekday:d}=s._parseOpts;let m=n;return typeof o=="function"&&(m=o(m)),Ii(m)||(m=typeof o=="string"?i.parse(m,o):i.parse(m)),m===null?null:(f&&(m=f==="week"&&(wu(d)||d===!0)?i.startOf(m,"isoWeek",d):i.startOf(m,f)),+m)}function tx(s,n,i,o){const f=si.length;for(let d=si.indexOf(s);d<f-1;++d){const m=Nu[si[d]],A=m.steps?m.steps:Number.MAX_SAFE_INTEGER;if(m.common&&Math.ceil((i-n)/(A*m.size))<=o)return si[d]}return si[f-1]}function jE(s,n,i,o,f){for(let d=si.length-1;d>=si.indexOf(i);d--){const m=si[d];if(Nu[m].common&&s._adapter.diff(f,o,m)>=n-1)return m}return si[i?si.indexOf(i):0]}function VE(s){for(let n=si.indexOf(s)+1,i=si.length;n<i;++n)if(Nu[si[n]].common)return si[n]}function ex(s,n,i){if(!i)s[n]=!0;else if(i.length){const{lo:o,hi:f}=dd(i,n),d=i[o]>=n?i[o]:i[f];s[d]=!0}}function YE(s,n,i,o){const f=s._adapter,d=+f.startOf(n[0].value,o),m=n[n.length-1].value;let A,E;for(A=d;A<=m;A=+f.add(A,1,o))E=i[A],E>=0&&(n[E].major=!0);return n}function nx(s,n,i){const o=[],f={},d=n.length;let m,A;for(m=0;m<d;++m)A=n[m],f[A]=m,o.push({value:A,major:!1});return d===0||!i?o:YE(s,o,f,i)}class ix extends dl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){const o=n.time||(n.time={}),f=this._adapter=new aw._date(n.adapters.date);f.init(i),_o(o.displayFormats,f.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:$2(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const n=this.options,i=this._adapter,o=n.time.unit||"day";let{min:f,max:d,minDefined:m,maxDefined:A}=this.getUserBounds();function E(b){!m&&!isNaN(b.min)&&(f=Math.min(f,b.min)),!A&&!isNaN(b.max)&&(d=Math.max(d,b.max))}(!m||!A)&&(E(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&E(this.getMinMax(!1))),f=Ii(f)&&!isNaN(f)?f:+i.startOf(Date.now(),o),d=Ii(d)&&!isNaN(d)?d:+i.endOf(Date.now(),o)+1,this.min=Math.min(f,d-1),this.max=Math.max(f+1,d)}_getLabelBounds(){const n=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],o=n[n.length-1]),{min:i,max:o}}buildTicks(){const n=this.options,i=n.time,o=n.ticks,f=o.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&f.length&&(this.min=this._userMin||f[0],this.max=this._userMax||f[f.length-1]);const d=this.min,m=this.max,A=G3(f,d,m);return this._unit=i.unit||(o.autoSkip?tx(i.minUnit,this.min,this.max,this._getLabelCapacity(d)):jE(this,A.length,i.minUnit,this.min,this.max)),this._majorUnit=!o.major.enabled||this._unit==="year"?void 0:VE(this._unit),this.initOffsets(f),n.reverse&&A.reverse(),nx(this,A,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,o=0,f,d;this.options.offset&&n.length&&(f=this.getDecimalForValue(n[0]),n.length===1?i=1-f:i=(this.getDecimalForValue(n[1])-f)/2,d=this.getDecimalForValue(n[n.length-1]),n.length===1?o=d:o=(d-this.getDecimalForValue(n[n.length-2]))/2);const m=n.length<3?.5:.25;i=Vi(i,0,m),o=Vi(o,0,m),this._offsets={start:i,end:o,factor:1/(i+1+o)}}_generate(){const n=this._adapter,i=this.min,o=this.max,f=this.options,d=f.time,m=d.unit||tx(d.minUnit,i,o,this._getLabelCapacity(i)),A=me(f.ticks.stepSize,1),E=m==="week"?d.isoWeekday:!1,b=wu(E)||E===!0,_={};let T=i,D,L;if(b&&(T=+n.startOf(T,"isoWeek",E)),T=+n.startOf(T,b?"day":m),n.diff(o,i,m)>1e5*A)throw new Error(i+" and "+o+" are too far apart with stepSize of "+A+" "+m);const H=f.ticks.source==="data"&&this.getDataTimestamps();for(D=T,L=0;D<o;D=+n.add(D,A,m),L++)ex(_,D,H);return(D===o||f.bounds==="ticks"||L===1)&&ex(_,D,H),Object.keys(_).sort(J2).map(P=>+P)}getLabelForValue(n){const i=this._adapter,o=this.options.time;return o.tooltipFormat?i.format(n,o.tooltipFormat):i.format(n,o.displayFormats.datetime)}format(n,i){const f=this.options.time.displayFormats,d=this._unit,m=i||f[d];return this._adapter.format(n,m)}_tickFormatFunction(n,i,o,f){const d=this.options,m=d.ticks.callback;if(m)return je(m,[n,i,o],this);const A=d.time.displayFormats,E=this._unit,b=this._majorUnit,_=E&&A[E],T=b&&A[b],D=o[i],L=b&&T&&D&&D.major;return this._adapter.format(n,f||(L?T:_))}generateTickLabels(n){let i,o,f;for(i=0,o=n.length;i<o;++i)f=n[i],f.label=this._tickFormatFunction(f.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){const i=this._offsets,o=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+o)*i.factor)}getValueForPixel(n){const i=this._offsets,o=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+o*(this.max-this.min)}_getLabelSize(n){const i=this.options.ticks,o=this.ctx.measureText(n).width,f=ur(this.isHorizontal()?i.maxRotation:i.minRotation),d=Math.cos(f),m=Math.sin(f),A=this._resolveTickFontOptions(0).size;return{w:o*d+A*m,h:o*m+A*d}}_getLabelCapacity(n){const i=this.options.time,o=i.displayFormats,f=o[i.unit]||o.millisecond,d=this._tickFormatFunction(n,0,nx(this,[n],this._majorUnit),f),m=this._getLabelSize(d),A=Math.floor(this.isHorizontal()?this.width/m.w:this.height/m.h)-1;return A>0?A:1}getDataTimestamps(){let n=this._cache.data||[],i,o;if(n.length)return n;const f=this.getMatchingVisibleMetas();if(this._normalized&&f.length)return this._cache.data=f[0].controller.getAllParsedValues(this);for(i=0,o=f.length;i<o;++i)n=n.concat(f[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const n=this._cache.labels||[];let i,o;if(n.length)return n;const f=this.getLabels();for(i=0,o=f.length;i<o;++i)n.push($2(this,f[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return Fx(n.sort(J2))}}function cu(s,n,i){let o=0,f=s.length-1,d,m,A,E;i?(n>=s[o].pos&&n<=s[f].pos&&({lo:o,hi:f}=Kh(s,"pos",n)),{pos:d,time:A}=s[o],{pos:m,time:E}=s[f]):(n>=s[o].time&&n<=s[f].time&&({lo:o,hi:f}=Kh(s,"time",n)),{time:d,pos:A}=s[o],{time:m,pos:E}=s[f]);const b=m-d;return b?A+(E-A)*(n-d)/b:A}class tS extends ix{static id="timeseries";static defaults=ix.defaults;constructor(n){super(n),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const n=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(n);this._minPos=cu(i,this.min),this._tableRange=cu(i,this.max)-this._minPos,super.initOffsets(n)}buildLookupTable(n){const{min:i,max:o}=this,f=[],d=[];let m,A,E,b,_;for(m=0,A=n.length;m<A;++m)b=n[m],b>=i&&b<=o&&f.push(b);if(f.length<2)return[{time:i,pos:0},{time:o,pos:1}];for(m=0,A=f.length;m<A;++m)_=f[m+1],E=f[m-1],b=f[m],Math.round((_+E)/2)!==b&&d.push({time:b,pos:m/(A-1)});return d}_generate(){const n=this.min,i=this.max;let o=super.getDataTimestamps();return(!o.includes(n)||!o.length)&&o.splice(0,0,n),(!o.includes(i)||o.length===1)&&o.push(i),o.sort((f,d)=>f-d)}_getTimestampsForTable(){let n=this._cache.all||[];if(n.length)return n;const i=this.getDataTimestamps(),o=this.getLabelTimestamps();return i.length&&o.length?n=this.normalize(i.concat(o)):n=i.length?i:o,n=this._cache.all=n,n}getDecimalForValue(n){return(cu(this._table,n)-this._minPos)/this._tableRange}getValueForPixel(n){const i=this._offsets,o=this.getDecimalForPixel(n)/i.factor-i.end;return cu(this._table,o*this._tableRange+this._minPos,!0)}}const mm="label";function ax(s,n){typeof s=="function"?s(n):s&&(s.current=n)}function GE(s,n){const i=s.options;i&&n&&Object.assign(i,n)}function pm(s,n){s.labels=n}function ym(s,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mm;const o=[];s.datasets=n.map(f=>{const d=s.datasets.find(m=>m[i]===f[i]);return!d||!f.data||o.includes(d)?{...f}:(o.push(d),Object.assign(d,f),d)})}function XE(s){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mm;const i={labels:[],datasets:[]};return pm(i,s.labels),ym(i,s.datasets,n),i}function WE(s,n){const{height:i=150,width:o=300,redraw:f=!1,datasetIdKey:d,type:m,data:A,options:E,plugins:b=[],fallbackContent:_,updateMode:T,...D}=s,L=it.useRef(null),H=it.useRef(null),P=()=>{L.current&&(H.current=new Ou(L.current,{type:m,data:XE(A,d),options:E&&{...E},plugins:b}),ax(n,H.current))},U=()=>{ax(n,null),H.current&&(H.current.destroy(),H.current=null)};return it.useEffect(()=>{!f&&H.current&&E&&GE(H.current,E)},[f,E]),it.useEffect(()=>{!f&&H.current&&pm(H.current.config.data,A.labels)},[f,A.labels]),it.useEffect(()=>{!f&&H.current&&A.datasets&&ym(H.current.config.data,A.datasets,d)},[f,A.datasets]),it.useEffect(()=>{H.current&&(f?(U(),setTimeout(P)):H.current.update(T))},[f,E,A.labels,A.datasets,T]),it.useEffect(()=>{H.current&&(U(),setTimeout(P))},[m]),it.useEffect(()=>(P(),()=>U()),[]),rx.createElement("canvas",{ref:L,role:"img",height:i,width:o,...D},_)}const ZE=it.forwardRef(WE);function qE(s,n){return Ou.register(n),it.forwardRef((i,o)=>rx.createElement(ZE,{...i,ref:o,type:s}))}const QE=qE("bar",iw);Ou.register(PE,HE,yE,vE,LE,CE);function KE(){const[s,n]=it.useState(null),[i,o]=it.useState(!0),[f,d]=it.useState(""),[m,A]=it.useState(""),E=async(L="",H="")=>{o(!0);let P="/api/metrics/";L&&H&&(P+=`?start_date=${L}&end_date=${H}`);try{const Z=await(await fetch(P)).json();n(Z)}catch(U){console.error("Failed to fetch metrics:",U)}finally{o(!1)}};it.useEffect(()=>{E()},[]);const b=()=>{f&&m&&E(f,m)},_={labels:s?.top_selling_categories.map(L=>L.jewelry_item__category)||[],datasets:[{label:"Sales Count by Category",data:s?.top_selling_categories.map(L=>L.count)||[],backgroundColor:"#c19a6b",borderColor:"#a98458",borderWidth:1}]},T={plugins:{legend:{labels:{color:"#333"}}},scales:{y:{ticks:{color:"#333"}},x:{ticks:{color:"#333"}}}},D=`/api/metrics/?start_date=${f}&end_date=${m}&format=csv`;return G.jsxs("div",{className:"dashboard-container",children:[G.jsx("h1",{children:"Sales Dashboard"}),G.jsxs("div",{className:"filter-container",children:[G.jsx("span",{children:"Start Date"}),G.jsx("input",{type:"date",value:f,onChange:L=>d(L.target.value)}),G.jsx("span",{children:"End Date"}),G.jsx("input",{type:"date",value:m,onChange:L=>A(L.target.value)}),G.jsx("button",{className:"filter-btn",onClick:b,children:"Filter"}),f&&m&&G.jsx("a",{href:D,className:"download-btn",download:!0,children:"Download CSV"})]}),i?G.jsx("div",{className:"loading",children:"Loading Dashboard..."}):s&&G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"metrics-grid",children:[G.jsxs("div",{className:"metric-card",children:[G.jsx("h2",{children:"Total Revenue"}),G.jsxs("p",{children:["₹",s.total_revenue]})]}),G.jsxs("div",{className:"metric-card",children:[G.jsx("h2",{children:"Total Sales"}),G.jsx("p",{children:s.total_sales})]})]}),G.jsxs("div",{className:"lists-container",children:[G.jsxs("div",{className:"list-card",children:[G.jsx("h3",{children:"Top 5 Selling Items"}),G.jsx("ul",{children:s.top_selling_items.map((L,H)=>G.jsxs("li",{children:[G.jsx("span",{children:L.jewelry_item__name}),G.jsxs("span",{children:[L.count," sold"]})]},H))})]}),G.jsxs("div",{className:"chart-card",children:[G.jsx("h3",{children:"Sales by Category"}),G.jsx(QE,{data:_,options:T})]})]})]})]})}function JE(){return G.jsx(ab,{children:G.jsxs("div",{children:[G.jsxs("nav",{className:"main-nav",children:[G.jsxs("div",{className:"logo-placeholder",children:[G.jsx("span",{className:"logo-full",children:"Kavs Glamstone"}),G.jsx("span",{className:"logo-short",children:"KG"})]}),G.jsx(Ao,{to:"/",className:({isActive:s})=>s?"active-link":"",children:"Inventory"}),G.jsx(Ao,{to:"/pos",className:({isActive:s})=>s?"active-link":"",children:"POS"}),G.jsx(Ao,{to:"/dashboard",className:({isActive:s})=>s?"active-link":"",children:"Dashboard"}),G.jsx(Ao,{to:"/reports",className:({isActive:s})=>s?"active-link":"",children:"Reports"})]}),G.jsx("div",{className:"content",children:G.jsxs(By,{children:[G.jsx(bo,{path:"/pos",element:G.jsx(i3,{})}),G.jsx(bo,{path:"/dashboard",element:G.jsx(KE,{})}),G.jsx(bo,{path:"/reports",element:G.jsx(a3,{})}),G.jsx(bo,{path:"/",element:G.jsx(mb,{})})]})})]})})}Yp.createRoot(document.getElementById("root")).render(G.jsx(it.StrictMode,{children:G.jsx(JE,{})}));
